<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/afuDat.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('afu_dat_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">afuDat.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Date manipulation functions from a financial view.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;carDef.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_fra_mth_typ.html">FraMthTyp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2dd243d725511acebe2ccbeeff8a2107"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a2dd243d725511acebe2ccbeeff8a2107">AFU_DAT_TRT</a>&#160;&#160;&#160;7018</td></tr>
<tr class="separator:a2dd243d725511acebe2ccbeeff8a2107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46db5aed009f230b9e4354c887bd531"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ae46db5aed009f230b9e4354c887bd531">MTH_NOT_TRT</a>&#160;&#160;&#160;10 /* Dates calculation method not supported */</td></tr>
<tr class="separator:ae46db5aed009f230b9e4354c887bd531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9773a6d274951719956cb107e71e44"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a8c9773a6d274951719956cb107e71e44">DEV_NOT_TRT</a>&#160;&#160;&#160;11 /* Country of the currency not supported */</td></tr>
<tr class="separator:a8c9773a6d274951719956cb107e71e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960a747400084a4f4131657d0dfd3bb7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a960a747400084a4f4131657d0dfd3bb7">MUT_NOT_FMT</a>&#160;&#160;&#160;12 /* Maturity string bad-formed */</td></tr>
<tr class="separator:a960a747400084a4f4131657d0dfd3bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f414b8c813447aed4f09e1671329cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#af9f414b8c813447aed4f09e1671329cf">INVALID_UNT</a>&#160;&#160;&#160;13 /* Unit is not valid */</td></tr>
<tr class="separator:af9f414b8c813447aed4f09e1671329cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a154d4689aa6baf2b14556b5b04653986"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a154d4689aa6baf2b14556b5b04653986">lcAFUdatDevWekEndDat</a> (char *Dat, void *LdDev, int *IsWekEnd, int *MinWe1, int *MaxWe2)</td></tr>
<tr class="memdesc:a154d4689aa6baf2b14556b5b04653986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check is the specidifed date is a weekend date for any currecny in the list In the case it is a weekend day, the weekend ranks are retuened in MinWe1 and MaxWe2. So, if in the list of currencies are distinct day ranks for weekends, the minimun and maximun are returned. If the date is not a weekend day, returned values are 0.  <a href="#a154d4689aa6baf2b14556b5b04653986"></a><br/></td></tr>
<tr class="separator:a154d4689aa6baf2b14556b5b04653986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17608246e59ca9b55adafbfd688d349c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a17608246e59ca9b55adafbfd688d349c">lcAFUdatFraStr</a> (int FraMthInt, char *FraMthStr)</td></tr>
<tr class="memdesc:a17608246e59ca9b55adafbfd688d349c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert FRA date calculation method enumerated value into string.  <a href="#a17608246e59ca9b55adafbfd688d349c"></a><br/></td></tr>
<tr class="separator:a17608246e59ca9b55adafbfd688d349c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba97fe69c4b7086d7126525e225a6dd6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#aba97fe69c4b7086d7126525e225a6dd6">lcAFUdatNthWeekDayMonth</a> (char *RefDat, int NbWeek, int WeekDay, char *ResDat)</td></tr>
<tr class="memdesc:aba97fe69c4b7086d7126525e225a6dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the Nth Weekday of a month.  <a href="#aba97fe69c4b7086d7126525e225a6dd6"></a><br/></td></tr>
<tr class="separator:aba97fe69c4b7086d7126525e225a6dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540b2887946da65b175b4dec382d0228"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a540b2887946da65b175b4dec382d0228">AFUdatCalValDatDev</a> (char *Dev, char *Dat, char *ValDat)</td></tr>
<tr class="memdesc:a540b2887946da65b175b4dec382d0228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate value date depending on the currency.  <a href="#a540b2887946da65b175b4dec382d0228"></a><br/></td></tr>
<tr class="separator:a540b2887946da65b175b4dec382d0228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5c9750b1cd9837f46dc8296e579ded"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a4f5c9750b1cd9837f46dc8296e579ded">AFUdatCalValDat</a> (char *Dat, char *ValDat)</td></tr>
<tr class="memdesc:a4f5c9750b1cd9837f46dc8296e579ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate value date.  <a href="#a4f5c9750b1cd9837f46dc8296e579ded"></a><br/></td></tr>
<tr class="separator:a4f5c9750b1cd9837f46dc8296e579ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad70afd577d8a787e2d6d936545175c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#aaad70afd577d8a787e2d6d936545175c">AFUdatDecalEndMth</a> (char *CalDat, int Mat, char *Unt, int Sns, char *Adj, char *Date)</td></tr>
<tr class="memdesc:aaad70afd577d8a787e2d6d936545175c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y with the posibility to adjust or NOT adjust the periods at the end of month, only when CalDat is end of month.  <a href="#aaad70afd577d8a787e2d6d936545175c"></a><br/></td></tr>
<tr class="separator:aaad70afd577d8a787e2d6d936545175c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a5fdb36f80941d4f724e79ed2741cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ad6a5fdb36f80941d4f724e79ed2741cb">AFUdatDecalMatUnt</a> (char *CalDat, int Mat, char *Unt, int Sns, char *Date)</td></tr>
<tr class="memdesc:ad6a5fdb36f80941d4f724e79ed2741cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y.  <a href="#ad6a5fdb36f80941d4f724e79ed2741cb"></a><br/></td></tr>
<tr class="separator:ad6a5fdb36f80941d4f724e79ed2741cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af214b9fbcb23a2733f4c48426193205b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#af214b9fbcb23a2733f4c48426193205b">AFUdatMatUnt2Mut</a> (int Mat, char *Unt, char *Mut)</td></tr>
<tr class="memdesc:af214b9fbcb23a2733f4c48426193205b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maturity string from the maturity and unit.  <a href="#af214b9fbcb23a2733f4c48426193205b"></a><br/></td></tr>
<tr class="separator:af214b9fbcb23a2733f4c48426193205b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d38c0cdf6a5f3f4683167470655001"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ab7d38c0cdf6a5f3f4683167470655001">AFUdatMut2MatUnt</a> (char *Mut, int *Mat, char *Unt)</td></tr>
<tr class="memdesc:ab7d38c0cdf6a5f3f4683167470655001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maturity string from the maturity and unit.  <a href="#ab7d38c0cdf6a5f3f4683167470655001"></a><br/></td></tr>
<tr class="separator:ab7d38c0cdf6a5f3f4683167470655001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17cf15bd410d7177ca507d7462baa02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#aa17cf15bd410d7177ca507d7462baa02">AFUdatIsCur</a> (char *Dat, <a class="el" href="afu__types_8h.html#a8e6dc39e1a845a7e90e4bbff510df6d1">AFUdatCurHis</a> *IsCur)</td></tr>
<tr class="memdesc:aa17cf15bd410d7177ca507d7462baa02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given date is current or historic.  <a href="#aa17cf15bd410d7177ca507d7462baa02"></a><br/></td></tr>
<tr class="separator:aa17cf15bd410d7177ca507d7462baa02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4404bf0665b6f6b57502f8e80155a11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ac4404bf0665b6f6b57502f8e80155a11">MRGdate</a> (void *Ctx, void *LdCtr, char *DatCal, char *Pays, char *Mrg, int Mod, char *DatDec, char *Prd, char *Ctr)</td></tr>
<tr class="memdesc:ac4404bf0665b6f6b57502f8e80155a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the settlement date.  <a href="#ac4404bf0665b6f6b57502f8e80155a11"></a><br/></td></tr>
<tr class="separator:ac4404bf0665b6f6b57502f8e80155a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5877f082f26f85e9804297438d64e811"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a5877f082f26f85e9804297438d64e811">nbj_reglement</a> (char *reg)</td></tr>
<tr class="memdesc:a5877f082f26f85e9804297438d64e811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set correct Settelement Mode.  <a href="#a5877f082f26f85e9804297438d64e811"></a><br/></td></tr>
<tr class="separator:a5877f082f26f85e9804297438d64e811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327a1a7f5f615a156ddb7c7f724d0969"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a327a1a7f5f615a156ddb7c7f724d0969">datDate_shift</a> (char *RefDate, int ShiftAmount, char *ShiftUnit, char *Dev, int Method, int FixLag, char *InitDate, int NbDates, char *ResDate)</td></tr>
<tr class="memdesc:a327a1a7f5f615a156ddb7c7f724d0969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate a shifted date from a reference date.  <a href="#a327a1a7f5f615a156ddb7c7f724d0969"></a><br/></td></tr>
<tr class="separator:a327a1a7f5f615a156ddb7c7f724d0969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f0f147d6a0d2631170a818f544cac2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a12f0f147d6a0d2631170a818f544cac2">datGetListDates</a> (int Mth, int NbDat, char *RefDat, char *Dev, int FixLag, void **LdDat)</td></tr>
<tr class="memdesc:a12f0f147d6a0d2631170a818f544cac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate a list of dates according to a given method.  <a href="#a12f0f147d6a0d2631170a818f544cac2"></a><br/></td></tr>
<tr class="separator:a12f0f147d6a0d2631170a818f544cac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6ec50c212cf8ca844b3a129c8da116"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#abf6ec50c212cf8ca844b3a129c8da116">datFraMth</a> (char *FraMthStr, int *FraMthInt)</td></tr>
<tr class="memdesc:abf6ec50c212cf8ca844b3a129c8da116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert FRA date calculation method string into enumerated value.  <a href="#abf6ec50c212cf8ca844b3a129c8da116"></a><br/></td></tr>
<tr class="separator:abf6ec50c212cf8ca844b3a129c8da116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe77f2c246682f35bf0ecb5da8ccd636"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#afe77f2c246682f35bf0ecb5da8ccd636">DATcalPrevEndOfMonths</a> (char *RefDat, char *Dev, int NbYears, void **LdDat)</td></tr>
<tr class="memdesc:afe77f2c246682f35bf0ecb5da8ccd636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dates of previous end of months.  <a href="#afe77f2c246682f35bf0ecb5da8ccd636"></a><br/></td></tr>
<tr class="separator:afe77f2c246682f35bf0ecb5da8ccd636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947ac099301e33dcbdc92bec7c015d5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a947ac099301e33dcbdc92bec7c015d5a">AFUdatFxgDat</a> (char *FxgTyp, int Flg, char *Bdt, char *Edt, char *Dev, char *Dtf)</td></tr>
<tr class="memdesc:a947ac099301e33dcbdc92bec7c015d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcualte fixing date of a period.  <a href="#a947ac099301e33dcbdc92bec7c015d5a"></a><br/></td></tr>
<tr class="separator:a947ac099301e33dcbdc92bec7c015d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a92bfbeec6168f72ab03870bdf5aefe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a4a92bfbeec6168f72ab03870bdf5aefe">AFUdatFxgDatFda</a> (char *FxgTyp, int Flg, char *Bdt, char *Edt, int Fda, int DlyPer, char *DlyUnt, char *Dev, char *Dtf)</td></tr>
<tr class="memdesc:a4a92bfbeec6168f72ab03870bdf5aefe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcualte fixing date of a period taking into acount Fda.  <a href="#a4a92bfbeec6168f72ab03870bdf5aefe"></a><br/></td></tr>
<tr class="separator:a4a92bfbeec6168f72ab03870bdf5aefe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6764100097fd09b485eaa1892c76ccbd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a6764100097fd09b485eaa1892c76ccbd">AFUdatPayDat</a> (char *Dat, int Plg, char *AdjPay, char *AdjMth, char *Dev, char *Pdt)</td></tr>
<tr class="memdesc:a6764100097fd09b485eaa1892c76ccbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the date (Payment and fixing dates)  <a href="#a6764100097fd09b485eaa1892c76ccbd"></a><br/></td></tr>
<tr class="separator:a6764100097fd09b485eaa1892c76ccbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d30c64bac570c29023f55c32032130"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a44d30c64bac570c29023f55c32032130">AFUdatOpenDat</a> (char *Dat, char *AdjMth, void *LdDev, char *OpenDat)</td></tr>
<tr class="memdesc:a44d30c64bac570c29023f55c32032130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust a date to an open date according to a adjustment method.  <a href="#a44d30c64bac570c29023f55c32032130"></a><br/></td></tr>
<tr class="separator:a44d30c64bac570c29023f55c32032130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab192bc972ad0581cdc053d13d51e649d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ab192bc972ad0581cdc053d13d51e649d">AFUdatGetDatLst</a> (void *LdDev, char *Bdt, char *Edt, int WekNum, int WekDay, int Per, char *Unt, char *AdjMth, void **LdDat)</td></tr>
<tr class="memdesc:ab192bc972ad0581cdc053d13d51e649d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a dates list according to some conditions (ordinal of week, day, period ...)  <a href="#ab192bc972ad0581cdc053d13d51e649d"></a><br/></td></tr>
<tr class="separator:ab192bc972ad0581cdc053d13d51e649d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbc7fcf3f169ddc6bf39355e3721b52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a3cbc7fcf3f169ddc6bf39355e3721b52">AFUdatSpoDat</a> (char *Dat, char *Dev1, char *Dev2, int SpoNbDay, char *SpoDat)</td></tr>
<tr class="memdesc:a3cbc7fcf3f169ddc6bf39355e3721b52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the spot date for a date and 2 currencies.  <a href="#a3cbc7fcf3f169ddc6bf39355e3721b52"></a><br/></td></tr>
<tr class="separator:a3cbc7fcf3f169ddc6bf39355e3721b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0e58bbd6dadfcd753f9b7a8ceb610c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a5a0e58bbd6dadfcd753f9b7a8ceb610c">AFUdatGetDevSpoDat</a> (char *Dat, char *Dev, int NbDay, char *SpoDat)</td></tr>
<tr class="memdesc:a5a0e58bbd6dadfcd753f9b7a8ceb610c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the spot date of a currency in a given date.  <a href="#a5a0e58bbd6dadfcd753f9b7a8ceb610c"></a><br/></td></tr>
<tr class="separator:a5a0e58bbd6dadfcd753f9b7a8ceb610c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38828110487f917ac5df50c30050b36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#ae38828110487f917ac5df50c30050b36">AFUdatMovWekDay</a> (char *RefDat, char *Dev, int NbDay, char *ResDat)</td></tr>
<tr class="memdesc:ae38828110487f917ac5df50c30050b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move a number of non-weekend days from a date.  <a href="#ae38828110487f917ac5df50c30050b36"></a><br/></td></tr>
<tr class="separator:ae38828110487f917ac5df50c30050b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0ffcf793425f4e322277cc29e52c5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a7a0ffcf793425f4e322277cc29e52c5a">AFUdatGetLagSpo</a> (int *LagSpo)</td></tr>
<tr class="memdesc:a7a0ffcf793425f4e322277cc29e52c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the lag to get in spot.  <a href="#a7a0ffcf793425f4e322277cc29e52c5a"></a><br/></td></tr>
<tr class="separator:a7a0ffcf793425f4e322277cc29e52c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c6563f413480fd8c1beddfcb3a59bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a11c6563f413480fd8c1beddfcb3a59bb">AFUdatOpnCloDev</a> (void *Ctx, char *Dat, void **LdOpnDev, void **LdCloDev)</td></tr>
<tr class="memdesc:a11c6563f413480fd8c1beddfcb3a59bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">For active currencies, return the open and closed currencies in a specified date.  <a href="#a11c6563f413480fd8c1beddfcb3a59bb"></a><br/></td></tr>
<tr class="separator:a11c6563f413480fd8c1beddfcb3a59bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b71514ce254ad8fc4745fc3a307512e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a8b71514ce254ad8fc4745fc3a307512e">AFUdatGetLstDat</a> (char *Bdt, char *Edt, char *Shl, char *Brk, char *EndMth, char *Adj, char *AdjSco, char *AdjMth, void *LdDev, int Mat, char *Unt, void *LdSch)</td></tr>
<tr class="memdesc:a8b71514ce254ad8fc4745fc3a307512e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of periods between two limits with a frequency.  <a href="#a8b71514ce254ad8fc4745fc3a307512e"></a><br/></td></tr>
<tr class="separator:a8b71514ce254ad8fc4745fc3a307512e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512efaa802391268989a6a310c5ec4f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a512efaa802391268989a6a310c5ec4f2">AFUdatWekDat</a> (char *Dat, void *LdDev, char *AdjMth, char *WekDat)</td></tr>
<tr class="memdesc:a512efaa802391268989a6a310c5ec4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust a date to a week date according to a adjustment method If there is several currecies, the weekend day ranks are considered the minimun and maximun values of weekend days. So, e.g for EUR and DZD the weekend days are considered 5:Friday, 6:Saturday and 7:Sunday If EUR and GBP the weekend days are considered 6:Saturday and 7:Sunday If DZD the weekend days are considered 5:Friday and 6:Saturday Note that weekend first day rank always must be greater than weekend second day rank.  <a href="#a512efaa802391268989a6a310c5ec4f2"></a><br/></td></tr>
<tr class="separator:a512efaa802391268989a6a310c5ec4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a769d15cf91d05a35b6f38b02b7c64a91"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_fra_mth_typ.html">FraMthTyp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="afu_dat_8c.html#a769d15cf91d05a35b6f38b02b7c64a91">FraMth</a> []</td></tr>
<tr class="separator:a769d15cf91d05a35b6f38b02b7c64a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Date manipulation functions from a financial view. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="afu__def_8h.html" title="ALMIS finantial general utilities header file.">afu_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>AFUdat</dd></dl>
<dl class="section user"><dt>Library</dt><dd>afu</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 29/Mar/2002 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a2dd243d725511acebe2ccbeeff8a2107"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AFU_DAT_TRT&#160;&#160;&#160;7018</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c9773a6d274951719956cb107e71e44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEV_NOT_TRT&#160;&#160;&#160;11 /* Country of the currency not supported */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af9f414b8c813447aed4f09e1671329cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVALID_UNT&#160;&#160;&#160;13 /* Unit is not valid */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae46db5aed009f230b9e4354c887bd531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MTH_NOT_TRT&#160;&#160;&#160;10 /* Dates calculation method not supported */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a960a747400084a4f4131657d0dfd3bb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MUT_NOT_FMT&#160;&#160;&#160;12 /* Maturity string bad-formed */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4f5c9750b1cd9837f46dc8296e579ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatCalValDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ValDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate value date. </p>
<p>Calculate value date. Use devComp AO. More information in AFUdatCalValDatDev</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ValDat</td><td>(out) Value date (RemDec)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA &amp; Ramon MARTINEZ - 11/Feb/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitziber BARRERO - 10/Sep/2002. Add RemDec=2 option and use AFUdatCalValDatDev function</li>
<li>Aitziber BARRERO - 08/Jan/2007: Correct the description. More information in AFUdatCalValDatDev function</li>
<li>Ramon MARTINEZ - 26/Oct/2011: Improve header</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#a540b2887946da65b175b4dec382d0228" title="Calculate value date depending on the currency.">AFUdatCalValDatDev</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a540b2887946da65b175b4dec382d0228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatCalValDatDev </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ValDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate value date depending on the currency. </p>
<p>Calculate value date. Use RemDec AO.</p>
<ul>
<li>If RemDec is 1, the value date is the first open date after Dat. But if there is month change between Dat and the first open date after it, the value date is the first day of the next month</li>
<li>If RemDec is 2, the value date is the next calendar date (moved number of days = 1)</li>
<li>Else, the value date is Dat</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dev</td><td>Currency </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ValDat</td><td>(out) Value date (RemDec)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitziber BARRERO - 10/Sep/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitziber BARRERO - 09/Jan/2007: Complete the description</li>
<li>Gema ACHA - 18/Jan/2007: Complete the description</li>
<li>Ramon MARTINEZ - 26/Oct/2011: Improve header</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#a4f5c9750b1cd9837f46dc8296e579ded" title="Calculate value date.">AFUdatCalValDat</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaad70afd577d8a787e2d6d936545175c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatDecalEndMth </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Adj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y with the posibility to adjust or NOT adjust the periods at the end of month, only when CalDat is end of month. </p>
<p>Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y with the posibility to adjust or NOT adjust the periods at the end of month, only when CalDat is end of month.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date, e.g. "21-FEB-1999" </td></tr>
    <tr><td class="paramname">Mat</td><td>Maturity, e.g. 2 </td></tr>
    <tr><td class="paramname">Unt</td><td>Unit, e.g. "Y" </td></tr>
    <tr><td class="paramname">Sns</td><td>Sens: 1 or -1 e.g. -1 means backwards </td></tr>
    <tr><td class="paramname">Adj</td><td>Adj. at end of month e.g. "Yes" or "No" </td></tr>
    <tr><td class="paramname">Date</td><td>(out) Resulting date (CDA_TYPE)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 05/Feb/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 10/Sep/2015: Check if it is end of month using clCalDateDayGap instead of strcmp </li>
</ul>

</div>
</div>
<a class="anchor" id="ad6a5fdb36f80941d4f724e79ed2741cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatDecalMatUnt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y. </p>
<p>Calculates Date + Mat/Unit, e.g. "21-FEB-1999" + 2Y.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date, e.g. "21-FEB-1999" </td></tr>
    <tr><td class="paramname">Mat</td><td>Maturity, e.g. 2 </td></tr>
    <tr><td class="paramname">Unt</td><td>Unit, e.g. "Y" </td></tr>
    <tr><td class="paramname">Sns</td><td>Sens: 1 or -1 e.g. -1 means backwards </td></tr>
    <tr><td class="paramname">Date</td><td>(out) Resulting date (CDA_TYPE)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 01/Apr/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 01/Oct/2003: initialize RoundEndMonth to avoid warning</li>
<li>Edurne GORDOA - 10/Sep/2015: Check if it is end of month using clCalDateDayGap instead of strcmp </li>
</ul>

</div>
</div>
<a class="anchor" id="a947ac099301e33dcbdc92bec7c015d5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatFxgDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FxgTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Flg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcualte fixing date of a period. </p>
<p>Calcualte fixing date of a period</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FxgTyp</td><td>Fixing type </td></tr>
    <tr><td class="paramname">-</td><td>None No fixing date </td></tr>
    <tr><td class="paramname">-</td><td>Post-fixing Fixing date is calculated from end date </td></tr>
    <tr><td class="paramname">-</td><td>Pre-fixing Fixing date is calcuated from begin date </td></tr>
    <tr><td class="paramname">Flg</td><td>Fixing lag </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the period </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the period </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency </td></tr>
    <tr><td class="paramname">Dtf</td><td>(out) Variable to copy the fixing date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Mar/2002.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 03/Feb/2003: Moved from <a class="el" href="calendar_8c.html">calendar.c</a></li>
<li>Gotzon ETXEBERRIA - 01/Oct/2003: initialise Dat to ""</li>
<li>Manuel SANMARTIN - 02/Feb/2010: Use AFU_DAM_FOL to calculate the payment date when is closed</li>
<li>Alex RODRIGUEZ - 15/Sep/2010: Add AdjPay = 'Yes' to AFUdatPayDat function. </li>
</ul>

</div>
</div>
<a class="anchor" id="a4a92bfbeec6168f72ab03870bdf5aefe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatFxgDatFda </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FxgTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Flg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Fda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>DlyPer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DlyUnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcualte fixing date of a period taking into acount Fda. </p>
<p>Calcualte fixing date of a period taking into acount Fda. Fda sets the day of the month when the fixing must be done (an open date)</p>
<ul>
<li>- The function calculates the fixing date.</li>
<li>- If Fda is not 0</li>
<li>+ It moves the fixing date (Fdt) to the previous Fda date.</li>
<li><p class="startli">+ If the Fdt was less than Fda, previous month</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FxgTyp</td><td>Fixing type </td></tr>
    <tr><td class="paramname">-</td><td>None No fixing date </td></tr>
    <tr><td class="paramname">-</td><td>Post-fixing Fixing date is calculated from end date </td></tr>
    <tr><td class="paramname">-</td><td>Pre-fixing Fixing date is calcuated from begin date </td></tr>
    <tr><td class="paramname">Flg</td><td>Fixing lag </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the period </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the period </td></tr>
    <tr><td class="paramname">Fda</td><td>Fixing date: depending on the method, day number of the month for fixing date </td></tr>
    <tr><td class="paramname">DlyPer</td><td>Delay period (Depending on the method, fixing date delay units) e.g.: M </td></tr>
    <tr><td class="paramname">DlyUnt</td><td>Delay units (Depending on the method, fixing date delay number) e.g.: 1 </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency </td></tr>
    <tr><td class="paramname">Dtf</td><td>(out) Variable to copy the fixing date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 30/Apr/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 15/Sep/2010: Add AdjPay = 'Yes' to AFUdatPayDat function.</li>
</ul>
<div class="fragment"><div class="line">*-           - Example1:</div>
<div class="line">*-              - Fdt = 12-MAY-2005, Fda = 5, Delay: 0</div>
<div class="line">*-              - Resulting date: 05-MAY-2005</div>
<div class="line">*-           - Example2:</div>
<div class="line">*-              - Fdt = 03-MAY-2005, Fda = 5, Delay: 0</div>
<div class="line">*-              - Resulting date: 05-APR-2005</div>
<div class="line">*-           - Example3:</div>
<div class="line">*-              - Fdt = 12-MAY-2005, Fda = 5, Delay: 1</div>
<div class="line">*-              - Resulting date: 05-APR-2005</div>
<div class="line">*- The most clear example is the EURIBOR BOE, which is fixed the 5 of each month. This functions</div>
<div class="line">   returns the previous 5 of Bdt or Edt, depending on the FxgTyp</div>
</div><!-- fragment --> </li>
</ul>

</div>
</div>
<a class="anchor" id="ab192bc972ad0581cdc053d13d51e649d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatGetDatLst </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>WekNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>WekDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Per</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a dates list according to some conditions (ordinal of week, day, period ...) </p>
<p>Returns a dates list that matches the conditions passed by argument. The dates list</p>
<ul>
<li>has to be:</li>
<li>- between Bdt and Edt</li>
<li>and only the dates that are:</li>
<li>- every WekDay (Monday ...) of WekNum (the 3rd week ...) of the month</li>
<li>- the previous conditions are repeated each Per - Unt (e.g.: 1 M)</li>
<li>are taken into the returned list.</li>
<li>If an adjustment method is passed, the dates are adjusted to an open date according to the adjustment method</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDev</td><td>List of currencies to know the used calendar to recover the open days. It must have at least one column 'Dev' </td></tr>
    <tr><td class="paramname">Bdt</td><td>Starting date. It can not be NULL nor empty </td></tr>
    <tr><td class="paramname">Edt</td><td>End date. It can not be NULL nor empty </td></tr>
    <tr><td class="paramname">WekNum</td><td>Ordinal of the week in a month (e.g. 3: 3rd week of the month). If nothing: -1. </td></tr>
    <tr><td class="paramname">WekDay</td><td>Ordinal of the day in a weel (1:Monday ... 7:Sunday). If nothing: -1. </td></tr>
    <tr><td class="paramname">Per</td><td>Period. If nothing: -1. </td></tr>
    <tr><td class="paramname">Unt</td><td>Unit ("D", "W", "M", "Y"). If nothing: NULL. </td></tr>
    <tr><td class="paramname">AdjMth</td><td>Adjustment method ("Preceding", "Modify-following", "Modify-preceding", "Following", "Modify-foll-mid", "Last-month", "Open-month"). Otherwise, NULL. </td></tr>
    <tr><td class="paramname">LdDat</td><td>(out) Resulting dates list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/Jul/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 13/Nov/2007: From now on the function receives a list of currencies for calculating the dates instead of only one currency. Modify the callings to AFUdatOpenDat that receives also a list of currencies</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNajoutexCol must have size with type size_t</li>
<li>Ramon MARTINEZ - 15/Jan/2014: Add "see" section</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#a12f0f147d6a0d2631170a818f544cac2" title="Calculate a list of dates according to a given method.">datGetListDates</a>, clMovDateMultiRules (from cal), clMovDateMultiRulesPlus (from cal) </dd></dl>

</div>
</div>
<a class="anchor" id="a5a0e58bbd6dadfcd753f9b7a8ceb610c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatGetDevSpoDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SpoDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the spot date of a currency in a given date. </p>
<p>Get the spot date of a currency in a given date If this currency is the USD</p>
<ul>
<li>Add a number non-weekend days</li>
<li>Return that day or, if is closed, the next open day for USD If it is any other currency</li>
<li>Add a number open days for the currency</li>
<li>Return that day or, if is closed for USD, the next open day for both</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Reference date </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency </td></tr>
    <tr><td class="paramname">NbDay</td><td>Number of days of the spot lag </td></tr>
    <tr><td class="paramname">SpoDat</td><td>(out). Resultant spot date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 : OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 24/Nov/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 15/Nov/2005: Moved to AFU (from FRXdevSpotNbDays in FIT)</li>
<li>Nerea RAMOS - 24/Nov/2017: Changed AFUdatMovWekDay parameters </li>
</ul>

</div>
</div>
<a class="anchor" id="a7a0ffcf793425f4e322277cc29e52c5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatGetLagSpo </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>LagSpo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the lag to get in spot. </p>
<p>Returns the number of spot day's</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LagSpo</td><td>(Out) Number of spot day's lag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 15/Nov/2005 </dd></dl>

</div>
</div>
<a class="anchor" id="a8b71514ce254ad8fc4745fc3a307512e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatGetLstDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Shl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Brk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Adj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjSco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of periods between two limits with a frequency. </p>
<p>Get list of periods between two limits with a frequency</p>
<ul>
<li>Starting from the end date, go backwards with the required frequency.</li>
<li>If 'AdjSco' = "All", then adjust obtained dates into open dates according to the adjustment method</li>
<li>If 'AdjSco' = "WekEnd", then adjust according to the adjustment method to a week day</li>
<li><p class="startli">Convert the list of dates in a list of periods</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Bdt</td><td>Begin date </td></tr>
    <tr><td class="paramname">Edt</td><td>End date </td></tr>
    <tr><td class="paramname">Shl</td><td>Irregular periods are short or long </td></tr>
    <tr><td class="paramname">Brk</td><td>Broken period at the end of schedule or at begin. Possible values: End or Begin </td></tr>
    <tr><td class="paramname">EndMth</td><td>Adjustment at the end of month: "Yes", "No" </td></tr>
    <tr><td class="paramname">Adj</td><td>If the dates must be adjusted or not. Possible values:<ul>
<li>"No" the dates are not adjusted</li>
<li>"Yes" all dates except the begin date of the first period are adjusted</li>
<li>"All" all dates including the first one are adjusted </li>
</ul>
</td></tr>
    <tr><td class="paramname">AdjSco</td><td>Adjustment scope in case the adjustment is required. Possible values:<ul>
<li>"All" all the closed days are adjusted</li>
<li>"WekEnd" only weekend days are adjusted </li>
</ul>
</td></tr>
    <tr><td class="paramname">AdjMth</td><td>Method to adjust dates in case they have to. </td></tr>
    <tr><td class="paramname">LdDev</td><td>List of currencies to know the used calendar to recover the open days. It must have at least one column 'Dev' </td></tr>
    <tr><td class="paramname">Mat</td><td>Frequency maturity of every period </td></tr>
    <tr><td class="paramname">Unt</td><td>Frequency unit of every period </td></tr>
    <tr><td class="paramname">LdSch</td><td>(in/out) List of dates ("bdt", "edt")</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 06/Mar/2002.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 23/May/2002. Adjust also the end date of deal</li>
<li>Basilio TAMAYO - 28/May/2002. If frequency in zero, create one single flow</li>
<li>Alex RODRIGUEZ - 21/Mar/2003. Rename CL_PayDat &ndash;&gt; AFUdatOpenDat.</li>
<li>Gotzon ETXEBERRIA - 10/Nov/2004: If last period lasts 0 days, delete last date. Use DYNcbnChk.</li>
<li>Gotzon ETXEBERRIA - 17/Nov/2004: Fix bug in DYNcbnChk use</li>
<li>Ramon MARTINEZ - 04/Apr/2006: Bring the function from FIT</li>
<li>Basilio TAMAYO - 17/May/2006: Treat new Shl value: "Shr1M", creates a short period if the period is longer than one month, otherwise makes a long period.</li>
<li>Basilio TAMAYO - 10/May/2007: When the time between Bdt and Edt is shorter than a period and it is defined as "Long" make define at least one period.</li>
<li>Gotzon ETXEBERRIA - 18/Jun/2007: calculate periods allways from last end date, not from last subperiod end date, to avoid problems with end of month dates.</li>
<li>Josune BIKUNA - 25/Sep/2007: Add AdjSco (adjustment scope) parameter, this is, which are the date that must be adjusted in case it must be. See parameter description</li>
<li>Josune BIKUNA - 25/Sep/2007: The flag that indicates if the closed dates must be adjusted or not has from now on two possibilities in case the adjustment must be done.</li>
<li>Josune BIKUNA - 09/Nov/2007: rename 'AdjScp' -&gt; 'AdjSco'</li>
<li>Josune BIKUNA - 13/Nov/2007: From now on the function receives a list of currencies for calculating the dates instead of only one currency</li>
<li>Jon BARRUTIA - 16/Jan/2008: Corrected the treatment when 'WekEnd'. It should return always a week day (closed or not).</li>
<li>Josune BIKUNA - 20/Oct/2008: Use CLINT type instead of int in cardinal functions</li>
<li>Manuel SANMARTIN - 02/Feb/2009: Added broken period and end month adjusted flag</li>
<li>Alex RODRIGUEZ - 10/Sep/2010: Convert YesAll string to All</li>
<li>Aitor UGARTE - 29/Oct/2012: Fix doxygen warnings</li>
<li>Nerea RAMOS - 22/Nov/2017: Get weekends days from get_cty_wek, because now some countries have Fridays (5) and Saturdays (6) as weekend days, instead of Saturdays (6) and Sundays (7). Call to lcAFUdatDevWekEndDat to verify if the date is weekend day or not. Also call to AFUdatWekDat with LdDev parameter </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aa17cf15bd410d7177ca507d7462baa02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatIsCur </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="afu__types_8h.html#a8e6dc39e1a845a7e90e4bbff510df6d1">AFUdatCurHis</a> *&#160;</td>
          <td class="paramname"><em>IsCur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a given date is current or historic. </p>
<p>Check if a given date is current or historic</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Date to check </td></tr>
    <tr><td class="paramname">IsCur</td><td>(out) datCur if it's current, datHis if it's historic.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Iker ZURIARRAIN - 14/Oct/2005. </dd></dl>

</div>
</div>
<a class="anchor" id="af214b9fbcb23a2733f4c48426193205b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatMatUnt2Mut </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maturity string from the maturity and unit. </p>
<p>Get the maturity string from the maturity and unit</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Mat</td><td>Maturity, e.g. 2 </td></tr>
    <tr><td class="paramname">Unt</td><td>Unit, e.g. "Y" </td></tr>
    <tr><td class="paramname">Mut</td><td>(out) String with maturity. It must be MUT_TYPE. e.g. "2 years"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Mar/2006</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#ab7d38c0cdf6a5f3f4683167470655001" title="Get the maturity string from the maturity and unit.">AFUdatMut2MatUnt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae38828110487f917ac5df50c30050b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatMovWekDay </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ResDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move a number of non-weekend days from a date. </p>
<p>Move a number of non-weekend days from a date. Calculate how many days are the NbDay non-weekend days and move them from the RefDat</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefDat</td><td>Reference date </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency </td></tr>
    <tr><td class="paramname">NbDay</td><td>Number of non-weekend days to move </td></tr>
    <tr><td class="paramname">ResDat</td><td>(out). Calculated date.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 : OK)</dd></dl>
<dl class="section user"><dt>Algorithm</dt><dd><pre class="fragment">Five non-weekend days equal one week. So, for each group of 5, add 2 more days
With the rest of non-weekend days, if pass to another week, add 2 days of weekend.
If RefDat is Saturday start the decal from Sunday.
For negative decalages, the algorithm is equivalent.
</pre></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Oct/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 15/Nov/2005: Moved to AFU (from decalNoWeekendDays in FIT)</li>
<li>Nerea RAMOS - 22/Nov/2017: Add currency parameter. Get weekends days from get_cty_wek, because now some countries have Fridays (5) and Saturdays (6) as weekend days, instead of Saturdays (6) and Sundays (7). Adapt for Muslim weekends </li>
</ul>

</div>
</div>
<a class="anchor" id="ab7d38c0cdf6a5f3f4683167470655001"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatMut2MatUnt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maturity string from the maturity and unit. </p>
<p>Get the maturity string from the maturity and unit</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Mut</td><td>String with maturity. e.g. "2 years" </td></tr>
    <tr><td class="paramname">Mat</td><td>(out) Maturity, e.g. 2 </td></tr>
    <tr><td class="paramname">Unt</td><td>(out) Unit, e.g. "Y". Must have reserved memory (UNT_TYPE)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Mar/2006</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#af214b9fbcb23a2733f4c48426193205b" title="Get the maturity string from the maturity and unit.">AFUdatMatUnt2Mut</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a44d30c64bac570c29023f55c32032130"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatOpenDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OpenDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust a date to an open date according to a adjustment method. </p>
<p>Adjust a date to an open date according to a adjustment method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Starting date </td></tr>
    <tr><td class="paramname">AdjMth</td><td>Adjustment method </td></tr>
    <tr><td class="paramname">LdDev</td><td>List of currencies for which the open date must be calculate. This list must have at least one column "Dev" with the currencies to treat. </td></tr>
    <tr><td class="paramname">OpenDat</td><td>(out) Resulting date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Mar/2002.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 03/Feb/2003: Moved from <a class="el" href="calendar_8c.html">calendar.c</a></li>
<li>Josune BIKUNA - 13/Nov/2007: From now on the function receives a list of currencies for calculating the open dates instead of only one currency</li>
<li>Jon BARRUTIA - 17/Jan/2008: Use macro-definitions for the adjustment modes </li>
</ul>

</div>
</div>
<a class="anchor" id="a11c6563f413480fd8c1beddfcb3a59bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatOpnCloDev </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdOpnDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCloDev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For active currencies, return the open and closed currencies in a specified date. </p>
<p>For active currencies, returns two lists, one with the open currencies and another one with the closed currencies in a specified date.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdOpnDev</td><td>(Out) List of open active currencies for a date </td></tr>
    <tr><td class="paramname">LdCloDev</td><td>(Out) List of closed active currencies for a date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitziber BARRERO - 28/Dec/2005 </dd></dl>

</div>
</div>
<a class="anchor" id="a6764100097fd09b485eaa1892c76ccbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatPayDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Plg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjPay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pdt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the date (Payment and fixing dates) </p>
<p>Calculate the date (Payment and fixing dates). Starting from Dat, and according to the payment lag and payment adjustment parameters, obtain the payment/fixing day.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Date we start searching from </td></tr>
    <tr><td class="paramname">Plg</td><td>Payment lag (can be positive or negative) </td></tr>
    <tr><td class="paramname">AdjPay</td><td>If the payment dates must be adjusted or not. Possible values:<ul>
<li>"Yes" The payment dates are adjusted</li>
<li>"No" The payment dates are not adjusted </li>
</ul>
</td></tr>
    <tr><td class="paramname">AdjMth</td><td>Adjustment method </td></tr>
    <tr><td class="paramname">Dev</td><td>Payment currency </td></tr>
    <tr><td class="paramname">Pdt</td><td>(out) Variable to copy the payment/fixing date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Mar/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 03/Feb/2003: Moved from <a class="el" href="calendar_8c.html">calendar.c</a></li>
<li>Josune BIKUNA - 13/Nov/2007: Modify the calling to AFUdatOpenDat passing a list of currencies instead of only one currency</li>
<li>Jon BARRUTIA - 17/Jan/2008: Use macro-definitions for the adjustment modes</li>
<li>Manuel SANMARTIN - 02/Feb/2010: Use the AdjMth to calculate the payment date when is closed</li>
<li>Alex RODRIGUEZ - 15/Sep/2010: Add AdjPay parameter and its managment.</li>
<li>Aitor UGARTE - 29/Oct/2012: Fix doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a3cbc7fcf3f169ddc6bf39355e3721b52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatSpoDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SpoNbDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SpoDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the spot date for a date and 2 currencies. </p>
<p>Get the spot date for a date and 2 currencies</p>
<ul>
<li>+ Get the spot date for each currency.</li>
<li>+ If are equal, that is</li>
<li><p class="startli">+ else, from the latest one, get the next open date for both currencies</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Reference date </td></tr>
    <tr><td class="paramname">Dev1</td><td>Main currency of forex. </td></tr>
    <tr><td class="paramname">Dev2</td><td>Secondary currency of forex. </td></tr>
    <tr><td class="paramname">SpoNbDay</td><td>Number of days before the maturity date to consider that the forward becomes a spot </td></tr>
    <tr><td class="paramname">SpoDat</td><td>(out). Resultant spot date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 : OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO 02/Aug/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 10/Apr/2001. Add SpoNbDay parameter</li>
<li>Jon BARRUTIA - 15/Nov/2005: Moved to AFU (from FRXvalueDate in FIT) </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a512efaa802391268989a6a310c5ec4f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AFUdatWekDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AdjMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>WekDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust a date to a week date according to a adjustment method If there is several currecies, the weekend day ranks are considered the minimun and maximun values of weekend days. So, e.g for EUR and DZD the weekend days are considered 5:Friday, 6:Saturday and 7:Sunday If EUR and GBP the weekend days are considered 6:Saturday and 7:Sunday If DZD the weekend days are considered 5:Friday and 6:Saturday Note that weekend first day rank always must be greater than weekend second day rank. </p>
<p>Adjust a date to a week date according to a adjustment method. Tests:</p>
<ul>
<li>Following &ndash;&gt; Only no Muslim currenries &ndash;&gt; Also With a Muslim currency<ul>
<li>26-JAN-2008 &ndash;&gt; 28-JAN-2008 &ndash;&gt; 28-JAN-2008</li>
<li>31-JAN-2008 &ndash;&gt; 31-JAN-2008 &ndash;&gt; 31-JAN-2008</li>
<li>31-MAY-2008 &ndash;&gt; 02-JUN-2008 &ndash;&gt; 02-JUN-2008</li>
<li>01-DEC-2007 &ndash;&gt; 03-DEC-2007 &ndash;&gt; 02-JUN-2008</li>
<li>01-JUN-2008 &ndash;&gt; 02-JUN-2008 &ndash;&gt; 02-JUN-2008</li>
<li>25-Nov-2017 &ndash;&gt; 27-NOV-2017 &ndash;&gt; 27-NOV-2017</li>
</ul>
</li>
<li>Preceding<ul>
<li>26-JAN-2008 &ndash;&gt; 25-JAN-2008 &ndash;&gt; 24-JAN-2008</li>
<li>31-JAN-2008 &ndash;&gt; 31-JAN-2008 &ndash;&gt; 31-JAN-2008</li>
<li>31-MAY-2008 &ndash;&gt; 30-MAY-2008 &ndash;&gt; 29-MAY-2008</li>
<li>01-DEC-2007 &ndash;&gt; 30-NOV-2008 &ndash;&gt; 29-NOV-2008</li>
<li>01-JUN-2008 &ndash;&gt; 30-MAY-2008 &ndash;&gt; 29-MAY-2008</li>
<li>25-Nov-2017 &ndash;&gt; 24-NOV-2017 &ndash;&gt; 23-NOV-2017</li>
</ul>
</li>
<li>Modify-following<ul>
<li>26-JAN-2008 &ndash;&gt; 28-JAN-2008 &ndash;&gt; 28-JAN-2008</li>
<li>31-JAN-2008 &ndash;&gt; 31-JAN-2008 &ndash;&gt; 31-JAN-2008</li>
<li>31-MAY-2008 &ndash;&gt; 30-MAY-2008 &ndash;&gt; 29-JAN-2008</li>
<li>01-DEC-2007 &ndash;&gt; 03-DEC-2007 &ndash;&gt; 03-DEC-2007</li>
<li>01-JUN-2008 &ndash;&gt; 02-JUN-2008 &ndash;&gt; 02-JUN-2008</li>
<li>25-Nov-2017 &ndash;&gt; 27-NOV-2017 &ndash;&gt; 27-NOV-2017</li>
</ul>
</li>
<li>Modify-preceding<ul>
<li>26-JAN-2008 &ndash;&gt; 25-JAN-2008 &ndash;&gt; 24-JAN-2008</li>
<li>31-JAN-2008 &ndash;&gt; 31-JAN-2008 &ndash;&gt; 31-JAN-2008</li>
<li>31-MAY-2008 &ndash;&gt; 30-MAY-2008 &ndash;&gt; 29-MAY-2008</li>
<li>01-DEC-2007 &ndash;&gt; 03-DEC-2007 &ndash;&gt; 03-DEC-2007</li>
<li>01-JUN-2008 &ndash;&gt; 02-JUN-2008 &ndash;&gt; 02-JUN-2008</li>
<li>25-Nov-2017 &ndash;&gt; 24-NOV-2017 &ndash;&gt; 23-NOV-2017</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Starting date </td></tr>
    <tr><td class="paramname">LdDev</td><td>Currencies list </td></tr>
    <tr><td class="paramname">AdjMth</td><td>Adjustment method </td></tr>
    <tr><td class="paramname">WekDat</td><td>(out) Resulting date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 17/Jan/2008<ul>
<li>Nerea RAMOS - 22/Nov/2017: Add currencies list parameter. Get weekends days from get_cty_wek, because now some countries have Fridays (5) and Saturdays (6) as weekend days, instead of Saturdays (6) and Sundays (7). If there are several currencies, get the last day as adjust day </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="afe77f2c246682f35bf0ecb5da8ccd636"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DATcalPrevEndOfMonths </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbYears</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the dates of previous end of months. </p>
<p>Get a list with the dates of end of months of the last number of years passed in the NbYears parameter. It begins with the year of the of years passed in the NbYears parameter. It begins with the year of the actual date passed in a parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefDat</td><td>Date to get the actual year </td></tr>
    <tr><td class="paramname">Dev</td><td>Devise </td></tr>
    <tr><td class="paramname">NbYears</td><td>Number of years to get the end of months </td></tr>
    <tr><td class="paramname">LdDat</td><td>(out). List with the end of months of NbYea years begining from the year correspondent to the Date passed in a parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 31/AUG/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 29/Jan/2003: Remove use of gregorian dates</li>
<li>Jon BARRUTIA - 03/Jun/2003: Error when the country is not supported by cardinal</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Aitor UGARTE - 29/Oct/2012: Fix doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a327a1a7f5f615a156ddb7c7f724d0969"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void datDate_shift </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ShiftAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ShiftUnit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FixLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InitDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbDates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ResDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate a shifted date from a reference date. </p>
<p>Calculate a shifted date from a reference date.</p>
<ul>
<li>If ShiftUnit is "D" (day) or "M" (month), go forthwards the given days or months</li>
<li>If ShiftUnit is "X" (eXact) must get the ShiftAmount'th element of the list of dates from which the user selected the reference date. To do so:</li>
<li>+ obtain the same list of dates</li>
<li>+ find the reference date in that list</li>
<li><p class="startli">+ choose the n'th element of the list from the reference date.</p>
<ul>
<li>Note1: Unit "X" is only allowed in the duration date of a fra, NEVER in the start date</li>
<li>Note2: FixLag, InitDate and NbDates are only used when ShiftUnit is "X"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefDate</td><td>Reference date </td></tr>
    <tr><td class="paramname">ShiftAmount</td><td>Amount of units to advance in time </td></tr>
    <tr><td class="paramname">ShiftUnit</td><td>Unit in which advance "D" - Days "M" - Months "X" - a fiXed number in the list of dates obtained by Method </td></tr>
    <tr><td class="paramname">Dev</td><td>Used to obtain the country to get an open date. </td></tr>
    <tr><td class="paramname">Method</td><td>Calculation method to get the list of dates. Only used when ShiftUnit is "X" See datGetListDates for detail </td></tr>
    <tr><td class="paramname">FixLag</td><td>Days to advance the InitDate before calculate the list of valid dates </td></tr>
    <tr><td class="paramname">InitDate</td><td>Original date the RefDate has been calculated from </td></tr>
    <tr><td class="paramname">NbDates</td><td>Number of days to show in the window for the user to choose RefDate from the InitDate. It is defined in the contract </td></tr>
    <tr><td class="paramname">ResDate</td><td>(out) Calculated date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO 19/JUL/1999 - Include the option "X" for ShiftUnit and add error management</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#a12f0f147d6a0d2631170a818f544cac2" title="Calculate a list of dates according to a given method.">datGetListDates</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="abf6ec50c212cf8ca844b3a129c8da116"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int datFraMth </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FraMthStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>FraMthInt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert FRA date calculation method string into enumerated value. </p>
<p>Convert FRA date calculation method string into enumerated value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FraMthStr</td><td>Method string </td></tr>
    <tr><td class="paramname">FraMthInt</td><td>(OUT) Method enumerated. See fra_dat_mth enum for description</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - ??/???/????.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<p>&ndash; Ramon MARTINEZ - 03/Feb/2005. Rewite the function with FraMth &ndash; Ramon MARTINEZ - 07/Feb/2005. Declare Inx &amp; correct access to FraMth </p>

</div>
</div>
<a class="anchor" id="a12f0f147d6a0d2631170a818f544cac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int datGetListDates </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FixLag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate a list of dates according to a given method. </p>
<p>Given a date calculation method obtain a list of a a given number of dates according to this method.</p>
<ul>
<li>note1 : As different methods need different parameters, the parameters for all methods are passed and after used only if necessary. If a parameter is not used a NULL value may be set.</li>
<li><p class="startli">note2 : By definition, if the reference date is part of the list, an additional date is calculated for methods fra_dat_31, fra_dat_33 and fra_dat_lib_2</p>
<ul>
<li>The treated method are the following ones:</li>
<li>+ fra_dat_31. FIXED31. Every month, 3rd Wednesday</li>
<li>+ fra_dat_33. FIXED33. Every three months (Mar, Jun, Sep, Dec), 3rd Wednesday</li>
<li>+ fra_dat_20. FIXED20. Every three months (Mar, Jun, Sep, Dec), 20th.</li>
<li>- WITHOUT ADJUSTEMENT to first open day.</li>
<li>+ fra_dat_lib_2. LIBOR-2 (Method for Spain, ESP)</li>
<li>- Every three months (Mar, Jun, Sep, Dec),</li>
<li>- Before Jun 1998 on the 3rd Wednesday</li>
<li>- In Jun 1998 and after on the 3rd Monday</li>
<li>+ fra_dat_spot. SPOT. Every month (Date + Fixing lag open days) + 1 month, 2 months, ...</li>
<li>+ fra_dat_lib_1. LIBOR-1 (First open day before 3th wednesday)</li>
<li>- Every three months (Mar, Jun, Sep, Dec),</li>
<li>- Before Jun 1998 on the 3rd Wednesday</li>
<li>- In Jun 1998 and after on the 3rd Tuesday</li>
<li>+ fra_dat_lib_3. LIBOR-3 (First open day before 3th wednesday)</li>
<li>- Every months</li>
<li>- Before Jun 1998 on the 3rd Wednesday</li>
<li>- In Jun 1998 and after on the 3rd Tuesday</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Mth</td><td>Calculation method. See fra_dat_mth enumerated </td></tr>
    <tr><td class="paramname">NbDat</td><td>Number of dates to calculate </td></tr>
    <tr><td class="paramname">RefDat</td><td>Reference date </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency; used to obtain the country for methods needing open dates. </td></tr>
    <tr><td class="paramname">FixLag</td><td>Fixing lag, for spot method </td></tr>
    <tr><td class="paramname">LdDat</td><td>(out) List of dates (colum "dat")</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 29/Aug/1997</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 20/Feb/2002: Error if not supported method</li>
<li>Basilio TAMAYO - 20/Mar/2002. Enumerate the metods</li>
<li>Basilio TAMAYO - 29/Jan/2003: Remove use of gregorian and julian dates</li>
<li>Jon BARRUTIA - 16/Apr/2003: Error message if bad method</li>
<li>Gotzon ETXEBERRIA - 01/Oct/2003: Fix ColDat management</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Basilio TAMAYO - 10/Jun/2004: Error in fra_dat_spot method; no advance in dates</li>
<li>Ramon MARTINEZ - 03/Feb/2005: Correct management odf the error if invalid method</li>
<li>Manuel SANMARTIN - 29/Mar/2006: Added fra_dat_20.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNajoutexCol must have size with type size_t &ndash; Aitor UGARTE - 29/Oct/2012: Fix doxygen warnings</li>
<li>Ramon MARTINEZ - 15/Jan/2014: Add "see" section</li>
<li>Edurne GORDOA - 23/Oct/2014: Take into account fra_dat_lib_3 method</li>
<li>Edurne GORDOA - 23/Feb/2015: Improve common code in case fra_dat_lib_1 and fra_dat_lib_3</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="afu_dat_8c.html#ab192bc972ad0581cdc053d13d51e649d" title="Returns a dates list according to some conditions (ordinal of week, day, period ...)">AFUdatGetDatLst</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a154d4689aa6baf2b14556b5b04653986"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcAFUdatDevWekEndDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>IsWekEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>MinWe1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>MaxWe2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check is the specidifed date is a weekend date for any currecny in the list In the case it is a weekend day, the weekend ranks are retuened in MinWe1 and MaxWe2. So, if in the list of currencies are distinct day ranks for weekends, the minimun and maximun are returned. If the date is not a weekend day, returned values are 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">LdDev</td><td>List of currencies to know the used calendar to recover the open days. It must have at least one column 'Dev' </td></tr>
    <tr><td class="paramname">IsWekEnd</td><td>(out) Indicates if the date is a weekend date is the list of currencies </td></tr>
    <tr><td class="paramname">MinWe1</td><td>(out) Min day rank of weekend 1 day (6: Saturday, for Muslim weekends 5: Friday) </td></tr>
    <tr><td class="paramname">MaxWe2</td><td>(out) Max day rank of weekend 2 day (7: Sunday, for Muslim weekends 6: Saturday) weekend day in some currency)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Nerea RAMOS - 27/Nov/2017 </dd></dl>

</div>
</div>
<a class="anchor" id="a17608246e59ca9b55adafbfd688d349c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcAFUdatFraStr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FraMthInt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FraMthStr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert FRA date calculation method enumerated value into string. </p>
<p>Convert FRA date calculation method enumerated value into string</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FraMthInt</td><td>Method enumerated. See fra_dat_mth enum for description </td></tr>
    <tr><td class="paramname">FraMthStr</td><td>(OUT) Method string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ramon MARTINEZ - 02/Feb/2005.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<p>&ndash; Ramon MARTINEZ - 03/Feb/2005. Rewite the function with FraMth &ndash; Ramon MARTINEZ - 07/Feb/2005. Declare Inx &amp; correct access to FraMth </p>

</div>
</div>
<a class="anchor" id="aba97fe69c4b7086d7126525e225a6dd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcAFUdatNthWeekDayMonth </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbWeek</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>WeekDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ResDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the Nth Weekday of a month. </p>
<p>Given a reference date get the Nth target weekday of that month.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RefDat</td><td>Reference date to obtain the month </td></tr>
    <tr><td class="paramname">NbWeek</td><td>Ordinal of the week (e.g. 3: 3rd week of the month) </td></tr>
    <tr><td class="paramname">WeekDay</td><td>Ordinal of the day (1:Monday ... 7:Sunday) </td></tr>
    <tr><td class="paramname">ResDat</td><td>(out) Resultant date (not a pointer, must have allocated memory to write a RDB date)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>unknown</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Mar/2002. Make it static</li>
<li>Gotzon ETXEBERRIA - 07/May/2004: Fix bug: to get result date, move Nbd-1 days.</li>
</ul>
<div class="fragment"><div class="line">To <span class="keyword">get</span> the 3rd Friday of month of MAY of year 2003</div>
<div class="line"> CDA_TYPE Dat;</div>
<div class="line"> ERRchk (<a class="code" href="afu_dat_8c.html#aba97fe69c4b7086d7126525e225a6dd6" title="Calculate the Nth Weekday of a month.">lcAFUdatNthWeekDayMonth</a> (<span class="stringliteral">&quot;14-AUG-2003&quot;</span>, 3, 5, Dat));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac4404bf0665b6f6b57502f8e80155a11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MRGdate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DatCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mrg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DatDec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Prd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the settlement date. </p>
<p>Calculate the settlement date</p>
<ul>
<li>jgb special case: (Instead of all the 'VAR' Mrg) If we're in the coupon month in the period between 6 open days before the coupon date and 3 open days before the coupon date the settlement date is the coupon date, which is the 20th of that month or the following open date.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context (NULL if we provide a list of contracts, LdCtr) </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contract list with bond schedule (NULL if we want the function to find it) </td></tr>
    <tr><td class="paramname">DatCal</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pays</td><td>Country </td></tr>
    <tr><td class="paramname">Mrg</td><td>Settlement mode (e.g. "DI3") </td></tr>
    <tr><td class="paramname">Mod</td><td>Coupon mode: CALENDAR_DAY, OPEN_DAY </td></tr>
    <tr><td class="paramname">DatDec</td><td>Shifted date </td></tr>
    <tr><td class="paramname">Prd</td><td>Product </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Unknown</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 17/Apr/2001.</li>
<li>Alex RODRIGUEZ - 06/Jul/2001. Return the same DatCal, if not exist in coupons list.</li>
<li>Jon BARRUTIA - 23/Jul/2001. New rule to calcule the settl. date for JPY</li>
<li>Manuel SANMARTIN &amp; Jon BARRUTIA - 12/Oct/2001. Corrected bug in coupon date</li>
<li>Josune BIKUNA - 09/Nov/2001. The bond schedule table is now ech_bnd</li>
<li>Edurne GORDOA - 03/Apr/2002. Carried from base_db.c </li>
</ul>

</div>
</div>
<a class="anchor" id="a5877f082f26f85e9804297438d64e811"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nbj_reglement </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>reg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set correct Settelement Mode. </p>
<p>Set correct Settelement Mode, if not correct, show a error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reg</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 12/Dec/2001. Removed the last return (0), to avoid lint warnings.</li>
<li>Josune BIKUNA - 21/Jun/2007: Add "D+5" </li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a769d15cf91d05a35b6f38b02b7c64a91"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_fra_mth_typ.html">FraMthTyp</a> FraMth[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">  {<span class="stringliteral">&quot;FIXED31&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544daa8286b7728822e818d3b7c3d0d5d6a98">fra_dat_31</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;FIXED33&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544daa9b5f9f124bc155a206254a3207946f1">fra_dat_33</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;FIXED20&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da2d6bda96a130cd533c1b9691f44ed860">fra_dat_20</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;LIBOR-2&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544daef4450a563d003c1e33a22931902dad1">fra_dat_lib_2</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;SPOT&quot;</span>,        <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da96abffdb7ef2f7c1bb20d71bdd629ac3">fra_dat_spot</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;LIBOR-1&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da4f7e6cb4f382105c34a7c144c9f1b28d">fra_dat_lib_1</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;FREE&quot;</span>,        <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544dab71f658b3311be7472c28e4ada3565f7">fra_dat_free</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;SPOT-S&quot;</span>,      <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da96abffdb7ef2f7c1bb20d71bdd629ac3">fra_dat_spot</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;LIBOR-3&quot;</span>,     <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da234d823a86c51c646247982ef999ec4c">fra_dat_lib_3</a>},</div>
<div class="line">  {<span class="stringliteral">&quot;&quot;</span>,            <a class="code" href="afu__def_8h.html#ab241dba823a09eab43d383d4d759544da7062ce95f8484bbf72586496e0639edd">fra_dat_bad</a>},</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="afu_dat_8c.html">afuDat.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:47 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
