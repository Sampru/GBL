<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mktCds.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mkt_cds_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mktCds.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Market data calculations for CDS curves.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;math_def.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7cd27caac7b52d774d70be8b4ba9881a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a7cd27caac7b52d774d70be8b4ba9881a">MKT_CDS_TRT</a>&#160;&#160;&#160;7019</td></tr>
<tr class="separator:a7cd27caac7b52d774d70be8b4ba9881a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178a029c9bc122371eea5716c7746e2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a178a029c9bc122371eea5716c7746e2f">MIS_CRV</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a178a029c9bc122371eea5716c7746e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac271eb8755a1e4d28873c01739cee774"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#ac271eb8755a1e4d28873c01739cee774">MIS_HIS_CRV</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:ac271eb8755a1e4d28873c01739cee774"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac1fb0fb0c8cd36fa56957643be12b178"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#ac1fb0fb0c8cd36fa56957643be12b178">lcMKTcdsCalDatCrv</a> (char *CalDat, char *Dev, void *LdCrv)</td></tr>
<tr class="memdesc:ac1fb0fb0c8cd36fa56957643be12b178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the date columns for one curve.  <a href="#ac1fb0fb0c8cd36fa56957643be12b178"></a><br/></td></tr>
<tr class="separator:ac1fb0fb0c8cd36fa56957643be12b178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429074187d16f7a2e28e277577a21594"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a429074187d16f7a2e28e277577a21594">MKTcdsGetCds</a> (void *Ctx, char *Pro, void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:a429074187d16f7a2e28e277577a21594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load CDS prices into a single data structure, LdMkt.  <a href="#a429074187d16f7a2e28e277577a21594"></a><br/></td></tr>
<tr class="separator:a429074187d16f7a2e28e277577a21594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ceaef38f89220bbcbf279462731e39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a48ceaef38f89220bbcbf279462731e39">MKTcdsChk</a> (void *LdTra, int IsCur, void *LdMkt, int ChkBsk)</td></tr>
<tr class="memdesc:a48ceaef38f89220bbcbf279462731e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls CDS curves.  <a href="#a48ceaef38f89220bbcbf279462731e39"></a><br/></td></tr>
<tr class="separator:a48ceaef38f89220bbcbf279462731e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e651a9717f4398a11d07f24e98e3a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a32e651a9717f4398a11d07f24e98e3a4">MKTcdsCal</a> (char *CalDat, void *LdMkt)</td></tr>
<tr class="memdesc:a32e651a9717f4398a11d07f24e98e3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carries out all calculations on cds curves for a given date.  <a href="#a32e651a9717f4398a11d07f24e98e3a4"></a><br/></td></tr>
<tr class="separator:a32e651a9717f4398a11d07f24e98e3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2935c17ed9dfdc85ad3991b61611f2a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a2935c17ed9dfdc85ad3991b61611f2a8">MKTcdsCalDat</a> (char *CalDat, void *LdCds)</td></tr>
<tr class="memdesc:a2935c17ed9dfdc85ad3991b61611f2a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise date columns of all curves.  <a href="#a2935c17ed9dfdc85ad3991b61611f2a8"></a><br/></td></tr>
<tr class="separator:a2935c17ed9dfdc85ad3991b61611f2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b25ace7bd494c364f9494853f160a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#ab0b25ace7bd494c364f9494853f160a6">MKTcdsGetCalPnt</a> (void *LdCds, int Pnt, char *Dev, char *YldCrv, char *CdsCrv, void **LdCal)</td></tr>
<tr class="memdesc:ab0b25ace7bd494c364f9494853f160a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate payment periods for one Cps curve point.  <a href="#ab0b25ace7bd494c364f9494853f160a6"></a><br/></td></tr>
<tr class="separator:ab0b25ace7bd494c364f9494853f160a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb501ae23112422637ab1e17ed77fc4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#aeb501ae23112422637ab1e17ed77fc4a">MKTcdsIniFlw</a> (char *Bdt, char *Edt, int Mat, char *Unt, char *Dev, char *Adj, char *Pfl, char *Bas, char *Shl, char *Brk, char *EndMth, char *YldCrv, char *CdsCrv, double Spr, double Ntl, void **LdFlw)</td></tr>
<tr class="memdesc:aeb501ae23112422637ab1e17ed77fc4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate the list of flows of a CDS operation.  <a href="#aeb501ae23112422637ab1e17ed77fc4a"></a><br/></td></tr>
<tr class="separator:aeb501ae23112422637ab1e17ed77fc4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d2cc0538243d747cca3b144ba6c024"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a07d2cc0538243d747cca3b144ba6c024">MKTcdsGetCalRes</a> (void *LdCal, double *ValCpo, double *ValPpo, double *ValCre, double *ValPre)</td></tr>
<tr class="memdesc:a07d2cc0538243d747cca3b144ba6c024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate CDS total values cpo, ppo, cre, pre.  <a href="#a07d2cc0538243d747cca3b144ba6c024"></a><br/></td></tr>
<tr class="separator:a07d2cc0538243d747cca3b144ba6c024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bd68d224a80d08eb71df3bc86f83f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#aa6bd68d224a80d08eb71df3bc86f83f3">MKTcdsGetLdCrv</a> (void *Cds, int Inx, void **LdCrv)</td></tr>
<tr class="memdesc:aa6bd68d224a80d08eb71df3bc86f83f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a curve in a curve list.  <a href="#aa6bd68d224a80d08eb71df3bc86f83f3"></a><br/></td></tr>
<tr class="separator:aa6bd68d224a80d08eb71df3bc86f83f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c5bf6045a1dbc5ac4c1f59eee148639"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a3c5bf6045a1dbc5ac4c1f59eee148639">MKTcdsAllCdsDup</a> (void *LdMkt, void **LdMkt1)</td></tr>
<tr class="memdesc:a3c5bf6045a1dbc5ac4c1f59eee148639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate cds curves strucuture LdCds and associated list.  <a href="#a3c5bf6045a1dbc5ac4c1f59eee148639"></a><br/></td></tr>
<tr class="separator:a3c5bf6045a1dbc5ac4c1f59eee148639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5279d869e13f24a8f2b5f640de9b44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a7a5279d869e13f24a8f2b5f640de9b44">MKTcdsLdCdsDup</a> (void *LdCds, void **LdCdup, int(**FreePtr)(void **))</td></tr>
<tr class="memdesc:a7a5279d869e13f24a8f2b5f640de9b44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate CDS curves strucuture LdYld.  <a href="#a7a5279d869e13f24a8f2b5f640de9b44"></a><br/></td></tr>
<tr class="separator:a7a5279d869e13f24a8f2b5f640de9b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25150aec594deee806fdcf4c96045142"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a25150aec594deee806fdcf4c96045142">MKTcdsShiftAllPts</a> (void *LdCds, double ShiftVal)</td></tr>
<tr class="memdesc:a25150aec594deee806fdcf4c96045142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift all points of a CDS list of curves.  <a href="#a25150aec594deee806fdcf4c96045142"></a><br/></td></tr>
<tr class="separator:a25150aec594deee806fdcf4c96045142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16cc2307d3c33b6d8055ec8eafe96f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#ad16cc2307d3c33b6d8055ec8eafe96f3">MKTcdsShiftAllPtsCrv</a> (void *LdCrv, double ShiftVal)</td></tr>
<tr class="memdesc:ad16cc2307d3c33b6d8055ec8eafe96f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift all points of a CDS curve.  <a href="#ad16cc2307d3c33b6d8055ec8eafe96f3"></a><br/></td></tr>
<tr class="separator:ad16cc2307d3c33b6d8055ec8eafe96f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57408f5043cb1a262067c4daab3b2fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#af57408f5043cb1a262067c4daab3b2fa">MKTcdsGetHis</a> (void *Ctx, char *Dat, char *Pro, char *Trt, int MktHis, void **LdMkt)</td></tr>
<tr class="memdesc:af57408f5043cb1a262067c4daab3b2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load historic cds curves into a single data structure.  <a href="#af57408f5043cb1a262067c4daab3b2fa"></a><br/></td></tr>
<tr class="separator:af57408f5043cb1a262067c4daab3b2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abddbc613c5e4776156ac75d6c4787e08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#abddbc613c5e4776156ac75d6c4787e08">MKTcdsShfOnePnt</a> (void *LdCrv, int Inx, double ShfVal)</td></tr>
<tr class="memdesc:abddbc613c5e4776156ac75d6c4787e08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift a point of a list of curves.  <a href="#abddbc613c5e4776156ac75d6c4787e08"></a><br/></td></tr>
<tr class="separator:abddbc613c5e4776156ac75d6c4787e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a8514b4520b7208521eecad8307837"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a74a8514b4520b7208521eecad8307837">MKTcdsTweCal</a> (char *CalDat, void **LdMkt, double ShfVal)</td></tr>
<tr class="memdesc:a74a8514b4520b7208521eecad8307837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate tweaking of CDS curves.  <a href="#a74a8514b4520b7208521eecad8307837"></a><br/></td></tr>
<tr class="separator:a74a8514b4520b7208521eecad8307837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18f452a3ee854bf1e79aa7ca8242822"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#aa18f452a3ee854bf1e79aa7ca8242822">MKTcdsTweFnd</a> (void *LlCpsTwe, char *Crv, void **LdCpsTwe)</td></tr>
<tr class="memdesc:aa18f452a3ee854bf1e79aa7ca8242822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the list of tweaking curves of a CDS curve.  <a href="#aa18f452a3ee854bf1e79aa7ca8242822"></a><br/></td></tr>
<tr class="separator:aa18f452a3ee854bf1e79aa7ca8242822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca9e42de65b950424a89c1962566b86"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#aaca9e42de65b950424a89c1962566b86">MKTcdsGetValBpv</a> (void *LdCrv, char *Dat, double *Val)</td></tr>
<tr class="memdesc:aaca9e42de65b950424a89c1962566b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpolate a bpv for a date in a cps curve.  <a href="#aaca9e42de65b950424a89c1962566b86"></a><br/></td></tr>
<tr class="separator:aaca9e42de65b950424a89c1962566b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc759f11936cca2e894be8b87abaf251"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#abc759f11936cca2e894be8b87abaf251">MKTcdsGetFwp</a> (void *LdCps, void *LdCds, char *Bdt, char *Edt, double *Fwp)</td></tr>
<tr class="memdesc:abc759f11936cca2e894be8b87abaf251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get cds/cdsi forward price.  <a href="#abc759f11936cca2e894be8b87abaf251"></a><br/></td></tr>
<tr class="separator:abc759f11936cca2e894be8b87abaf251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab1568ed21166899562b5a01d8d8c22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_cds_8c.html#a8ab1568ed21166899562b5a01d8d8c22">MKTcdsGetCdsUse</a> (void *LdTra, void *LdMkt, void **LdUseCds)</td></tr>
<tr class="memdesc:a8ab1568ed21166899562b5a01d8d8c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get cds from basket, for basket with analytical method the cds are not used.  <a href="#a8ab1568ed21166899562b5a01d8d8c22"></a><br/></td></tr>
<tr class="separator:a8ab1568ed21166899562b5a01d8d8c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Market data calculations for CDS curves. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MKTcds (MarKeT data Credit Default Swap)</dd></dl>
<p>Market data calculations for Credit Default Swap curves. See <a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> for details</p>
<ul>
<li>- Must remeber that MKTyldChk uses CDS market data and MKTcdsChk uses CDS baskets. This means that correct order in checking process is MKTcdsBskChk, MKTcdsChk, MKTyldChk.</li>
<li>- On the other hand, the calculation of CPS curves requires that the CDS curves are already calculated. And CDS baskets needs calculated CPS curves. So the correct order in the calculation phase is: MKTyldCal, MKTcdsCal, MKTcpsCal, MKTcdsBskCal</li>
<li>Object: Cds, list of credit default swap.</li>
<li></li>
<li>Name Type Origin <hr/>
</li>
<li><p class="startli">cod</p>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 08/Apr/2003</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> </dd></dl>
</li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a178a029c9bc122371eea5716c7746e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIS_CRV&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac271eb8755a1e4d28873c01739cee774"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIS_HIS_CRV&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7cd27caac7b52d774d70be8b4ba9881a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MKT_CDS_TRT&#160;&#160;&#160;7019</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac1fb0fb0c8cd36fa56957643be12b178"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTcdsCalDatCrv </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the date columns for one curve. </p>
<p>Calculate the date columns for one curve.</p>
<ul>
<li>- bdt: Begin date</li>
<li>- edt: End date</li>
<li>- pdt: Payment date</li>
<li>- nbd: days from bdt till edt.</li>
<li><p class="startli">- nbp: days from bdt till pdt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation, revaluation date </td></tr>
    <tr><td class="paramname">Dev</td><td>Currency of the curve. </td></tr>
    <tr><td class="paramname">LdCrv</td><td>(in/out): LdCrv (plg, mat, unt) -&gt; LdCrv (nbd, bdt, edt, pdt)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 11/Apr/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Manuel SANMARTIN - 29/Mar/2006: Get the 20th dates every three months (Mar, Jun, Sep, Dec)</li>
<li>Basilio TAMAYO - 05/Apr/2006: Begin date is CalDat + 1 (open). Not adjust end dates</li>
<li>Basilio TAMAYO - 17/May/2006: If the reference date is shorter than one month (from the calculation date, get the next IMM date as reference.</li>
<li>Ramon MARTINEZ - 26/May/2006: undo previous modification. Pdt from open date</li>
<li>Basilio TAMAYO - 03/Nov/2006: Columns not used.</li>
<li>Ramon MARTINEZ - 21/Mar/2007: Value date: 1 calendar day (not 1 opened date)</li>
<li>Jordi CAMARASA - 16/Jul/2008: Parse CLINT variable into int before doing the DYNputData </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a3c5bf6045a1dbc5ac4c1f59eee148639"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsAllCdsDup </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duplicate cds curves strucuture LdCds and associated list. </p>
<p>Duplicate cds curves strucuture LdCds and associated list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMkt</td><td>Market data list </td></tr>
    <tr><td class="paramname">LdMkt1</td><td>(out) Market data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 09/May/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 16/Oct/2006: Check existence of Cds object before going on. </li>
</ul>

</div>
</div>
<a class="anchor" id="a32e651a9717f4398a11d07f24e98e3a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsCal </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carries out all calculations on cds curves for a given date. </p>
<p>Carries out all calculations on cds curves for a given date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object dynamic list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 10/Apr/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Basilio TAMAYO - 24/Feb/2006: Index of per column disappears</li>
<li>Basilio TAMAYO - 10/Oct/2006: Remove static variables for column indexes </li>
</ul>

</div>
</div>
<a class="anchor" id="a2935c17ed9dfdc85ad3991b61611f2a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsCalDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise date columns of all curves. </p>
<p>Initialise begin, end and pay date columns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Date of calculation </td></tr>
    <tr><td class="paramname">LdCds</td><td>List of cds curves.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 11/Apr/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Basilio TAMAYO - 10/Oct/2006: Make it public </li>
</ul>

</div>
</div>
<a class="anchor" id="a48ceaef38f89220bbcbf279462731e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsChk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChkBsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls CDS curves. </p>
<p>Controls CDS curves. We check that all the required curves have been loaded with correct values. All curves that are not used will be destroyed, so that we don't need to calculate it.</p>
<ul>
<li>In the stock object (LdTra) all cds curves come in the "crvCds" column.</li>
<li>In the market data object (LdMkt) CDS baskets require CDS.</li>
<li>Mark the cds not used for NTD and CDO product in anaitycal method</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Stock list </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historical data (datCur: Current, datHis: Historic) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object dynamic list </td></tr>
    <tr><td class="paramname">ChkBsk</td><td>Flag values<ul>
<li>0 no check references of CDS baskets.</li>
<li>1 check references of CDS baskets getting all cds.</li>
<li>2 check ref of CDS baskets getting only ref of montecarlo bsk method.</li>
<li>(For CDSI we get all the references)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 10/Apr/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add IsCur parameter and give MIS_HIS_CRV warning when there's missing curve data and we're working with historics.</li>
<li>Aitziber BARRERO - 01/Feb/2006: Add comment done in the last modification (AFUdatCurHis is used instead of datCurHis for IsCur)</li>
<li>Basilio TAMAYO - 23/Feb/2006: Check only distinct CDS curves. Change type of parameter IsCur Check that all points have valid value.</li>
<li>Basilio TAMAYO - 03/Mar/2006: Pay attention to CDS basket references.</li>
<li>Basilio TAMAYO - 08/Feb/2007: Add parameter ChkBsk to check (or not) also basket references.</li>
<li>Manuel SANMARTIN - 08/Aug/2007: Add MKTcdsGetCdsUse to get only the cds used</li>
<li>Jon BARRUTIA - 07/Nov/2007: NO_VAL_PNT is an MKT_TRT error (generic for all MKT files)</li>
<li>Edurne GORDOA - 12/Nov/2012: Avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="ab0b25ace7bd494c364f9494853f160a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetCalPnt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Pnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>YldCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CdsCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate payment periods for one Cps curve point. </p>
<p>Calculate payment periods for one Cps curve point.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCds</td><td>Cds curve. </td></tr>
    <tr><td class="paramname">Pnt</td><td>Cds curve point. </td></tr>
    <tr><td class="paramname">Dev</td><td>Cds curve currency. </td></tr>
    <tr><td class="paramname">YldCrv</td><td>Yield curve name (for discount factors) </td></tr>
    <tr><td class="paramname">CdsCrv</td><td>CDS/CPS curve name and recovery rate code. </td></tr>
    <tr><td class="paramname">LdCal</td><td>(out) List of payment periods to value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 26/Jan/2006.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 23/Feb/2006: Notional column is ntl.</li>
<li>Basilio TAMAYO - 27/Feb/2006: Use new function MKTcdsIniFlw</li>
<li>Basilio TAMAYO - 10/Apr/2006: Get the break/shl method</li>
<li>Basilio TAMAYO - 26/May/2006: Use generic functions to get point characteristics</li>
<li>Manuel SANMARTIN - 02/Feb/2010: Add broken period and end of month flag to MKTcdsIniFlw </li>
</ul>

</div>
</div>
<a class="anchor" id="a07d2cc0538243d747cca3b144ba6c024"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetCalRes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ValCpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ValPpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ValCre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ValPre</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate CDS total values cpo, ppo, cre, pre. </p>
<p>Calculate CDS total values cpo, ppo, cre, pre &ndash; cpo : Potential for the coupon part &ndash; ppo : Potential for the principal part &ndash; cre : Realised for the coupon part &ndash; pre : Realised for the principal part</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCal</td><td>Payment date list. </td></tr>
    <tr><td class="paramname">ValCpo</td><td>(out) Potential for the coupon part. </td></tr>
    <tr><td class="paramname">ValPpo</td><td>(out) Potential for the principal part. </td></tr>
    <tr><td class="paramname">ValCre</td><td>(out) Realised for the coupon part. </td></tr>
    <tr><td class="paramname">ValPre</td><td>(out) Realised for the principal part.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 26/Jan/2006. </dd></dl>

</div>
</div>
<a class="anchor" id="a429074187d16f7a2e28e277577a21594"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetCds </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load CDS prices into a single data structure, LdMkt. </p>
<p>Load CDS prices into a single data structure, LdMkt</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 08/Apr/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 23/Feb/2006: Add more lists in LdTra to need CDS</li>
<li>Basilio TAMAYO - 26/Sep/2006: Correct number of elements to get NeedCds</li>
<li>Basilio TAMAYO - 10/Oct/2006: Not use static variable for column indexes</li>
<li>Manuel SANMARTIN - 28/Feb/2007: Add more lists in LdTra to need CDS LdNtdc</li>
<li>Manuel SANMARTIN - 18/Mar/2007: Corrected OBJexistAny wrong parameter</li>
<li>Ruben GIL - 31/May/2007: Add LdCdso and LdCdsio</li>
<li>Manuel SANMARTIN - 28/Jul/2007: Add more lists in LdTra to use CDO LdCdoc</li>
<li>Basilio TAMAYO - 02/Aug/2007: Use MKTcrvFre instead of lcMKTcdsFree.</li>
<li>Manuel SANMARTIN - 20/Nov/2007: Add more lists in LdTra to use CDOS LdCdosc</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_cds_8c.html#a48ceaef38f89220bbcbf279462731e39" title="Controls CDS curves.">MKTcdsChk</a>, <a class="el" href="mkt_cds_8c.html#a32e651a9717f4398a11d07f24e98e3a4" title="Carries out all calculations on cds curves for a given date.">MKTcdsCal</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a8ab1568ed21166899562b5a01d8d8c22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetCdsUse </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdUseCds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get cds from basket, for basket with analytical method the cds are not used. </p>
<p>Get cds from basket, for basket with analytical method the cds are not used.</p>
<ul>
<li>For Cdsi we get all the cds from basket independent of basket method</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deal list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data list </td></tr>
    <tr><td class="paramname">LdUseCds</td><td>(out) List of cds used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 07/Ago/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Manuel SANMARTIN - 10/Oct/2007: Modify correctly the header function</li>
<li>Manuel SANMARTIN - 24/Nov/2007: Add CDOS for sensitivity</li>
<li>Ruben GIL - 20/Dec/2010: Get CDS baskets for CDSI depending on the AO GetCdsiBsk</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Edurne GORDOA - 12/Nov/2012: Avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="abc759f11936cca2e894be8b87abaf251"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetFwp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Fwp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get cds/cdsi forward price. </p>
<p>Get cds/cdsi forward price</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCps</td><td>List of points of cps curve </td></tr>
    <tr><td class="paramname">LdCds</td><td>List of points of cds/cdsi curve </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date </td></tr>
    <tr><td class="paramname">Edt</td><td>End date </td></tr>
    <tr><td class="paramname">Fwp</td><td>(out) Forward price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ruben GIL - 25/May/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL - 15/Jun/2007: Delete flg parameter from MKTcdsGetValBpv function</li>
<li>Basilio TAMAYO - 26/Jul/2007: Change flag value with enumerated value. </li>
</ul>

</div>
</div>
<a class="anchor" id="af57408f5043cb1a262067c4daab3b2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetHis </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktHis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load historic cds curves into a single data structure. </p>
<p>Load historic cds curves into a single data structure. We may have some indications in LdMkt on which curves are necessary.</p>
<ul>
<li>If the database connection is MO, it will take historic market data</li>
<li>If the database connection is FO, it will take historic market data for the given treatment, for example, revaluation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">Trt</td><td>Treatment for which the historic market data must be recovered in case of FO book. if it is empty or NULL, revaluation treatment will be used. </td></tr>
    <tr><td class="paramname">MktHis</td><td>Flag to get all market data (mkt_his_all) or only used prices (mkt_his_use) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 04/Jun/2004.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 01/Mar/2006: get also the CpsYld column</li>
<li>Basilio TAMAYO - 16/May/2006: get also field src</li>
<li>Basilio TAMAYO - 10/Oct/2006: Not use static variable for column indexes</li>
<li>Basilio TAMAYO - 02/Aug/2007: Use MKTcrvFre instead of lcMKTcdsFree.</li>
<li>Basilio TAMAYO - 03/Oct/2007: Use standard function MKTcrvGetHis.</li>
<li>Josune BIKUNA - 01/Nov/2007: Add treatment parameter when calling to MKTcrvGetHis</li>
<li>Josune BIKUNA - 01/Nov/2007: Add treatment parameter (Trt) for indicating which is the treatment the market data must be recovered for</li>
<li>Edurne GORDOA - 12/Nov/2012: Avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="aa6bd68d224a80d08eb71df3bc86f83f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetLdCrv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Cds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a curve in a curve list. </p>
<p>Get a curve in a curve list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Cds</td><td>List of cds curves </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the curve </td></tr>
    <tr><td class="paramname">LdCrv</td><td>(out) Curve list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 28/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="aaca9e42de65b950424a89c1962566b86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsGetValBpv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interpolate a bpv for a date in a cps curve. </p>
<p>Interpolate a bpv for a date in a cps curve</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCrv</td><td>List of points of cps curve </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to interpolate the bpv </td></tr>
    <tr><td class="paramname">Val</td><td>(out) Interpolated bpv</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ruben GIL - 25/May/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL - 15/Jun/2007: Delete flg parameter</li>
<li>Basilio TAMAYO - 26/Jul/2007: Change flag value with enumerated value. </li>
</ul>

</div>
</div>
<a class="anchor" id="aeb501ae23112422637ab1e17ed77fc4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsIniFlw </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Unt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Adj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pfl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Shl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Brk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>YldCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CdsCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Spr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Ntl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdFlw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simulate the list of flows of a CDS operation. </p>
<p>Simulate the list of flows of a CDS operation</p>
<ul>
<li>- LdFlw: List of flows:</li>
<li>+ bdt: Begin date</li>
<li>+ edt: End date</li>
<li>+ pdt: Payment date</li>
<li>+ dev: Currency</li>
<li>+ crv: Curve name</li>
<li>+ crvCds: CDS curve name</li>
<li>+ bas: Calculation basis</li>
<li>+ ide: Flow type (Interest, Fees, Default)</li>
<li>+ mrk: Flag of flows to calculate.</li>
<li>+ leg: Leg to calcul (0: Both, 1: Default, 2: Protection)</li>
<li>+ ntl: Nominal</li>
<li>+ cpn: Coupon, interest calculated (spr * aph)</li>
<li>+ mat: Number of period frequency</li>
<li>+ unt: unit of the period frequency</li>
<li>+ Rrt: Recovery rate</li>
<li>+ cpo: Potential for the coupon part</li>
<li>+ ppo: Potential for the principal part</li>
<li>+ cre: Realised for the coupon part</li>
<li><p class="startli">+ pre: Realised for the principal part</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Bdt</td><td>Begin date of the fictitious operatoin </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the fictitious operatoin </td></tr>
    <tr><td class="paramname">Mat</td><td>Period of flows </td></tr>
    <tr><td class="paramname">Unt</td><td>Unit of time of the periods </td></tr>
    <tr><td class="paramname">Dev</td><td>Cds curve currency. </td></tr>
    <tr><td class="paramname">Adj</td><td>Adjustment: "Yes", "No" </td></tr>
    <tr><td class="paramname">Pfl</td><td>Adjustment method: follwing, modify following, ... </td></tr>
    <tr><td class="paramname">Bas</td><td>Calculation basis </td></tr>
    <tr><td class="paramname">Shl</td><td>Type of first irregular period: "Long", "Short" </td></tr>
    <tr><td class="paramname">Brk</td><td>Broken period: "End", "Begin" </td></tr>
    <tr><td class="paramname">EndMth</td><td>Adjustment at the end of month: "Yes", "No" </td></tr>
    <tr><td class="paramname">YldCrv</td><td>Yield curve name (for discount factors) </td></tr>
    <tr><td class="paramname">CdsCrv</td><td>CDS/CPS curve name and recovery rate code. </td></tr>
    <tr><td class="paramname">Spr</td><td>Spread </td></tr>
    <tr><td class="paramname">Ntl</td><td>Notional </td></tr>
    <tr><td class="paramname">LdFlw</td><td>(out) List of flow periods</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 27/Feb/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Mar/2006: Add column for recovery rate: Rrt</li>
<li>Ramon MARTINEZ - 20/Mar/2006: Correct treatment of closed/open dates</li>
<li>Basilio TAMAYO - 28/Mar/2006: Use enum value CPS_LEG_BOTH</li>
<li>Basilio TAMAYO - 10/Apr/2006: Multiply the coupon by the notional. Use more generic function to get list os periods: AFUdatGetLstDat. Add parameters Adj and Shl.</li>
<li>Ramon MARTINEZ - 16/Jun/2006: Add Dev to the list</li>
<li>Josune BIKUNA - 25/Sep/2007: Add AdjScp parameter with value 'All' when calling to AFUdatGetLstDat function</li>
<li>Josune BIKUNA - 13/Nov/2007: From now on, the AFUdatGetLstDat function receives a list of currencies instead of only one currency</li>
<li>Josune BIKUNA - 14/Nov/2007: Rename AdjScp -&gt; AdjSco</li>
<li>Manuel SANMARTIN - 05/Feb/2010: Add the broken period and EndMth in AFUdatGetLstDat</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Edurne GORDOA - 12/Nov/2012: Avoid doxygen warnings</li>
<li>Basilio TAMAYO - 18/Sep/2017: Add fields mat and unt in the list of flows </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a7a5279d869e13f24a8f2b5f640de9b44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsLdCdsDup </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCdup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(**)(void **)&#160;</td>
          <td class="paramname"><em>FreePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duplicate CDS curves strucuture LdYld. </p>
<p>Duplicate CDS curves strucuture LdYld</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCds</td><td>CDS curves list </td></tr>
    <tr><td class="paramname">LdCdup</td><td>(out) Duplicated list </td></tr>
    <tr><td class="paramname">FreePtr</td><td>(out) Destructor function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 09/May/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 02/Aug/2007: Use MKTcrvFre instead of lcMKTcdsFree. </li>
</ul>

</div>
</div>
<a class="anchor" id="abddbc613c5e4776156ac75d6c4787e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsShfOnePnt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ShfVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift a point of a list of curves. </p>
<p>Shift a point of a list of curves. The offset to shift is ShfVal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCrv</td><td>CDS curve </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the point to shitf </td></tr>
    <tr><td class="paramname">ShfVal</td><td>Offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Mar/2006 modifed :<ul>
<li>Basilio TAMAYO - 10/Oct/2006: Not use static variables for column indexes</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_yld_8c.html#ac76cda24408bc53524810fc6ae8d5661" title="Shift a point of a list of curves.">lcMKTyldShiftOnePt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a25150aec594deee806fdcf4c96045142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsShiftAllPts </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ShiftVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift all points of a CDS list of curves. </p>
<p>Shift all points of a CDS list of curves. The offset to shift is ShiftVal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCds</td><td>List of CDS curves list </td></tr>
    <tr><td class="paramname">ShiftVal</td><td>Offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 09/May/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="ad16cc2307d3c33b6d8055ec8eafe96f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsShiftAllPtsCrv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ShiftVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift all points of a CDS curve. </p>
<p>Shift all points of a CDS curve. The offset to shift is ShiftVal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCrv</td><td>curve to be shifted </td></tr>
    <tr><td class="paramname">ShiftVal</td><td>Offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 13/May/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 10/Oct/2006: Not use static variables for column indexes </li>
</ul>

</div>
</div>
<a class="anchor" id="a74a8514b4520b7208521eecad8307837"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsTweCal </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ShfVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate tweaking of CDS curves. </p>
<p>Calculate tweaking of CDS curves.</p>
<ul>
<li>For each CDS curve</li>
<li>+ For each point</li>
<li>- Duplicate the complete CDS curve</li>
<li>- Shift a given value all points from current point till the last point of curve</li>
<li>- Calculate the CPS curve associated with the shifted CDS curve</li>
<li><p class="startli">- Save the CPS curve and discard the CDS curve</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Initial market data. Must have (checked and calculated) at least CDS curves, CPS curves, yield curves and recovery rates. Will add "CdsTwe" and "CpsTwe" </td></tr>
    <tr><td class="paramname">ShfVal</td><td>Shifting value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Mar/2006<ul>
<li>Manuel SANMARTIN - 28/Mar/2006: Change ValDat by CalDat.</li>
<li>Basilio TAMAYO - 04/Apr/2006: carry from <a class="el" href="mkt_cps_8c.html" title="Calculation of solvency probability curve, CPS and temp to default simul matrix.">mktCps.c</a></li>
<li>Basilio TAMAYO - 16/Oct/2006: check if there is CDS curves before calculation</li>
<li>Basilio TAMAYO - 25/Jun/2007: Save also tweaked CDS curves in object CdsTwe.</li>
<li>Basilio TAMAYO - 02/Aug/2007: Use MKTcrvFind instead of MKTcdsFind and MKTcpsFnd</li>
<li>Manuel SANMARTIN - 07/Aug/2007: Add control with DYNgetNbLignes </li>
</ul>
</dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aa18f452a3ee854bf1e79aa7ca8242822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTcdsTweFnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlCpsTwe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Crv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCpsTwe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the list of tweaking curves of a CDS curve. </p>
<p>Find the list of tweaking curves of a CDS curve</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LlCpsTwe</td><td>List of CPS curves from shifted CDS curves </td></tr>
    <tr><td class="paramname">Crv</td><td>Curve name </td></tr>
    <tr><td class="paramname">LdCpsTwe</td><td>(out) Tweaking CPS curve list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 23/Mar/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 04/Apr/2006: carry from <a class="el" href="mkt_cps_8c.html" title="Calculation of solvency probability curve, CPS and temp to default simul matrix.">mktCps.c</a></li>
<li>Basilio TAMAYO - 20/Jun/2007: Not use static variable columns </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mkt_cds_8c.html">mktCds.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
