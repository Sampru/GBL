<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mciCor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mci_cor_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mciCor.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>functions for specific function in the correlation assignation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;bookAccess.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;fsa_def.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;gut_def.h&gt;</code><br/>
<code>#include &lt;itf_def.h&gt;</code><br/>
<code>#include &lt;mb_def.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;osd_def.h&gt;</code><br/>
<code>#include &lt;osdDef.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__types_8h_source.html">afu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mci__def_8h_source.html">mci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afca2104042747e9b5426c232b6449670"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#afca2104042747e9b5426c232b6449670">MCICOR_IMP_SCH_NAM</a>&#160;&#160;&#160;&quot;mci_cor_imp0_schema&quot;</td></tr>
<tr class="separator:afca2104042747e9b5426c232b6449670"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa319b9934977e18306c236412506788f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#aa319b9934977e18306c236412506788f">MCIcorCnfMdl</a> (void *Ctx, void *LdAls, char *MciCod, char *OldMciCod, void *LdPvbAss)</td></tr>
<tr class="memdesc:aa319b9934977e18306c236412506788f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of correlations between two assets.  <a href="#aa319b9934977e18306c236412506788f"></a><br/></td></tr>
<tr class="separator:aa319b9934977e18306c236412506788f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c79f936e16f205d9391b4705acd5288"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a6c79f936e16f205d9391b4705acd5288">MCIcorFindCor</a> (void *Ctx, void *LdCor, char *Mci, char *Ass1, char *Ass2, double *Cor)</td></tr>
<tr class="memdesc:a6c79f936e16f205d9391b4705acd5288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the correlation between two assets.  <a href="#a6c79f936e16f205d9391b4705acd5288"></a><br/></td></tr>
<tr class="separator:a6c79f936e16f205d9391b4705acd5288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a083720bd53974ea7846aaee499ed4b32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a083720bd53974ea7846aaee499ed4b32">MCIcorReaAstCor</a> (void *Ctx, void *LdMci, void **LdRes)</td></tr>
<tr class="memdesc:a083720bd53974ea7846aaee499ed4b32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the asset correlations.  <a href="#a083720bd53974ea7846aaee499ed4b32"></a><br/></td></tr>
<tr class="separator:a083720bd53974ea7846aaee499ed4b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d15d542c2b469a5a3a0eb1bd75c33b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a09d15d542c2b469a5a3a0eb1bd75c33b">MCIcorGetCor</a> (void *Ctx, void *LdMci, void **LdMkt)</td></tr>
<tr class="memdesc:a09d15d542c2b469a5a3a0eb1bd75c33b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load correlations into a single data structure.  <a href="#a09d15d542c2b469a5a3a0eb1bd75c33b"></a><br/></td></tr>
<tr class="separator:a09d15d542c2b469a5a3a0eb1bd75c33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916cfebf0902b7c23ff2a6f2a2304ddb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a916cfebf0902b7c23ff2a6f2a2304ddb">MCIcorChk</a> (void *LdMci, void *LdMkt)</td></tr>
<tr class="memdesc:a916cfebf0902b7c23ff2a6f2a2304ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls of the correlations.  <a href="#a916cfebf0902b7c23ff2a6f2a2304ddb"></a><br/></td></tr>
<tr class="separator:a916cfebf0902b7c23ff2a6f2a2304ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56aa77e45eebc250ae6e39795d70354a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a56aa77e45eebc250ae6e39795d70354a">MCIcorCal</a> (void *Ctx, void *LdMci, void *LdMkt)</td></tr>
<tr class="memdesc:a56aa77e45eebc250ae6e39795d70354a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculations of the correlations.  <a href="#a56aa77e45eebc250ae6e39795d70354a"></a><br/></td></tr>
<tr class="separator:a56aa77e45eebc250ae6e39795d70354a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cdd5a9409a95371fd05ab84eb2663ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a5cdd5a9409a95371fd05ab84eb2663ae">MCIcorFndMciCor</a> (void *LdMkt, char *Mci, void **LdMciCor)</td></tr>
<tr class="memdesc:a5cdd5a9409a95371fd05ab84eb2663ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list with the correlation list of an instrument.  <a href="#a5cdd5a9409a95371fd05ab84eb2663ae"></a><br/></td></tr>
<tr class="separator:a5cdd5a9409a95371fd05ab84eb2663ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdccdd7e42d0b695cbd3a35224e0fc1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#afdccdd7e42d0b695cbd3a35224e0fc1d">MCIcorGetImpPth</a> (void *Ctx, char *Pth)</td></tr>
<tr class="memdesc:afdccdd7e42d0b695cbd3a35224e0fc1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the path of directory where import files for Monte Carlo correlations are located.  <a href="#afdccdd7e42d0b695cbd3a35224e0fc1d"></a><br/></td></tr>
<tr class="separator:afdccdd7e42d0b695cbd3a35224e0fc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f011744112bd4c7e33e476aa1e14f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a9f011744112bd4c7e33e476aa1e14f52">MCIcorImpReaFil</a> (char *Fil, void **LdCor)</td></tr>
<tr class="memdesc:a9f011744112bd4c7e33e476aa1e14f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the list of correlations from a file.  <a href="#a9f011744112bd4c7e33e476aa1e14f52"></a><br/></td></tr>
<tr class="separator:a9f011744112bd4c7e33e476aa1e14f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332ee45991a7b5fec96d7e4c63a49080"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a332ee45991a7b5fec96d7e4c63a49080">MCIcorUpdCor</a> (void *Ctx, void *LdAls, void *LdCor)</td></tr>
<tr class="memdesc:a332ee45991a7b5fec96d7e4c63a49080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the value of correlations in a list.  <a href="#a332ee45991a7b5fec96d7e4c63a49080"></a><br/></td></tr>
<tr class="separator:a332ee45991a7b5fec96d7e4c63a49080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2e8f0962257b330c572fb53a15b176"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#aac2e8f0962257b330c572fb53a15b176">MCIcorDelMciCor</a> (void *Ctx, void *LdAls, char *Mci)</td></tr>
<tr class="memdesc:aac2e8f0962257b330c572fb53a15b176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes correlations of a instrument.  <a href="#aac2e8f0962257b330c572fb53a15b176"></a><br/></td></tr>
<tr class="separator:aac2e8f0962257b330c572fb53a15b176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5195a08613348f06de716bd606cfd352"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a5195a08613348f06de716bd606cfd352">MCIcorDelNokCor</a> (void *Ctx, void *LdAls)</td></tr>
<tr class="memdesc:a5195a08613348f06de716bd606cfd352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes correlations between not used assets.  <a href="#a5195a08613348f06de716bd606cfd352"></a><br/></td></tr>
<tr class="separator:a5195a08613348f06de716bd606cfd352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15910446fef90339c191d745f35706bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a15910446fef90339c191d745f35706bc">MCIcorUpdDleCor</a> (void *Ctx, char *Mod, char *Mci, char *OldMci, void *LdCor)</td></tr>
<tr class="memdesc:a15910446fef90339c191d745f35706bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actualises the correlations of a deal-instrument.  <a href="#a15910446fef90339c191d745f35706bc"></a><br/></td></tr>
<tr class="separator:a15910446fef90339c191d745f35706bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74cffc96f5ae18eb9c087fdbaaad894"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#aa74cffc96f5ae18eb9c087fdbaaad894">MCIcorDleCnf</a> (void *Ctx, void *LdAls, void *LdPvbAss, char *MciCod)</td></tr>
<tr class="memdesc:aa74cffc96f5ae18eb9c087fdbaaad894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of correlations between the assets of a deal/instrument.  <a href="#aa74cffc96f5ae18eb9c087fdbaaad894"></a><br/></td></tr>
<tr class="separator:aa74cffc96f5ae18eb9c087fdbaaad894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e3f652934c3d2970bb3c3a940a77de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_cor_8c.html#a16e3f652934c3d2970bb3c3a940a77de">MCIcorGenCnf</a> (void *Ctx, char *Dat, char *Pro, void **LdCor)</td></tr>
<tr class="memdesc:a16e3f652934c3d2970bb3c3a940a77de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the assets which are actived and make correlation calculations.  <a href="#a16e3f652934c3d2970bb3c3a940a77de"></a><br/></td></tr>
<tr class="separator:a16e3f652934c3d2970bb3c3a940a77de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>functions for specific function in the correlation assignation. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MCIcor</dd></dl>
<p>In the correlations some functions are specifics. In this file the specific functions are coded. This file contains the function that handles this parameters.</p>
<dl class="section user"><dt>Library</dt><dd>mci</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 27/Nov/2003. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afca2104042747e9b5426c232b6449670"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MCICOR_IMP_SCH_NAM&#160;&#160;&#160;&quot;mci_cor_imp0_schema&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a56aa77e45eebc250ae6e39795d70354a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorCal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculations of the correlations. </p>
<p>Calculations of the correlations. It completes the correlations of the MC instruments. If there is an implicit correlation of an instrument, it assign this correlation to every asset combinations of that instrument. It replaces the "Cor" object by another one (also called "Cor") with the following structure:</p>
<ul>
<li>MciCod: Monte Carlo instrument code</li>
<li>List : Pointer to a list with the correlations. There will be the data list for the high part of a correlation matrix.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdMci</td><td>Treated Monte Carlo instruments </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 20/Apr/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/Nov/2007: Re-initialise the counter of the correlations for each instrument</li>
<li>Jon BARRUTIA - 14/Nov/2007: Correct the previous re-initialisation. Take only distinct assets</li>
<li>Jon BARRUTIA - 19/Nov/2007: Free all memory</li>
<li>Jon BARRUTIA - 09/Jul/2009: Correct correlation definition. Do not define correlations between assets of differents deals.</li>
<li>Alex RODRIGUEZ - 09/Mar/2010: Add Ctx parameter. </li>
</ul>

</div>
</div>
<a class="anchor" id="a916cfebf0902b7c23ff2a6f2a2304ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorChk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls of the correlations. </p>
<p>Controls correlations. We check that all the required correlations have been loaded with correct values. All correlations that are not used will be destroyed, so that we don't need to calculate it.</p>
<ul>
<li>Correlations of not treated instruments are removed</li>
<li>Correlations of assets used in not treated instruments are removed</li>
<li><p class="startli">Only takes into account correlations between assets of a instrument-deal; it does not take as needed correlations between assets of different deals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>Treated Monte Carlo instruments </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 20/Apr/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 26/Apr/2007: Correct some warning message codes</li>
<li>Ramon MARTINEZ - 01/Jun/2007: Instrument correlation use DYNseqSearch (not DYNgenSearch)</li>
<li>Jon BARRUTIA - 26/Jul/2007: Modify the algorithm to correct it.</li>
<li>Jon BARRUTIA - 13/Nov/2007: When taking the correlations of the assets, all are removed</li>
<li>Jon BARRUTIA - 14/Nov/2007: Show a warning with all correlations definition without valid value</li>
<li>Jon BARRUTIA - 16/Nov/2007: If the implicit correlation of the instrument exist do not check the correlations between assets</li>
<li>Jon BARRUTIA - 08/Jul/2009: Correct the checking of the correlations to not take into account correlations between assets of different deals </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aa319b9934977e18306c236412506788f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorCnfMdl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OldMciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPvbAss</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirmation of correlations between two assets. </p>
<p>Confirmation of correlations between two assets. Generates the definition of the possibles correlations into the instrument. It generates the correlations between the same asses with a 1. It saves the generated correlations in all books passed by argument (LdAls).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>Diffusion books list </td></tr>
    <tr><td class="paramname">MciCod</td><td>Code of new instrument </td></tr>
    <tr><td class="paramname">OldMciCod</td><td>Code of old instrument if window mode is modify </td></tr>
    <tr><td class="paramname">LdPvbAss</td><td>List of assets defined as variable parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ 26/Nov/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 10/Feb/2004. Make the correct new list of correlations.</li>
<li>Jon BARRUTIA - 01/Jun/2004: Reorganisation to have only one database insertion</li>
<li>Jon BARRUTIA - 16/Jan/2007: Reorganisation to use the ST new libraries</li>
<li>Ruben GIL - 27/Aug/2007: Add OldMciCod parameter and delete old correlation</li>
<li>Jon BARRUTIA - 17/Oct/2007: Treat case where OldMciCod is NULL</li>
<li>Jon BARRUTIA - 14/Nov/2007: Initialise with 1 the correlations between same asset</li>
<li>Jon BARRUTIA - 07/Dec/2007: Correct when modifying the implicit correlations for the old instrument</li>
<li>Jon BARRUTIA - 18/Jul/2008: Save correlation definition in all books defined in LdAls</li>
<li>Jon BARRUTIA - 29/Jul/2008: Use distinct asset codes to generate the correlation pairs</li>
<li>Jon BARRUTIA - 16/Jul/2009: lcMCIcorGetAstCor &ndash;&gt; MCIastGetMciAllAss </li>
</ul>

</div>
</div>
<a class="anchor" id="aac2e8f0962257b330c572fb53a15b176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorDelMciCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes correlations of a instrument. </p>
<p>Removes the correlations associated to a specific instrument from all the databases defined in LdAls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>Diffusion books list </td></tr>
    <tr><td class="paramname">Mci</td><td>Instrument code to remove the correlations</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/Mar/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 18/Jul/2008: Remove them from all the databases specified in LdAls</li>
<li>Jon BARRUTIA - 19/Jun/2009: Do not use nested multitrans because the function can be called from a function that opens a not multiple transaction. </li>
</ul>

</div>
</div>
<a class="anchor" id="a5195a08613348f06de716bd606cfd352"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorDelNokCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes correlations between not used assets. </p>
<p>Removes correlations between not used assets, that is, those correlations between assets that are not assigned to any active instrument. It removes the correlations from all the databases defined in LdAls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>Diffusion books list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/Mar/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 11/Jul/2008: Adapt treatment to allow generic assets</li>
<li>Jon BARRUTIA - 29/Jul/2008: Rollback in error case</li>
<li>Jon BARRUTIA - 30/Jul/2008: Verify if there is any asset before confirm</li>
<li>Jon BARRUTIA - 20/Feb/2009: Corrected to be able to take into account more assets</li>
<li>Jon BARRUTIA - 23/Feb/2009: Pass NULL as variable parameter. So, it takes all the generic assets (also for other instruments). Removed LdPvbAss argument.</li>
<li>Jon BARRUTIA - 16/Jul/2009: lcMCIcorGetAstCor &ndash;&gt; MCIastGetMciAllAss </li>
</ul>

</div>
</div>
<a class="anchor" id="aa74cffc96f5ae18eb9c087fdbaaad894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorDleCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPvbAss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirmation of correlations between the assets of a deal/instrument. </p>
<p>Confirmation of correlations between the assets of a deal/instrument. It saves the generated correlations in all books passed by argument (LdAls).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database access context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List with distinct aliases of DB of DB </td></tr>
    <tr><td class="paramname">LdPvbAss</td><td>List of assets defined as variable parameters </td></tr>
    <tr><td class="paramname">MciCod</td><td>Instrument code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 14/Jul/2009:</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL - 22/Aug/2012: Add call to MKTmcdHis function to historice market data codification</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a6c79f936e16f205d9391b4705acd5288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorFindCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ass1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ass2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the correlation between two assets. </p>
<p>Find the correlation between two assets.</p>
<ul>
<li>For equal assets, the correlation will be always 1.0</li>
<li>If there is an implicit correlation for the instrument, it returns it</li>
<li>If the correlation is NULL, it returns the default value (we suppose it's 0.0)</li>
<li>The correlation between assets should exist always, otherwise there is an error.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCor</td><td>Correlation list </td></tr>
    <tr><td class="paramname">Mci</td><td>Code of the Monte Carlo instrument </td></tr>
    <tr><td class="paramname">Ass1</td><td>The first asset of correlation. </td></tr>
    <tr><td class="paramname">Ass2</td><td>The second asset of correlation. </td></tr>
    <tr><td class="paramname">Cor</td><td>(out) Correlation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 05/Dec/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 29/Jun/2004: If both assets are the same, the correlation is always 1. If NULL, it returns 0.0</li>
<li>Jon BARRUTIA - 26/Apr/2007: treat the possible implicit correlation of the instrument</li>
<li>Jon BARRUTIA - 26/Jul/2007: Error message when no correlations found</li>
<li>Jon BARRUTIA - 07/Dec/2007: Error message when no implicit correlation line for an instrument</li>
<li>Jon BARRUTIA - 02/Oct/2009: Set the instrument code to the error message when the implicit correlation is missing</li>
<li>Alex RODRIGUEZ - 09/Mar/2010: Add the use of new correlation management method. Add Ctx par. </li>
</ul>

</div>
</div>
<a class="anchor" id="a5cdd5a9409a95371fd05ab84eb2663ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorFndMciCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMciCor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list with the correlation list of an instrument. </p>
<p>Done a instrument code, it returns a pointer to a list with its correlations The returned list has the following columns:</p>
<ul>
<li>Ass1: First asset code</li>
<li>Ass2: Second asset code</li>
<li>Val : Value of the correlation The returned list is a pointer to a list of LdMkt so it won't be freed.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMkt</td><td>Market data objects list </td></tr>
    <tr><td class="paramname">Mci</td><td>Treated Monte Carlo instrument </td></tr>
    <tr><td class="paramname">LdMciCor</td><td>(Out). Correlations list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 23/Apr/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="a16e3f652934c3d2970bb3c3a940a77de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorGenCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the assets which are actived and make correlation calculations. </p>
<p>Get the assets which are actived and make correlation calculations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdCor</td><td>(out) Correlation list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 23/Mar/2010: </dd></dl>

</div>
</div>
<a class="anchor" id="a09d15d542c2b469a5a3a0eb1bd75c33b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorGetCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load correlations into a single data structure. </p>
<p>Load correlations into a single data structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMci</td><td>List of Monte Carlo intruments </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 20/Apr/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="afdccdd7e42d0b695cbd3a35224e0fc1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorGetImpPth </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the path of directory where import files for Monte Carlo correlations are located. </p>
<p>Get the path of directory where import files for Monte Carlo correlations are located</p>
<ul>
<li><p class="startli">Directory should be subdirectory "sta" in FXT_IMPORT directory</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Pth</td><td>(out) Path of directory with reserved memory: type GUT_PTH_TYPE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Nov/2007 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a9f011744112bd4c7e33e476aa1e14f52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorImpReaFil </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Fil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the list of correlations from a file. </p>
<p>Read the list of correlations from a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fil</td><td>File name with path with corelations to import. </td></tr>
    <tr><td class="paramname">LdCor</td><td>(out) List of correlations read from the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Nov/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 07/May/2009: OSD_STR_TYPE -&gt; OSD_STR_TYP</li>
<li>Ruben GIL - 13/Jan/2012: ALU Impacts: Call to DYNgetDescr with ERRchkDyn </li>
</ul>

</div>
</div>
<a class="anchor" id="a083720bd53974ea7846aaee499ed4b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorReaAstCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of the asset correlations. </p>
<p>Returns a list of the correlations of the instruments passed into the "LdMci" list. It shows the instrument implicit correlation and the correlations between the assets that are associated to the instrument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMci</td><td>List instrument codes to get theirs correlations. The code should come in "val" column </td></tr>
    <tr><td class="paramname">LdRes</td><td>(OUT) The data to refresh in the subscreen</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 31/May/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Ene/2007: Added the instrument</li>
<li>Ismael SERRANO - 05/Jun/2007: Init variable Whe</li>
<li>Jon BARRUTIA - 05/Nov/2007: Show only assets belonging to the selected instruments.</li>
<li>Gema ACHA - 19/Dec/2007: Show only correlations between actual assets</li>
<li>Jon BARRUTIA - 18/Jul/2008: Call to lcMCIcorGetAstCor to get the used asset; to adapt the code to the generic assets</li>
<li>Jon BARRUTIA - 30/Jul/2008: Verify if there is any asset before read</li>
<li>Jon BARRUTIA - 16/Jul/2009: lcMCIcorGetAstCor &ndash;&gt; MCIastGetMciAllAss</li>
<li>Alex RODRIGUEZ - 09/Mar/2010: Add the use of new correlation management method. </li>
</ul>

</div>
</div>
<a class="anchor" id="a332ee45991a7b5fec96d7e4c63a49080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorUpdCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the value of correlations in a list. </p>
<p>Update the value of correlations in a list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to save (not including current one) </td></tr>
    <tr><td class="paramname">LdCor</td><td>List of correlations to update (MciCod, Ass1, Ass2, Val)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 12/Nov/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 19/Jun/2009: Do not use nested multitrans because the function can be called from a function that opens a not multiple transaction. </li>
</ul>

</div>
</div>
<a class="anchor" id="a15910446fef90339c191d745f35706bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIcorUpdDleCor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OldMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Actualises the correlations of a deal-instrument. </p>
<p>Actualises the correlations of a deal-instrument. It allow to confirm the correlations without having deals data. Used when modifiying an instrument, to maintain the coherence between its associated assets and their correlations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Mod</td><td>Treatment mode. Depending on it, actualises or cancels the correlations. </td></tr>
    <tr><td class="paramname">Mci</td><td>Instrument code to remove the correlations </td></tr>
    <tr><td class="paramname">OldMci</td><td>Code of old instrument if window mode is modify </td></tr>
    <tr><td class="paramname">LdCor</td><td>List of assets used in all deals done with the treated instrument. Column: 'AssCod'. If no deals, pass NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/Mar/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 12/Sep/2008: Sustitute ACCgetTrtAlsBok by ACCgetBooksTrt</li>
<li>Alex RODRIGUEZ - 22/Sep/2009: Call to MCIcorDleCnf fi new method is active. It is the correlation generation new method.</li>
<li>David ROMERO - 20/Apr/2015: Remove redundant sentence of OldMci variable </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mci_cor_8c.html">mciCor.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
