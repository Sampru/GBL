<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mciIns.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mci_ins_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mciIns.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Treatments of the instruments manipulation window.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;bookAccess.h&gt;</code><br/>
<code>#include &lt;chaine.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;fsa_def.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;itf_def.h&gt;</code><br/>
<code>#include &lt;mb_def.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;sdt_def.h&gt;</code><br/>
<code>#include &lt;str_def.h&gt;</code><br/>
<code>#include &lt;uniq_key.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu_sfi_def_8h_source.html">afuSfiDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mci__def_8h_source.html">mci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3557b5ff2f89363c0bd9598071a160d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ab3557b5ff2f89363c0bd9598071a160d">lcMCIgetMciDta</a> (void *Ctx, int Typ, char *Mci, char *Whe, void **LdMci)</td></tr>
<tr class="memdesc:ab3557b5ff2f89363c0bd9598071a160d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list with the existent instruments.  <a href="#ab3557b5ff2f89363c0bd9598071a160d"></a><br/></td></tr>
<tr class="separator:ab3557b5ff2f89363c0bd9598071a160d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb394c6eb5a50ca08ba271ac2849c982"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#acb394c6eb5a50ca08ba271ac2849c982">lcMCIinsChkMciCod</a> (void *Ctx, char *MciCod, char *Mod)</td></tr>
<tr class="memdesc:acb394c6eb5a50ca08ba271ac2849c982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if instrument code already exits on database.  <a href="#acb394c6eb5a50ca08ba271ac2849c982"></a><br/></td></tr>
<tr class="separator:acb394c6eb5a50ca08ba271ac2849c982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c33fda166b0fc71154d8eea2c37f3aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a8c33fda166b0fc71154d8eea2c37f3aa">lcMCIinsCmp</a> (void *Ctx, void *LdObj, void *LdMci)</td></tr>
<tr class="memdesc:a8c33fda166b0fc71154d8eea2c37f3aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the payoff schedule in the database.  <a href="#a8c33fda166b0fc71154d8eea2c37f3aa"></a><br/></td></tr>
<tr class="separator:a8c33fda166b0fc71154d8eea2c37f3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5889fdd195b6960cd62fea2d88bbaf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a5d5889fdd195b6960cd62fea2d88bbaf">lcMCIinsCpyCod</a> (void *LdDes, void *LdOrg)</td></tr>
<tr class="memdesc:a5d5889fdd195b6960cd62fea2d88bbaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the internal codes.  <a href="#a5d5889fdd195b6960cd62fea2d88bbaf"></a><br/></td></tr>
<tr class="separator:a5d5889fdd195b6960cd62fea2d88bbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9a23d708e77280bf6640da71545079"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#abb9a23d708e77280bf6640da71545079">lcMCIinsFndPvb</a> (void *LdPvb, char *ValFld, char *Fld, void *LdDta, int CntDta, void **DtaOut, short *VldOut)</td></tr>
<tr class="memdesc:abb9a23d708e77280bf6640da71545079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the value of a string type variable parameter.  <a href="#abb9a23d708e77280bf6640da71545079"></a><br/></td></tr>
<tr class="separator:abb9a23d708e77280bf6640da71545079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cfef5a0d571e26d27113c03e66c8e5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a81cfef5a0d571e26d27113c03e66c8e5">lcMCIinsLst</a> (void *Ctx, void *LdObj, void *LdMci, char *Ide, char *Tbl)</td></tr>
<tr class="memdesc:a81cfef5a0d571e26d27113c03e66c8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a sub list in the database.  <a href="#a81cfef5a0d571e26d27113c03e66c8e5"></a><br/></td></tr>
<tr class="separator:a81cfef5a0d571e26d27113c03e66c8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab434f4fef66e444f75b900b85148025a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ab434f4fef66e444f75b900b85148025a">lcMCIinsPvb</a> (void *Ctx, void *LdObj, void *LdMci)</td></tr>
<tr class="memdesc:ab434f4fef66e444f75b900b85148025a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the variable parameters in the database.  <a href="#ab434f4fef66e444f75b900b85148025a"></a><br/></td></tr>
<tr class="separator:ab434f4fef66e444f75b900b85148025a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb77b8edd96568258f1ab7480777671c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#adb77b8edd96568258f1ab7480777671c">lcMCIinsTdt</a> (void *Ctx, void *LdObj, void *LdMci)</td></tr>
<tr class="memdesc:adb77b8edd96568258f1ab7480777671c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the time dependent table in the database.  <a href="#adb77b8edd96568258f1ab7480777671c"></a><br/></td></tr>
<tr class="separator:adb77b8edd96568258f1ab7480777671c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3a92d51400b7e941291b4adc52f9a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a7a3a92d51400b7e941291b4adc52f9a6">MCIgetMci</a> (void *Ctx, char *Mci, char *Whe, void **LdMci)</td></tr>
<tr class="memdesc:a7a3a92d51400b7e941291b4adc52f9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list with the existent instrument codes.  <a href="#a7a3a92d51400b7e941291b4adc52f9a6"></a><br/></td></tr>
<tr class="separator:a7a3a92d51400b7e941291b4adc52f9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ea0f5b9be5b609657832870a2044d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ad6ea0f5b9be5b609657832870a2044d3">MCIgetMciDta</a> (void *Ctx, char *Mci, char *Whe, void **LdMci)</td></tr>
<tr class="memdesc:ad6ea0f5b9be5b609657832870a2044d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list with some instrument data.  <a href="#ad6ea0f5b9be5b609657832870a2044d3"></a><br/></td></tr>
<tr class="separator:ad6ea0f5b9be5b609657832870a2044d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a655f1aad24dc03c180622ebf75928"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ad5a655f1aad24dc03c180622ebf75928">MCIinsGetMciDea</a> (void *Ctx, char *Stk, char *Fld, void *LdAss, void *LdIns, void *LdNpa, void **LdMci)</td></tr>
<tr class="memdesc:ad5a655f1aad24dc03c180622ebf75928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get MC instruments data with some deal information.  <a href="#ad5a655f1aad24dc03c180622ebf75928"></a><br/></td></tr>
<tr class="separator:ad5a655f1aad24dc03c180622ebf75928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9234b7f1e6f59664def334374d86ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#afd9234b7f1e6f59664def334374d86ad">MCIinsGetAssCndCur</a> (void *Ctx, void *LdAls, void **LdCur, void **LlMciCur)</td></tr>
<tr class="memdesc:afd9234b7f1e6f59664def334374d86ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the asset's currency from a payoff condition.  <a href="#afd9234b7f1e6f59664def334374d86ad"></a><br/></td></tr>
<tr class="separator:afd9234b7f1e6f59664def334374d86ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e50cbbe5faf151f4c11ea94b5c297c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#aa1e50cbbe5faf151f4c11ea94b5c297c">MCIinsGetLegDta</a> (void *Ctx, void **LdLeg)</td></tr>
<tr class="memdesc:aa1e50cbbe5faf151f4c11ea94b5c297c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get leg's referen useful data for the all instruments.  <a href="#aa1e50cbbe5faf151f4c11ea94b5c297c"></a><br/></td></tr>
<tr class="separator:aa1e50cbbe5faf151f4c11ea94b5c297c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad839a8ca12e16ae16103710f6b5b3005"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ad839a8ca12e16ae16103710f6b5b3005">MCIinsGetMci</a> (void *Ctx, void *LdAls, void *LdDea, char *Dat, int CalFxg, void *LdSrcDea, void *LdSrcPvb, void *LdSrcTdt, void **LdMci)</td></tr>
<tr class="memdesc:ad839a8ca12e16ae16103710f6b5b3005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation of the MC instruments data objects list.  <a href="#ad839a8ca12e16ae16103710f6b5b3005"></a><br/></td></tr>
<tr class="separator:ad839a8ca12e16ae16103710f6b5b3005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55442072554a686d8577ea88511629d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a55442072554a686d8577ea88511629d6">MCIinsDelMci</a> (void **LdMci)</td></tr>
<tr class="memdesc:a55442072554a686d8577ea88511629d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruction of the instruments data list.  <a href="#a55442072554a686d8577ea88511629d6"></a><br/></td></tr>
<tr class="separator:a55442072554a686d8577ea88511629d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebd7bba372f6a88d96452f6a3940987"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#adebd7bba372f6a88d96452f6a3940987">MCIinsCtl</a> (void *Ctx, char *Mod, char *MciCod, char *OldMciCod, void *LdObj, int *Ctn)</td></tr>
<tr class="memdesc:adebd7bba372f6a88d96452f6a3940987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls before saving the instrument into the database.  <a href="#adebd7bba372f6a88d96452f6a3940987"></a><br/></td></tr>
<tr class="separator:adebd7bba372f6a88d96452f6a3940987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0ea11c9d75d3e823452f766a417a94"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#aea0ea11c9d75d3e823452f766a417a94">MCIinsCnf</a> (void *Ctx, void *LdObj, void *LdMci, char *Mod, char *Pfm, char *Plr, char *LegRef, char *OldMciCod)</td></tr>
<tr class="memdesc:aea0ea11c9d75d3e823452f766a417a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of the instrument.  <a href="#aea0ea11c9d75d3e823452f766a417a94"></a><br/></td></tr>
<tr class="separator:aea0ea11c9d75d3e823452f766a417a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a458f66436870dc80b96574a8caaa4010"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a458f66436870dc80b96574a8caaa4010">MCIinsGetDea</a> (void *LdAls, void *LdPos, char *Ctr, char *Msg)</td></tr>
<tr class="memdesc:a458f66436870dc80b96574a8caaa4010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify is the instrument contract have deals.  <a href="#a458f66436870dc80b96574a8caaa4010"></a><br/></td></tr>
<tr class="separator:a458f66436870dc80b96574a8caaa4010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532c47c38c3ac8eb1c6d5aa9544b08b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a532c47c38c3ac8eb1c6d5aa9544b08b0">MCIinsClo</a> (void *Ctx, int IntCod, int OldCod)</td></tr>
<tr class="memdesc:a532c47c38c3ac8eb1c6d5aa9544b08b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an instrument.  <a href="#a532c47c38c3ac8eb1c6d5aa9544b08b0"></a><br/></td></tr>
<tr class="separator:a532c47c38c3ac8eb1c6d5aa9544b08b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d08f2452fc51e9d7f775741cbab94f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a85d08f2452fc51e9d7f775741cbab94f">MCIinsRst</a> (void *LdObj)</td></tr>
<tr class="memdesc:a85d08f2452fc51e9d7f775741cbab94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific reset of an Instrument.  <a href="#a85d08f2452fc51e9d7f775741cbab94f"></a><br/></td></tr>
<tr class="separator:a85d08f2452fc51e9d7f775741cbab94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae4ba8ca4c7d803a7875090a39953f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a9ae4ba8ca4c7d803a7875090a39953f4">MCIinsGetFulMci</a> (void *Ctx, void *LdAls, char *Dat, void *LdTra, void *LdPvb, void *LdTim, void **LdMci)</td></tr>
<tr class="memdesc:a9ae4ba8ca4c7d803a7875090a39953f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation of the MC instruments data objects list.  <a href="#a9ae4ba8ca4c7d803a7875090a39953f4"></a><br/></td></tr>
<tr class="separator:a9ae4ba8ca4c7d803a7875090a39953f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44929066a91c8681aaa6973a9d8fc24d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a44929066a91c8681aaa6973a9d8fc24d">MCIinsGetCndSch</a> (void *LdMci, void **LdSch)</td></tr>
<tr class="memdesc:a44929066a91c8681aaa6973a9d8fc24d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation of a MC instrument conditions schedule.  <a href="#a44929066a91c8681aaa6973a9d8fc24d"></a><br/></td></tr>
<tr class="separator:a44929066a91c8681aaa6973a9d8fc24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976fe96b4d3471e9efcb68a2553ff88a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#a976fe96b4d3471e9efcb68a2553ff88a">MCIinsSetPvbCmpTyp</a> (void *LdMci)</td></tr>
<tr class="memdesc:a976fe96b4d3471e9efcb68a2553ff88a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the variable parameter for the component type.  <a href="#a976fe96b4d3471e9efcb68a2553ff88a"></a><br/></td></tr>
<tr class="separator:a976fe96b4d3471e9efcb68a2553ff88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f4a6c5f11f4ddc75f3ad87fdb5e479"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_ins_8c.html#ae5f4a6c5f11f4ddc75f3ad87fdb5e479">MCIinsSetCmpTyp</a> (void *LdCmp)</td></tr>
<tr class="memdesc:ae5f4a6c5f11f4ddc75f3ad87fdb5e479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Substitute the components types by treated functions by FEA.  <a href="#ae5f4a6c5f11f4ddc75f3ad87fdb5e479"></a><br/></td></tr>
<tr class="separator:ae5f4a6c5f11f4ddc75f3ad87fdb5e479"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Treatments of the instruments manipulation window. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MCIins</dd></dl>
<dl class="section user"><dt>Library</dt><dd>mci</dd></dl>
<p>Treatments of the instruments manipulation window</p>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 14/May/2004 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab3557b5ff2f89363c0bd9598071a160d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIgetMciDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Typ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Whe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list with the existent instruments. </p>
<p>Returns a list with the existent instruments It takes the instrument list existent in FIT MO (cst.ide = 'hook') changing the connection if the IsGv cst flag says that the connected database is not the hook one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Typ</td><td>Enumerate for the fields to select and the type of using the instrument code as where clause. Filtering clause:<ul>
<li>0: The passed string as instrument code will be used as a filter, in a LIKE</li>
<li>1: The passed instrument code has to be the entire code. Recovered fields:</li>
<li>0: MciCod : Instrument code</li>
<li>1: MciCod : Instrument code Dev : Currency MciDes : Description MciCrv : Payments leg reference Plr : Premium leg reference MciLstDat: Last option date Pfm : Price format (percentage, units) </li>
</ul>
</td></tr>
    <tr><td class="paramname">Mci</td><td>Instrument code (partially or totally inserted) to use in the selection </td></tr>
    <tr><td class="paramname">Whe</td><td>Clause to add to the where part of the selection </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). Instrument list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 29/Mar/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 10/Apr/2007: MciCrv returned</li>
<li>Jon BARRUTIA - 11/Apr/2007: Sta field is integer</li>
<li>Jon BARRUTIA - 24/Apr/2007: The App argument is not needed because the instruments are defined</li>
<li>Ismael SERRANO - 08/May/2007: Remove MciLstDat</li>
<li>Josune BIKUNA - 29/Jun/2007: Get alfo the price format field (Pfm)</li>
<li>Jon BARRUTIA - 05/Nov/2007: With Typ=1, do not do a LIKE</li>
<li>Jon BARRUTIA - 27/Jun/2008: Recover also Plr for typ = 1</li>
<li>Gotzon ETXEBERRIA - 16/Feb/2009: Recover also Ved for typ = 1 </li>
</ul>

</div>
</div>
<a class="anchor" id="acb394c6eb5a50ca08ba271ac2849c982"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsChkMciCod </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if instrument code already exits on database. </p>
<p>Check if instrument code already exits on database. If exits show a warning with the books where the instrument exits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conection </td></tr>
    <tr><td class="paramname">MciCod</td><td>Instument code </td></tr>
    <tr><td class="paramname">Mod</td><td>Window mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 13/Dec/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 07/May/2008: Use AfuMciDff to get diffusion alias for structure data</li>
<li>Jon BARRUTIA - 28/May/2008: Control if no diffusion books are defined. Modify the instrument verification taking into account also the status of the instrument. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8c33fda166b0fc71154d8eea2c37f3aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsCmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert the payoff schedule in the database. </p>
<p>Insert the payoff schedule in the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdObj</td><td>Destination list </td></tr>
    <tr><td class="paramname">LdMci</td><td>Instrument큦 list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 21/Dec/2006.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 09/Mar/2007: Check if the list is empty</li>
<li>Ismael SERRANO - 23/Apr/2007: Add StkPvb</li>
<li>Ismael SERRANO - 11/Jun/2007: free LdCmp</li>
<li>Ismael SERRANO - 05/Jul/2007: Added AmoPvb</li>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a></li>
<li>Ismael SERRANO - 19/Oct/2007: Automatic component order management</li>
<li>Basilio TAMAYO - 16/Nov/2007: Delete columns AmoCte, WeiCte, StkCte from afuMciSubCmp</li>
<li>Jose M. NUNEZ - 18/Mar/2009: Added WeiPvb. </li>
</ul>

</div>
</div>
<a class="anchor" id="a5d5889fdd195b6960cd62fea2d88bbaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsCpyCod </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdOrg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the internal codes. </p>
<p>Copy the internals codes of the instrument before the insertion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDes</td><td>Destination list </td></tr>
    <tr><td class="paramname">LdOrg</td><td>Source list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 21/Dec/2006.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="abb9a23d708e77280bf6640da71545079"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsFndPvb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPvb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ValFld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CntDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>DtaOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>VldOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the value of a string type variable parameter. </p>
<p>Obtain the value of a string type variable parameter for a given deal. Given a variable parameter field, its value will be first searched in the list of variable parameters passed as parameter, and if it is not found, it will be searched in the data list passed also as parameter. This function supposes that all data refers to an instrument-deal.</p>
<ul>
<li>The variable parameter list must have at least the following columns:</li>
<li>- "CodPar": field name of the variable parameter</li>
<li>- "ValDat": value of the variable parameter OR</li>
<li>- "ValNum": value of the variable parameter</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPvb</td><td>List of variable parameters </td></tr>
    <tr><td class="paramname">ValFld</td><td>Name of the field in the list of variable parameters where the value to recover is store ("ValDat", "ValNum", ...) </td></tr>
    <tr><td class="paramname">Fld</td><td>Name of the variable parameter field for which the value is required </td></tr>
    <tr><td class="paramname">LdDta</td><td>List of data used to search the value in case the variable parameter is not present in the variable parameters list </td></tr>
    <tr><td class="paramname">CntDta</td><td>Index in the data list where the value must be searched </td></tr>
    <tr><td class="paramname">DtaOut</td><td>(OUT) Searched value </td></tr>
    <tr><td class="paramname">VldOut</td><td>(OUT) Validity flag of th searched value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 28/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 23/Oct/2012: Modifications in header to avoid Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a81cfef5a0d571e26d27113c03e66c8e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsLst </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ide</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tbl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert a sub list in the database. </p>
<p>Insert a sub list in the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdObj</td><td>Destination list </td></tr>
    <tr><td class="paramname">LdMci</td><td>Instrument큦 list </td></tr>
    <tr><td class="paramname">Ide</td><td>List name </td></tr>
    <tr><td class="paramname">Tbl</td><td>Table name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 21/Dec/2006.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="ab434f4fef66e444f75b900b85148025a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsPvb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert the variable parameters in the database. </p>
<p>Insert the variable parameters in the database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdObj</td><td>Destination list </td></tr>
    <tr><td class="paramname">LdMci</td><td>Instrument큦 list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 08/May/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="adb77b8edd96568258f1ab7480777671c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIinsTdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert the time dependent table in the database. </p>
<p>Insert the time dependent table in the database. If the table name has been changed update it in the table that has the TDT values (afuTimDep)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdObj</td><td>Destination list </td></tr>
    <tr><td class="paramname">LdMci</td><td>Instrument큦 list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 26/Mar/2008.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 20/OCT/2008: LdAls declared but not used </li>
</ul>

</div>
</div>
<a class="anchor" id="a7a3a92d51400b7e941291b4adc52f9a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIgetMci </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Whe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list with the existent instrument codes. </p>
<p>Returns a list with the existent instrument codes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Mci</td><td>Instrument code (partially inserted) to use in the selection </td></tr>
    <tr><td class="paramname">Whe</td><td>Clause to add to the where part of the selection </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). Instrument list. One column called 'MciCod'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 21/Mar/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 29/Mar/2007. Call to lcMCIgetMciDta</li>
<li>Jon BARRUTIA - 24/Apr/2007: Remove the App argument because it is not used </li>
</ul>

</div>
</div>
<a class="anchor" id="ad6ea0f5b9be5b609657832870a2044d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIgetMciDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Whe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list with some instrument data. </p>
<p>Returns a list with some instrument data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Mci</td><td>Instrument code (partially inserted) to use in the selection </td></tr>
    <tr><td class="paramname">Whe</td><td>Clause to add to the where part of the selection </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). Instrument list. The returned columns are:<ul>
<li>MciCod : Instrument code</li>
<li>Dev : Currency</li>
<li>MciDes : Description</li>
<li>MciLstDat: Last option date</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 29/Mar/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/Apr/2007: Remove the App argument because it is not used </li>
</ul>

</div>
</div>
<a class="anchor" id="a532c47c38c3ac8eb1c6d5aa9544b08b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsClo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IntCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>OldCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close an instrument. </p>
<p>Close an instrument. To do it:</p>
<ul>
<li>Set the status to zero</li>
<li>Set as 'UppCod' the 'IntCod' in the 'afuMci','afuMciCmp','afuMciSubCmp','afuMciTim','afuMciAst','afuMciCnd', 'afuMciPvb' tables.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Context to the DB. </td></tr>
    <tr><td class="paramname">IntCod</td><td>Internal code </td></tr>
    <tr><td class="paramname">OldCod</td><td>Internal old code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 20/Dec/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 23/Mar/2007: Added MciRet</li>
<li>Ismael SERRANO - 27/mar/2007: Remove MciRet</li>
<li>Ismael SERRANO - 05/Apr/2007: Added MciPvb</li>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from EMCIinsClo</li>
<li>Basilio TAMAYO - 29/Nov/2007: Delete table afuMciCte; it is obsoleted. </li>
</ul>

</div>
</div>
<a class="anchor" id="aea0ea11c9d75d3e823452f766a417a94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pfm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Plr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LegRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OldMciCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirmation of the instrument. </p>
<p>Confirmation of the instrument</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">LdMci</td><td>MC instruments data list. </td></tr>
    <tr><td class="paramname">Mod</td><td>Treatment mode </td></tr>
    <tr><td class="paramname">Pfm</td><td>Price format. Only when it should be impacted in 'ctr' table. Otherwise, NULL. </td></tr>
    <tr><td class="paramname">Plr</td><td>Premium reference. Only when it should be impacted in 'ctr' table. Otherwise, NULL. </td></tr>
    <tr><td class="paramname">LegRef</td><td>Payments reference. Only when it should be impacted in 'ctr' table. Otherwise, NULL. </td></tr>
    <tr><td class="paramname">OldMciCod</td><td>MC instrument old code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 15/Oct/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 29/Nov/2007: Delete table afuMciCte, it is obsoleted</li>
<li>Gema ACHA - 13/Dec/2007: If the instrument name changed, check if exits in database</li>
<li>Gema ACHA - 26/Mar/2008: Change function to save TDT</li>
<li>Jon BARRUTIA - 27/Mar/2008: Use macrodefinitions for phases. Call to MCIcorDelNokCor and to MCIcorDelMciCor to remove not used correlations.</li>
<li>Gema ACHA - 07/May/2008: use AfuMciDff to get diffusion alias</li>
<li>Gema ACHA - 27/May/2008: if the aren't diffusion books the treatment has to confirm in the current book (MO)</li>
<li>Jon BARRUTIA - 12/Jun/2008: Treat all books when diffusing</li>
<li>Jon BARRUTIA - 30/Jun/2008: Treat two references instead of only one: update "s1_leg" and "s2_leg" columns of "ctr" instead of "cf_ref".</li>
<li>Jon BARRUTIA - 18/Jul/2008: Call to MCIcorUpdDleCor. Update correlation definition outside the bucle for each alias</li>
<li>Jon BARRUTIA - 12/Dec/2008: Treat correctly the diffusion and retrieve mode </li>
</ul>

</div>
</div>
<a class="anchor" id="adebd7bba372f6a88d96452f6a3940987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsCtl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OldMciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ctn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls before saving the instrument into the database. </p>
<p>Controls before saving the instrument into the database. It checks:</p>
<ul>
<li>the instrument identifier should be different of the existent contract codes</li>
<li>the existence of a payoff schedule</li>
<li>the existence of any asset associated to the instrument</li>
<li>All conditions are defined in payoff schedule.</li>
<li>All variable parameters of payoff schedule are defined in the list of variable parameters</li>
<li>All variable parameters of payoff conditions are defined in the list of variable parameters</li>
<li>All assets of payoff schedule are defined in the list of assets</li>
<li>All selected time dependent tables have to be in the time dependent list</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Mod</td><td>Treatment mode </td></tr>
    <tr><td class="paramname">MciCod</td><td>Code of the instrument </td></tr>
    <tr><td class="paramname">OldMciCod</td><td>Old code of the instrument </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Ctn</td><td>(OUT) Boolean. Continue with the treatment (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 13/May/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/May/2004: Added control of the existences of assets</li>
<li>Jon BARRUTIA - 17/Oct/2007: Actualised to the new version of ST libraries</li>
<li>Jon BARRUTIA - 17/Oct/2007: Use error messages taken from DAT instead of hard coded</li>
<li>Basilio TAMAYO - 19/Dec/2007: Add new checks that conditions, parameters and assets are defined for current instrument.</li>
<li>Basilio TAMAYO - 02/Jan/2008: Do not access to lists that are NULL.</li>
<li>Gema ACHA - 04/Mar/2008: Add time dependent tables control</li>
<li>Jon BARRUTIA - 26/Mar/2008: Add a control of the contract codes. EMCItimChkIns -&gt;MCItimChkIns</li>
<li>Jon BARRUTIA - 26/Mar/2008: Taken from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a></li>
<li>Jon BARRUTIA - 27/Mar/2008: Error from err_cod_afu.dat. Correct control of contract uniqueness</li>
<li>Jon BARRUTIA - 11/Sep/2008: Treat also the Clf equal to MCI_PVBCLF_APP.</li>
<li>Jon BARRUTIA - 22/Sep/2008: MCI_PVB_* &ndash;&gt; MCI_PVBCLF_*</li>
<li>Jose M. NUNEZ - 18/Mar/2009: Add a control to use variable parameters for weight.</li>
<li>Lorea NAVARRO - 23/Oct/2012: Modifications in header to avoid Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a55442072554a686d8577ea88511629d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsDelMci </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruction of the instruments data list. </p>
<p>Destruction of the instruments data list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>Instruments list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 28/Sep/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 02/Oct/2007: Take into account also the fixed initial values</li>
<li>Jon BARRUTIA - 18/Oct/2007: Verify the existence of LdSub before freeing it</li>
<li>Jon BARRUTIA - 17/Dec/2008: Remove LdCte </li>
</ul>

</div>
</div>
<a class="anchor" id="afd9234b7f1e6f59664def334374d86ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetAssCndCur </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlMciCur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the asset's currency from a payoff condition. </p>
<p>Get the currencies used in the assets used in conditions for all the instruments. It returns a list with:</p>
<ul>
<li>MciCod: instrument code</li>
<li>CndCod: condition code</li>
<li>AssCod: asset code</li>
<li>Dev : currency code And another one (LlMciCur) that is a sublist with all the currencies for the instruments.</li>
<li>MciCod: instrument code</li>
<li>List: Sublist with a 'Dev' column</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>Diffusion books list </td></tr>
    <tr><td class="paramname">LdCur</td><td>(OUT) Result list </td></tr>
    <tr><td class="paramname">LlMciCur</td><td>(OUT) Result list with the different currencies for each instrument (depending on its assets. It has two columns: 'MciCod' and 'List' (this is a list with a column 'Dev')</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 29/Aug/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 30/Aug/2007: Add table alias in ORDER BY clause</li>
<li>Jon BARRUTIA - 30/Aug/2007: Correct the ORDER BY clause alias for MciCod</li>
<li>Josune BIKUNA - 13/Nov/2007: Return also another LL list with the currencies associated to its instrument. See parameters</li>
<li>Jon BARRUTIA - 18/Jul/2008: Modify data selection to treat generic assets </li>
</ul>

</div>
</div>
<a class="anchor" id="a44929066a91c8681aaa6973a9d8fc24d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetCndSch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generation of a MC instrument conditions schedule. </p>
<p>Generation of a MC instrument conditions schedule If no conditions are defined for a payoff component, and it only has one subcomponent, the schedule is not generated. It returns NULL to allow generate it following the selected reference (calling to SWPgetEchFromTra without 'LdDat' argument, as for the swaps).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>MC instruments objects list </td></tr>
    <tr><td class="paramname">LdSch</td><td>(out). Schedule for the conditions of the treated instrument. NULL if only one component and no conditions associated</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 19/Dec/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/Dec/2008: Correct when only one component</li>
<li>Jon BARRUTIA - 20/Jan/2009: Correct component code and unify code</li>
<li>Jon BARRUTIA - 27/Jan/2009: Treat other function types. Convert function type defined as variable parameter in a standard function type.</li>
<li>Jon BARRUTIA - 10/Feb/2009: IF function takes the component as origin</li>
<li>Jon BARRUTIA - 17/Feb/2009: If no conditions are defined for a payoff component, and it only has one subcomponent, the schedule is not generated. It returns NULL to allow generate it following the selected reference. </li>
</ul>

</div>
</div>
<a class="anchor" id="a458f66436870dc80b96574a8caaa4010"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetDea </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify is the instrument contract have deals. </p>
<p>Verify is the instrument contract have deals. If the instrument dont has deals, msg return empty</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdAls</td><td>List of alias </td></tr>
    <tr><td class="paramname">LdPos</td><td>Instrument deals </td></tr>
    <tr><td class="paramname">Ctr</td><td>Instrument contract </td></tr>
    <tr><td class="paramname">Msg</td><td>(out) Error message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ruben GIL - 27/Aug/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a></li>
<li>Jon BARRUTIA - 20/Oct/2008: Book name comes into "bok" column instead of "nam". </li>
</ul>

</div>
</div>
<a class="anchor" id="a9ae4ba8ca4c7d803a7875090a39953f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetFulMci </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPvb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generation of the MC instruments data objects list. </p>
<p>Generates a objects list with all the information of the MC instruments that are needed to launch the calculations. It adds some columns to the passed list.</p>
<ul>
<li>"LdAss": assets data list</li>
<li>"LdPof": payoff data list</li>
<li>"LdPoc": payoff conditions data list</li>
<li>"LdTim": time dependent tables data list</li>
<li>"LdPvb": variable parameters data list</li>
<li>"LdIni": fixed initial values data list</li>
</ul>
<p>To allow to recover instrument information without any deal into the database exist some arguments: LdTra, LdPvb, LdTim. With these arguments, the function receives all the information that it usually recovers. They allow to launch calculations for deals that are not inserted into the database. The LdSrcPvb is used to convert the generic assets into the specifics ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias where deal are </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date. Used to get the fixed initial values </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deal data. It should be a list with the following columns: "als, MciCod, tc_num, tc_npa, cc_dev, tc_qnt, tc_sgn, tc_dva, tc_clo, cb_str, to_eam" </td></tr>
    <tr><td class="paramname">LdPvb</td><td>Variable parameter data. It should be a list with the following columns: "TcNum, als, CodPar, Typ, ValDat, mrk" </td></tr>
    <tr><td class="paramname">LdTim</td><td>List of time dependant tables. It should be a list with the following columns: "MciCod, DepCod, Dat, Val, Num, IntMth" </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). MC instruments objects list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 16/Dec/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 19/Dec/2008: New argument to MCIfxgSetFxgDat</li>
<li>Jon BARRUTIA - 29/Dec/2008: Pass always the deal data list, variable parameters and time dependent tables. Unify deal data lists and pass only one.</li>
<li>Jon BARRUTIA - 21/Jan/2009: Call to MCIpvbInsOblPvb to insert dva and clo as pvb</li>
<li>Jon BARRUTIA - 28/Jan/2009: Substitute the components types by treated functions by FEA </li>
</ul>

</div>
</div>
<a class="anchor" id="aa1e50cbbe5faf151f4c11ea94b5c297c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetLegDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLeg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get leg's referen useful data for the all instruments. </p>
<p>Get leg's referen useful data for the all instruments</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdLeg</td><td>(OUT) Result list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 29/Aug/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 30/Aug/2007: Added table alias</li>
<li>Josune BIKUNA - 24/Sep/2007: Recover the information if the adjustment must be done or not, this is, the 'adj' column of the leg reference </li>
</ul>

</div>
</div>
<a class="anchor" id="ad839a8ca12e16ae16103710f6b5b3005"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetMci </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CalFxg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSrcDea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSrcPvb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSrcTdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generation of the MC instruments data objects list. </p>
<p>Generates a objects list with all the information of the MC instruments that are needed to launch the calculations. It adds some columns to the passed list.</p>
<ul>
<li>"LdAss": assets data list</li>
<li>"LdPof": payoff data list</li>
<li>"LdPoc": payoff conditions data list</li>
<li>"LdTim": time dependent tables data list</li>
<li>"LdPvb": variable parameters data list</li>
<li>"LdIni": fixed initial values data list</li>
</ul>
<p>The initial values for the last fixing date is read from the database or calculated if they do not exist, depending on the value of the 'CalFxg' argument.</p>
<p>To allow to recover instrument information without any deal into the database exist two arguments: LdSrcDea and LdSrcPvb. With these arguments, the function receives all the information that it usually recovers. They allows to launch calculations for deals that are not inserted into the database. Pass NULL to allow the function to recover all information. The LdSrcPvb is used to convert the generic assets into the specifics ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias where deal are </td></tr>
    <tr><td class="paramname">LdDea</td><td>List of deals to get the information. It should have the following columns as minimum:<ul>
<li>MciCod: Code of the instrument</li>
<li>IntCod: Internal code of the instrument</li>
<li>tc_npa: Ticket number</li>
<li>tc_num: Deal number</li>
<li>als : Database alias </li>
</ul>
</td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date. Used to get the fixed initial values </td></tr>
    <tr><td class="paramname">CalFxg</td><td>Flag to indicate if the fixing should be calculated (1) or not (0) when no fixed initial values exist. </td></tr>
    <tr><td class="paramname">LdSrcDea</td><td>Deal data. NULL to recover them from the database. </td></tr>
    <tr><td class="paramname">LdSrcPvb</td><td>Variable parameter data. NULL to recover them from the database. </td></tr>
    <tr><td class="paramname">LdSrcTdt</td><td>List of time dependant tables. </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). MC instruments objects list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 28/Sep/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 02/Oct/2007: Take also the fixed initial values</li>
<li>Jon BARRUTIA - 03/Oct/2007: Read diffusion alias list if not in MO</li>
<li>Jon BARRUTIA - 03/Oct/2007: Allow passing deal and variable parameters data by argument</li>
<li>Jon BARRUTIA - 05/Oct/2007: The initial values are fixed at the end, after setting the fixing date</li>
<li>Jon BARRUTIA - 08/Oct/2007: When getting deal information, take only MC blind deals. The "Nom", "Sgn", "Pty", "Eam" are added to the instrument information data list instead of the Pvb list. Call to MCIreaCndMci.</li>
<li>Jon BARRUTIA - 18/Oct/2007: Initialise to NULL the initial values list in each loop</li>
<li>Josune BIKUNA - 13/Nov/2007: Get also in the returned instrument list the flag 'Mdb'</li>
<li>Josune BIKUNA - 13/Nov/2007: Add database parameter when calling MCIfxgSetFxgDat</li>
<li>Basilio TAMAYO - 14/Nov/2007: Do not read MCI constants; obsoleted.</li>
<li>Jon BARRUTIA - 10/Dec/2007: Recover also the strip frequency of the instrument</li>
<li>Gema ACHA - 28/Feb/2008: Add deal number parameter</li>
<li>Gema ACHA - 10/Mar/2008: Add TDT list parameter. If NULL try to get TDT data from database</li>
<li>Gema ACHA - 25/Mar/2008: Get TDT values from FO books</li>
<li>Jon BARRUTIA - 27/May/2008: Destroy LdTim to free memory correctly</li>
<li>Jon BARRUTIA - 18/Jul/2008: Modified calls to MCIastGetMciAss, MCIcmpGetMciCmp and MCIfxgSetFxgDat</li>
<li>Jon BARRUTIA - 23/Jul/2008: Take into account the interpolation method</li>
<li>Jon BARRUTIA - 29/Jul/2008: Take specified generic asset from the variable parameter if they exist. Used only when launched from the deal entry, because the variable parameters are not in the database.</li>
<li>Jon BARRUTIA - 29/Jul/2008: Call to MCIastGetMciAss modified</li>
<li>Jon BARRUTIA - 22/Oct/2008: tc_dva is substituted by ":ValDat" (MCI_PVBDEF_DVA). tc_clo is substituted by ":CloDat" (MCI_PVBDEF_CLO).</li>
<li>Jon BARRUTIA - 15/Dec/2008: MciMcm recovered to pass it to the calculations. Sort list order when removing them.</li>
<li>Jon BARRUTIA - 16/Dec/2008: Remove LdCte</li>
<li>Jon BARRUTIA - 19/Dec/2008: New argument to MCIfxgSetFxgDat</li>
<li>Jon BARRUTIA - 18/Feb/2009: Take also BlnTyp (used to generate the imc)</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="ad5a655f1aad24dc03c180622ebf75928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsGetMciDea </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Stk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdIns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdNpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get MC instruments data with some deal information. </p>
<p>Get MC instruments data with some deal information. Sorted by instrument code. It returns a list with:</p>
<ul>
<li>MciCod: instrument code</li>
<li>tc_num: deal number</li>
<li>all fields passed in the "Fld" argument. They can be from afuMci m, afuMciAst a, tra_ouv t, ctr c tables.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Stk</td><td>Stock source:<ul>
<li>MCI_DEA_OPN tra_ouv</li>
<li>MCI_DEA_VLD tra with tc_sta = 1</li>
<li>MCI_DEA_VLD_CAN tra with tc_sta = 1 or cancelled (tc_stf = 's') </li>
</ul>
</td></tr>
    <tr><td class="paramname">Fld</td><td>More fields to recover. Format: ", t.to_cpu". If nothing, "". </td></tr>
    <tr><td class="paramname">LdAss</td><td>List of assets codes to use in the selection. NULL for all. </td></tr>
    <tr><td class="paramname">LdIns</td><td>List of instrument codes to use in the selection. NULL for all. </td></tr>
    <tr><td class="paramname">LdNpa</td><td>List of ticket numbers to use in the selection. NULL for all. </td></tr>
    <tr><td class="paramname">LdMci</td><td>(out). Instrument list. One column called 'MciCod'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 01/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 05/Jul/2007: Join also with ctr table to allow getting contract data</li>
<li>Jordi CAMARASA - 23/Aug/2007: Add tc_npa</li>
<li>Gema ACHA - 23/Jan/2008: Add Npa parameter.</li>
<li>Gema ACHA - 07/May/2008: Use AfuMciDff to get diffusion alias</li>
<li>Basilio TAMAYO - 09/Dec/2008: Use lists to limit data.</li>
<li>Gotzon ETXEBERRIA - 18/Mar/2009: Add new param Stk</li>
<li>Lorea NAVARRO - 23/Oct/2012: Modifications in header to avoid Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a85d08f2452fc51e9d7f775741cbab94f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsRst </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific reset of an Instrument. </p>
<p>Specific reset of an instrument. Delete all the sublist</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 23/May/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Oct/2007: Imported from <a class="el" href="emci_ins_8c.html" title="Interface with engines for models a MC instrument.">emciIns.c</a></li>
<li>Basilio TAMAYO - 29/Nov/2007: Object MciCte is not used any more </li>
</ul>

</div>
</div>
<a class="anchor" id="ae5f4a6c5f11f4ddc75f3ad87fdb5e479"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsSetCmpTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCmp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Substitute the components types by treated functions by FEA. </p>
<p>Substitute the components types by treated functions by FEA. In the components types the user can choose FEA's functions and also variable parameters. This parameters should be converted into FEA's functions depending its value. Substitutions:</p>
<ul>
<li>:CallPut: converted to "call" if the variable parameter of the deal is "C"; otherwise, "put".</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCmp</td><td>Components data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 26/Nov/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/Sep/2008: "to_cpu" will call from now on ":CallPut" (MCI_PVBDEF_CPU)</li>
<li>Jon BARRUTIA - 28/Jan/2009: Taken from <a class="el" href="mci_fxg_8c.html" title="Functions for specific function in the initial values fixing.">mciFxg.c</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="a976fe96b4d3471e9efcb68a2553ff88a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIinsSetPvbCmpTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the variable parameter for the component type. </p>
<p>Sustitutes the variable parameters used as component types by the correspondent FEA standard function. Nowadays, it only treats the following functions:</p>
<ul>
<li>call, put</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>Instruments object list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 28/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 23/Oct/2012: Modifications in header to avoid Doxygen warnings </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mci_ins_8c.html">mciIns.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
