<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/spot.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('spot_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">spot.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Exchange spot functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;math_def.h&gt;</code><br/>
<code>#include &lt;osd_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__types_8h_source.html">afu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af340a62413da824471248822d791a2ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#af340a62413da824471248822d791a2ab">SPOT_TRT</a>&#160;&#160;&#160;7013</td></tr>
<tr class="separator:af340a62413da824471248822d791a2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae53cc3f7f19812887b688be57b8c260"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#aae53cc3f7f19812887b688be57b8c260">SPOT_NOT_FOUND</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:aae53cc3f7f19812887b688be57b8c260"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a82c2952bd4e7c7845768752546bf2f24"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a82c2952bd4e7c7845768752546bf2f24">lcBBconvertIntoSpotMrk</a> (void *Ctx, void *LdSpots, void *Ld, char *RefDev, int ColDev, int ColSpo, int ConvUnits, int ColMrk, int NbCol, int *ColArr)</td></tr>
<tr class="memdesc:a82c2952bd4e7c7845768752546bf2f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert amounts in a list into consolidation currency, &amp; optionally to units.  <a href="#a82c2952bd4e7c7845768752546bf2f24"></a><br/></td></tr>
<tr class="separator:a82c2952bd4e7c7845768752546bf2f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b42c5fcf273e21793971cb3ca3de242"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a2b42c5fcf273e21793971cb3ca3de242">SPOTdisableAlert</a> (void)</td></tr>
<tr class="memdesc:a2b42c5fcf273e21793971cb3ca3de242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable spot missing alerts.  <a href="#a2b42c5fcf273e21793971cb3ca3de242"></a><br/></td></tr>
<tr class="separator:a2b42c5fcf273e21793971cb3ca3de242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efb597b3feedea829bcb28d2ed66496"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a7efb597b3feedea829bcb28d2ed66496">SPOTconv</a> (void *ctx, char *DevRef, char *DevCvt, char *Sdate, double *txChg)</td></tr>
<tr class="memdesc:a7efb597b3feedea829bcb28d2ed66496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an amount from a currency to another.  <a href="#a7efb597b3feedea829bcb28d2ed66496"></a><br/></td></tr>
<tr class="separator:a7efb597b3feedea829bcb28d2ed66496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4ebf05422e68d7e85a1f722fae711b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#acd4ebf05422e68d7e85a1f722fae711b">SPOTinit</a> (void *ctx, char *Sdate, void **ldSpot, int *nbRecord)</td></tr>
<tr class="memdesc:acd4ebf05422e68d7e85a1f722fae711b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the list of spots of a date ordering the list by dev1 and dev2.  <a href="#acd4ebf05422e68d7e85a1f722fae711b"></a><br/></td></tr>
<tr class="separator:acd4ebf05422e68d7e85a1f722fae711b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a684875f6cc671c402fc75c82e1506"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a25a684875f6cc671c402fc75c82e1506">SPOTget</a> (void *ldSpot, int nbRecord, char *DevRef, char *DevCvt, double *txChg)</td></tr>
<tr class="memdesc:a25a684875f6cc671c402fc75c82e1506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a Spot from a dyn list of the type of obtained with SPOTinit.  <a href="#a25a684875f6cc671c402fc75c82e1506"></a><br/></td></tr>
<tr class="separator:a25a684875f6cc671c402fc75c82e1506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574764ef782f4a24692ff4402351d2d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a574764ef782f4a24692ff4402351d2d4">SPOTgetUnit</a> (void *Ctx, void *ldSpot, int nbSpot, char *DevRef, char *DevCvt, double *txChg)</td></tr>
<tr class="memdesc:a574764ef782f4a24692ff4402351d2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting a spot from a dyn list with unity conversion.  <a href="#a574764ef782f4a24692ff4402351d2d4"></a><br/></td></tr>
<tr class="separator:a574764ef782f4a24692ff4402351d2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0a8d6fab349a1aa587a5b315cee615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#acb0a8d6fab349a1aa587a5b315cee615">SPOThisInit</a> (void *ctx, char *Sdate, char *Source, void **ldSpot, int *nbRecord)</td></tr>
<tr class="separator:acb0a8d6fab349a1aa587a5b315cee615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ccd60486bd94bebcc10b1f3d556ad7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a86ccd60486bd94bebcc10b1f3d556ad7">SPOTconvUnit</a> (void *Ctx, char *DevRef, char *DevCvt, char *Sdate, double *txChg)</td></tr>
<tr class="memdesc:a86ccd60486bd94bebcc10b1f3d556ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an amount from a currency to another (including units)  <a href="#a86ccd60486bd94bebcc10b1f3d556ad7"></a><br/></td></tr>
<tr class="separator:a86ccd60486bd94bebcc10b1f3d556ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525edcfa58dfeac5db57547b736948a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a525edcfa58dfeac5db57547b736948a6">SPOTinitDev</a> (void *Ctx, char *Dev, char *Sdate, void **LdSpot, int *NbRecord)</td></tr>
<tr class="memdesc:a525edcfa58dfeac5db57547b736948a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get spot list for date and consdev; order by dev1 and dev2.  <a href="#a525edcfa58dfeac5db57547b736948a6"></a><br/></td></tr>
<tr class="separator:a525edcfa58dfeac5db57547b736948a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a73a084bbd02ce8bf81e918dc7429ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a0a73a084bbd02ce8bf81e918dc7429ed">SPOTinitEUR</a> (void **Ld, int *NbDevIn)</td></tr>
<tr class="memdesc:a0a73a084bbd02ce8bf81e918dc7429ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list with the spot for currencies in EUR.  <a href="#a0a73a084bbd02ce8bf81e918dc7429ed"></a><br/></td></tr>
<tr class="separator:a0a73a084bbd02ce8bf81e918dc7429ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a996e46ca701150e3c4c50b386612b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a32a996e46ca701150e3c4c50b386612b">SPOTnormaliseEur</a> (void *LdSpo, int *NbSpot)</td></tr>
<tr class="memdesc:a32a996e46ca701150e3c4c50b386612b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalise the spots list by introducing the EUR/EUR line.  <a href="#a32a996e46ca701150e3c4c50b386612b"></a><br/></td></tr>
<tr class="separator:a32a996e46ca701150e3c4c50b386612b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1186890b47602bcfe6d788ae359326d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#aa1186890b47602bcfe6d788ae359326d">BBconvertIntoSpot</a> (void *Ctx, void *LdSpots, void *Ld, char *RefDev, int ColDev, int ConvUnits, int NbCol,...)</td></tr>
<tr class="memdesc:aa1186890b47602bcfe6d788ae359326d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert amounts in a list into consolidation currency, &amp; optionally to units.  <a href="#aa1186890b47602bcfe6d788ae359326d"></a><br/></td></tr>
<tr class="separator:aa1186890b47602bcfe6d788ae359326d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a99dc6231a7048e6a02f1e624362da5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a5a99dc6231a7048e6a02f1e624362da5">BBconvertIntoSpotMrk</a> (void *Ctx, void *LdSpots, void *Ld, char *RefDev, int ColDev, int ConvUnits, int ColMrk, int NbCol,...)</td></tr>
<tr class="memdesc:a5a99dc6231a7048e6a02f1e624362da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert amounts in marked lines, into consolidation currency, &amp; optionally to units.  <a href="#a5a99dc6231a7048e6a02f1e624362da5"></a><br/></td></tr>
<tr class="separator:a5a99dc6231a7048e6a02f1e624362da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fa8707586e52932c2753e69f85ecbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a72fa8707586e52932c2753e69f85ecbe">BBconvertIntoSpotAdd</a> (void *Ctx, void *LdSpots, void *Ld, char *RefDev, int ColDev, int ColSpo, int ConvUnits, int NbCol,...)</td></tr>
<tr class="memdesc:a72fa8707586e52932c2753e69f85ecbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert amounts into consolidation currency, saving the used spot, &amp; optionally to units.  <a href="#a72fa8707586e52932c2753e69f85ecbe"></a><br/></td></tr>
<tr class="separator:a72fa8707586e52932c2753e69f85ecbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac258fbf4fc4a73efb760bd2c7d142494"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#ac258fbf4fc4a73efb760bd2c7d142494">BBconvertOneIntoSpot</a> (void *Ctx, void *LdSpots, void *Ld, int Line, char *RefDev, int ColDev, int ConvUnits, int NbCol,...)</td></tr>
<tr class="memdesc:ac258fbf4fc4a73efb760bd2c7d142494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert amounts in a line in a list into consolidation currency, &amp; optionally to units.  <a href="#ac258fbf4fc4a73efb760bd2c7d142494"></a><br/></td></tr>
<tr class="separator:ac258fbf4fc4a73efb760bd2c7d142494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8369653bad15462aacbdbfd0443baf6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a8369653bad15462aacbdbfd0443baf6a">SPOTctlErrLstDat</a> (void *Ctx, void *LdDat)</td></tr>
<tr class="memdesc:a8369653bad15462aacbdbfd0443baf6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launch the control of the existence of spots of a list of dates.  <a href="#a8369653bad15462aacbdbfd0443baf6a"></a><br/></td></tr>
<tr class="separator:a8369653bad15462aacbdbfd0443baf6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f90fcdd0bd546bfcaed18d59156a221"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a5f90fcdd0bd546bfcaed18d59156a221">SPOTinitForPer</a> (void *Ctx, char *Bdt, char *Edt, char *Dev, void **LdSpo, int *NbSpo)</td></tr>
<tr class="memdesc:a5f90fcdd0bd546bfcaed18d59156a221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the list of spots for a period.  <a href="#a5f90fcdd0bd546bfcaed18d59156a221"></a><br/></td></tr>
<tr class="separator:a5f90fcdd0bd546bfcaed18d59156a221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641b058e81f90647dba9ba5876fd6db1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#a641b058e81f90647dba9ba5876fd6db1">SPOTinitForLdDat</a> (void *Ctx, void *LdDat, char *Dev, void **LdSpo, int *NbSpo)</td></tr>
<tr class="memdesc:a641b058e81f90647dba9ba5876fd6db1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the list of spots for a list of dates.  <a href="#a641b058e81f90647dba9ba5876fd6db1"></a><br/></td></tr>
<tr class="separator:a641b058e81f90647dba9ba5876fd6db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa48ee1458649bd3b3fe4f917fa81a186"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#aa48ee1458649bd3b3fe4f917fa81a186">SPOTgetSpo4DatFrmLdSpo</a> (void *LdSpo, char *Dat, void **LdSpoDat)</td></tr>
<tr class="memdesc:aa48ee1458649bd3b3fe4f917fa81a186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the list of spots for a date from spots list.  <a href="#aa48ee1458649bd3b3fe4f917fa81a186"></a><br/></td></tr>
<tr class="separator:aa48ee1458649bd3b3fe4f917fa81a186"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae02af30de71e63daf0c39e554a985fcd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spot_8c.html#ae02af30de71e63daf0c39e554a985fcd">lcSpotFlag</a> = 0</td></tr>
<tr class="separator:ae02af30de71e63daf0c39e554a985fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Exchange spot functions. </p>
<p>Exchange spot functions.</p>
<dl class="section user"><dt>Library</dt><dd>mkt</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Keyvan Shamsa - 05-10-1995. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aae53cc3f7f19812887b688be57b8c260"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPOT_NOT_FOUND&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af340a62413da824471248822d791a2ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPOT_TRT&#160;&#160;&#160;7013</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa1186890b47602bcfe6d788ae359326d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BBconvertIntoSpot </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConvUnits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert amounts in a list into consolidation currency, &amp; optionally to units. </p>
<p>Given a list with a currency column and one or more amount columns, multiply every amount by each currency spot to consolidate, and optionally, also convert the amount to RefDev units.</p>
<p>See in the following table the description of the behaviour of the function depending on the ConvUnits parameter: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- Enumerated         | Value | Convert to spot | Round | Return units                -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ab164240ad6dc23a7264381fa34dbf9e5">CnvDevUntFinUntDec</a> |  -2   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a3c0d8d5a3f8a6007523bc6cdb2d14a4c">CnvDevUntFinUnt</a>    |  -1   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a98f9b7190232c2200174584449675c79">CnvDevFoxUnt</a>       |   0   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a256504ee59e6e6d0129111156352392c">CnvDevUnt</a>          |   1   | Yes             | Not   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491aacb071d4ac9530e2d7a973299edec7f2">CnvDevUntDec</a>       |   2   | Yes             | Yes   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ac1321048748440bbc92661220cf72a17">CnvDevFoxUntRefDec</a> |   3   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection. </td></tr>
    <tr><td class="paramname">LdSpots</td><td>Spot list (SPOTinit...) </td></tr>
    <tr><td class="paramname">Ld</td><td>List to be treated </td></tr>
    <tr><td class="paramname">RefDev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">ColDev</td><td>Currency column identifier </td></tr>
    <tr><td class="paramname">ConvUnits</td><td>Convert values. See header description </td></tr>
    <tr><td class="paramname">NbCol</td><td>Number of column to be multiplied </td></tr>
    <tr><td class="paramname">...</td><td>Amount column indexes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 22/Oct/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Nov/2006: Use AFUccyGetIntDta function instead of infEchQnt and add Ctx parameter in this function and SPOTgetUnit function.</li>
<li>Lorea NAVARRO - 31/May/2007: Put correctly the section "modified" of the head.</li>
<li>Gotzon ETXEBERRIA - 13/Jan/2011: Call to lcBBconvertIntoSpotMrk</li>
<li>Basilio TAMAYO - 24/Sep/2012: index of columns of type int.</li>
<li>Edurne GORDOA - 10/Nov/2017: Improve function header</li>
<li>Josune BIKUNA - 23/Nov/2017: Add ColSpo parameter to lcBBconvertIntoSpotMrk with default value -1</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#ac258fbf4fc4a73efb760bd2c7d142494" title="Convert amounts in a line in a list into consolidation currency, &amp; optionally to units.">BBconvertOneIntoSpot</a>, <a class="el" href="afu_dev_8c.html#ad5ed1f72eb14087df1f00cb747bde33a" title="Convert amounts in a list into currency units.">BBconvertIntoUnits</a>, <a class="el" href="afu_dev_8c.html#af1bf9d19779c8400348080837a2af860" title="Convert amounts in a list from currency units.">BBconvertFromUnits</a>, <a class="el" href="spot_8c.html#a5a99dc6231a7048e6a02f1e624362da5" title="Convert amounts in marked lines, into consolidation currency, &amp; optionally to units.">BBconvertIntoSpotMrk</a>, <a class="el" href="spot_8c.html#a72fa8707586e52932c2753e69f85ecbe" title="Convert amounts into consolidation currency, saving the used spot, &amp; optionally to units...">BBconvertIntoSpotAdd</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a72fa8707586e52932c2753e69f85ecbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BBconvertIntoSpotAdd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConvUnits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert amounts into consolidation currency, saving the used spot, &amp; optionally to units. </p>
<p>Given a list with a currency column and one or more amount columns, multiply every amount by each currency spot to consolidate, and optionally, also convert the amount to RefDev units. The used spot rate will be saved into ColSpo value (see parameters)</p>
<p>See in the following table the description of the behaviour of the function depending on the ConvUnits parameter: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- Enumerated         | Value | Convert to spot | Round | Return units                -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ab164240ad6dc23a7264381fa34dbf9e5">CnvDevUntFinUntDec</a> |  -2   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a3c0d8d5a3f8a6007523bc6cdb2d14a4c">CnvDevUntFinUnt</a>    |  -1   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a98f9b7190232c2200174584449675c79">CnvDevFoxUnt</a>       |   0   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a256504ee59e6e6d0129111156352392c">CnvDevUnt</a>          |   1   | Yes             | Not   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491aacb071d4ac9530e2d7a973299edec7f2">CnvDevUntDec</a>       |   2   | Yes             | Yes   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ac1321048748440bbc92661220cf72a17">CnvDevFoxUntRefDec</a> |   3   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection. </td></tr>
    <tr><td class="paramname">LdSpots</td><td>Spot list (SPOTinit...) </td></tr>
    <tr><td class="paramname">Ld</td><td>List to be treated </td></tr>
    <tr><td class="paramname">RefDev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">ColDev</td><td>Currency column identifier </td></tr>
    <tr><td class="paramname">ColSpo</td><td>Spot column identifier in which the used spot rate must be saved. If this parameter corresponds to a valid column index (that is &gt; -1), it will mean that the spot used for the conversion is wanted to save in that column. If this parameter is -1, it is ignored. </td></tr>
    <tr><td class="paramname">ConvUnits</td><td>Convert values. See header description </td></tr>
    <tr><td class="paramname">NbCol</td><td>Number of column to be multiplied </td></tr>
    <tr><td class="paramname">...</td><td>Amount column indexes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 23/Nov/2017</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#ac258fbf4fc4a73efb760bd2c7d142494" title="Convert amounts in a line in a list into consolidation currency, &amp; optionally to units.">BBconvertOneIntoSpot</a>, <a class="el" href="afu_dev_8c.html#ad5ed1f72eb14087df1f00cb747bde33a" title="Convert amounts in a list into currency units.">BBconvertIntoUnits</a>, <a class="el" href="afu_dev_8c.html#af1bf9d19779c8400348080837a2af860" title="Convert amounts in a list from currency units.">BBconvertFromUnits</a>, BBconvertIntoSpo </dd></dl>

</div>
</div>
<a class="anchor" id="a5a99dc6231a7048e6a02f1e624362da5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BBconvertIntoSpotMrk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConvUnits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColMrk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert amounts in marked lines, into consolidation currency, &amp; optionally to units. </p>
<p>Given a list with a currency column and one or more amount columns, multiply every amount by each currency spot to consolidate, and optionally, also convert the amount to RefDev units. Only if the lines are marked (value in ColMrk column != 0</p>
<p>See in the following table the description of the behaviour of the function depending on the ConvUnits parameter: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- Enumerated         | Value | Convert to spot | Round | Return units                -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ab164240ad6dc23a7264381fa34dbf9e5">CnvDevUntFinUntDec</a> |  -2   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a3c0d8d5a3f8a6007523bc6cdb2d14a4c">CnvDevUntFinUnt</a>    |  -1   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a98f9b7190232c2200174584449675c79">CnvDevFoxUnt</a>       |   0   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a256504ee59e6e6d0129111156352392c">CnvDevUnt</a>          |   1   | Yes             | Not   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491aacb071d4ac9530e2d7a973299edec7f2">CnvDevUntDec</a>       |   2   | Yes             | Yes   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ac1321048748440bbc92661220cf72a17">CnvDevFoxUntRefDec</a> |   3   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection. </td></tr>
    <tr><td class="paramname">LdSpots</td><td>Spot list (SPOTinit...) </td></tr>
    <tr><td class="paramname">Ld</td><td>List to be treated </td></tr>
    <tr><td class="paramname">RefDev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">ColDev</td><td>Currency column identifier </td></tr>
    <tr><td class="paramname">ConvUnits</td><td>Convert values. See header description </td></tr>
    <tr><td class="paramname">ColMrk</td><td>Mark column index (columns to be treated will be &lt;&gt; 0 (if -1: treat all lines. </td></tr>
    <tr><td class="paramname">NbCol</td><td>Number of column to be multiplied </td></tr>
    <tr><td class="paramname">...</td><td>Amount column indexes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 23/Dec/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 24/Sep/2012: index of columns of type int.</li>
<li>Edurne GORDOA - 10/Nov/2017: Improve function header</li>
<li>Josune BIKUNA - 23/Nov/2017: Add ColSpo parameter to lcBBconvertIntoSpotMrk with default value -1</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#ac258fbf4fc4a73efb760bd2c7d142494" title="Convert amounts in a line in a list into consolidation currency, &amp; optionally to units.">BBconvertOneIntoSpot</a>, <a class="el" href="afu_dev_8c.html#ad5ed1f72eb14087df1f00cb747bde33a" title="Convert amounts in a list into currency units.">BBconvertIntoUnits</a>, <a class="el" href="afu_dev_8c.html#af1bf9d19779c8400348080837a2af860" title="Convert amounts in a list from currency units.">BBconvertFromUnits</a>, BBconvertIntoSpo, <a class="el" href="spot_8c.html#a72fa8707586e52932c2753e69f85ecbe" title="Convert amounts into consolidation currency, saving the used spot, &amp; optionally to units...">BBconvertIntoSpotAdd</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac258fbf4fc4a73efb760bd2c7d142494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BBconvertOneIntoSpot </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConvUnits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert amounts in a line in a list into consolidation currency, &amp; optionally to units. </p>
<p>Given a list with a currency column and one or more amount columns, multiply every amount by each currency spot to consolidate, and optionally, also convert the amount to RefDev units.</p>
<p>See in the following table the description of the behaviour of the function depending on the ConvUnits parameter: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- Enumerated         | Value | Convert to spot | Round | Return units                -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a98f9b7190232c2200174584449675c79">CnvDevFoxUnt</a>       |   0   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a256504ee59e6e6d0129111156352392c">CnvDevUnt</a>          |   1   | Yes             | Not   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491aacb071d4ac9530e2d7a973299edec7f2">CnvDevUntDec</a>       |   2   | Yes             | Yes   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ac1321048748440bbc92661220cf72a17">CnvDevFoxUntRefDec</a> |   3   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdSpots</td><td>Spot list (SPOTinit...) </td></tr>
    <tr><td class="paramname">Ld</td><td>List to be treated </td></tr>
    <tr><td class="paramname">Line</td><td>Index of the line to convert </td></tr>
    <tr><td class="paramname">RefDev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">ColDev</td><td>Currency column identifier </td></tr>
    <tr><td class="paramname">ConvUnits</td><td>How to do convertion. See function header for description </td></tr>
    <tr><td class="paramname">NbCol</td><td>Number of column to be multiplied </td></tr>
    <tr><td class="paramname">...</td><td>Amount column indexes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 30/Nov/1999</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#aa1186890b47602bcfe6d788ae359326d" title="Convert amounts in a list into consolidation currency, &amp; optionally to units.">BBconvertIntoSpot</a>, <a class="el" href="afu_dev_8c.html#ad5ed1f72eb14087df1f00cb747bde33a" title="Convert amounts in a list into currency units.">BBconvertIntoUnits</a>, <a class="el" href="afu_dev_8c.html#af1bf9d19779c8400348080837a2af860" title="Convert amounts in a list from currency units.">BBconvertFromUnits</a>, <a class="el" href="spot_8c.html#a72fa8707586e52932c2753e69f85ecbe" title="Convert amounts into consolidation currency, saving the used spot, &amp; optionally to units...">BBconvertIntoSpotAdd</a></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Nov/2006: Use AFUccyGetIntDta function instead of infEchQnt and Ctx parameter in this fucntion and SPOTgetUnit function.</li>
<li>Gema ACHA - 19/Apr/2012: Allow convert values to RefDev units and RefDev decimals</li>
<li>Basilio TAMAYO - 24/Sep/2012: index of columns of type int.</li>
<li>Edurne GORDOA - 08/Nov/2017: Round the amount into reference currency decimals and only for the asked line. If we use AFUccySetDevPre we are converting each time all the lines of the list. Bug corrected amounts were rounded after convert to EUR and they must be rounded before </li>
</ul>

</div>
</div>
<a class="anchor" id="a82c2952bd4e7c7845768752546bf2f24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBBconvertIntoSpotMrk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ConvUnits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColMrk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ColArr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert amounts in a list into consolidation currency, &amp; optionally to units. </p>
<p>Given a list with a currency column and one or more amount columns, multiply every amount by each currency spot to consolidate, and optionally, also convert the amount to RefDev units.</p>
<p>See in the following table the description of the behaviour of the function depending on the ConvUnits parameter: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- Enumerated         | Value | Convert to spot | Round | Return units                -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ab164240ad6dc23a7264381fa34dbf9e5">CnvDevUntFinUntDec</a> |  -2   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a3c0d8d5a3f8a6007523bc6cdb2d14a4c">CnvDevUntFinUnt</a>    |  -1   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a98f9b7190232c2200174584449675c79">CnvDevFoxUnt</a>       |   0   | Yes             | Not   | Finantial units (i.e. kEUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491a256504ee59e6e6d0129111156352392c">CnvDevUnt</a>          |   1   | Yes             | Not   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491aacb071d4ac9530e2d7a973299edec7f2">CnvDevUntDec</a>       |   2   | Yes             | Yes   | Currency units  (i.e.  EUR) -</div>
<div class="line">- <a class="code" href="afu__types_8h.html#a16950fdc94136139732e559f88305491ac1321048748440bbc92661220cf72a17">CnvDevFoxUntRefDec</a> |   3   | Yes             | Yes   | Finantial units (i.e. kEUR) -</div>
<div class="line">--------------------------------------------------------------------------------------</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection. </td></tr>
    <tr><td class="paramname">LdSpots</td><td>Spot list (SPOTinit...) </td></tr>
    <tr><td class="paramname">Ld</td><td>List to be treated </td></tr>
    <tr><td class="paramname">RefDev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">ColDev</td><td>Currency column identifier </td></tr>
    <tr><td class="paramname">ColSpo</td><td>Spot column identifier in which the used spot rate must be saved. If this parameter corresponds to a valid column index (that is &gt; -1), it will mean that the spot used for the conversion is wanted to save in that column. If this parameter is -1, it is ignored. </td></tr>
    <tr><td class="paramname">ConvUnits</td><td>Convert values (See header description) </td></tr>
    <tr><td class="paramname">ColMrk</td><td></td></tr>
    <tr><td class="paramname">NbCol</td><td>Number of column to be multiplied </td></tr>
    <tr><td class="paramname">ColArr</td><td>Array of NbCol column indexes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 23/Dec/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/Oct/2011: add possibility to convert to also to FIT units (EUR-&gt;kEUR)</li>
<li>Edurne GORDOA - 08/Nov/2017: Round the converted amount to the decimals of consolidation currency depending on convertion untis parameters. Use the values of enumerated CnvDev for the values of ConvUnits</li>
<li>Josune BIKUNA - 23/Nov/2017: Add the management of ColSpo parameter. If this parameter corresponds to a valid column index (that is &gt; -1), it will mean that the spot used for the conversion is wanted to save in that column</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#ac258fbf4fc4a73efb760bd2c7d142494" title="Convert amounts in a line in a list into consolidation currency, &amp; optionally to units.">BBconvertOneIntoSpot</a>, <a class="el" href="afu_dev_8c.html#ad5ed1f72eb14087df1f00cb747bde33a" title="Convert amounts in a list into currency units.">BBconvertIntoUnits</a>, <a class="el" href="afu_dev_8c.html#af1bf9d19779c8400348080837a2af860" title="Convert amounts in a list from currency units.">BBconvertFromUnits</a>, BBconvertIntoSpo </dd></dl>

</div>
</div>
<a class="anchor" id="a7efb597b3feedea829bcb28d2ed66496"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTconv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevCvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>txChg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an amount from a currency to another. </p>
<p>Convert an amount from a currency to another</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Db connection </td></tr>
    <tr><td class="paramname">DevRef</td><td>Reference currency </td></tr>
    <tr><td class="paramname">DevCvt</td><td>Result currency </td></tr>
    <tr><td class="paramname">Sdate</td><td>Spot date </td></tr>
    <tr><td class="paramname">txChg</td><td>Spot to convert DevRef into DevCvt</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 06/Jun/2001: Add function header </dd></dl>

</div>
</div>
<a class="anchor" id="a86ccd60486bd94bebcc10b1f3d556ad7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTconvUnit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevCvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>txChg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an amount from a currency to another (including units) </p>
<p>Convert an amount from a currency to another (including units) The same as SPOTconv but converting currency units too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection </td></tr>
    <tr><td class="paramname">DevRef</td><td>Reference currency </td></tr>
    <tr><td class="paramname">DevCvt</td><td>Result currency </td></tr>
    <tr><td class="paramname">Sdate</td><td>Spot date </td></tr>
    <tr><td class="paramname">txChg</td><td>Spot to convert DevRef into DevCvt</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 06/Jun/2001: Add function header</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Nov/2006: Use AFUccyGetIntDta function instead of infEchQnt. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8369653bad15462aacbdbfd0443baf6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTctlErrLstDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launch the control of the existence of spots of a list of dates. </p>
<p>Launch the control of the existence of spots of a list of dates</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DataBase conexion </td></tr>
    <tr><td class="paramname">LdDat</td><td>Date for which the spots are recovering</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/Sep/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 26/Oct/2010: Correct when the select does not return any lines </li>
</ul>

</div>
</div>
<a class="anchor" id="a2b42c5fcf273e21793971cb3ca3de242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTdisableAlert </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable spot missing alerts. </p>
<p>Disable spot missing alerts. Sets lcSpotFlag to 1, so that no alert is shown. This function must be called after SPOTinit ().</p>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 18/Jul/2000 </dd></dl>

</div>
</div>
<a class="anchor" id="a25a684875f6cc671c402fc75c82e1506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTget </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ldSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbRecord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevCvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>txChg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a Spot from a dyn list of the type of obtained with SPOTinit. </p>
<p>Get a Spot from a dyn list of the type of obtained with SPOTinit txChg's is in: DevRef / DevCnv</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ldSpot</td><td>Spot list </td></tr>
    <tr><td class="paramname">nbRecord</td><td>Number of elements in ldSpot </td></tr>
    <tr><td class="paramname">DevRef</td><td>Reference currency or Main currency </td></tr>
    <tr><td class="paramname">DevCvt</td><td>Result o converted currency </td></tr>
    <tr><td class="paramname">txChg</td><td>Resulting spot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<div class="fragment"><div class="line">To convert QntJpy (in JPY) to QntEur (in EUR):</div>
<div class="line">  <a class="code" href="mkt__def_8h.html#ad01a793684702875c6c4a6e9405d2a7d" title="Get a Spot from a dyn list of the type of obtained with SPOTinit.">SPOTget</a> (ldSpot, nb, <span class="stringliteral">&quot;EUR&quot;</span>, <span class="stringliteral">&quot;JPY&quot;</span>, &amp;txChg) (see that txChg is in EUR / JPY )</div>
<div class="line">  QntEur = QntJpy * txChg</div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Keyvan SHAMSA - 14/NOV/1995</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 13/Dec/2000: Do binary searches instead of sequential.</li>
<li>David IGLESIAS - 04/Apr/2002: Do error teratment and set error message. searches</li>
<li>David ROMERO - 20/Apr/2015: Avoid Sonar warning (redundant asignment to itself) for unused parameter</li>
<li>Josune BIKUNA - 25/Oct/2016: Shorter lines with more than 100 characters </li>
</ul>

</div>
</div>
<a class="anchor" id="aa48ee1458649bd3b3fe4f917fa81a186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTgetSpo4DatFrmLdSpo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSpoDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the list of spots for a date from spots list. </p>
<p>Recover the list of spots for a period date ordering the list by dev1 and dev2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSpo</td><td>Spot list </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">LdSpoDat</td><td>(out) Spot list for the asked date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 19/Dec/2013</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#a5f90fcdd0bd546bfcaed18d59156a221" title="Recover the list of spots for a period.">SPOTinitForPer</a>, <a class="el" href="spot_8c.html#a641b058e81f90647dba9ba5876fd6db1" title="Recover the list of spots for a list of dates.">SPOTinitForLdDat</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a574764ef782f4a24692ff4402351d2d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTgetUnit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ldSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevCvt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>txChg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting a spot from a dyn list with unity conversion. </p>
<p>Getting a spot from a dyn list with unity conversion DevCvt = txChg * DevRef</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Db connection </td></tr>
    <tr><td class="paramname">ldSpot</td><td>Spots list </td></tr>
    <tr><td class="paramname">nbSpot</td><td>Number of spots </td></tr>
    <tr><td class="paramname">DevRef</td><td>Currency of the value that we want to calculate. </td></tr>
    <tr><td class="paramname">DevCvt</td><td>Currency of the known value. </td></tr>
    <tr><td class="paramname">txChg</td><td>(OUT). Spot in units</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Keyvan SHAMSA - 08/Jul/1996</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Manuel SANMARTIN - 01/Apr/2005: Added ERRchk to SPOTget.</li>
<li>Lorea NAVARRO - 24/Nov/2006: Use AFUccyGetIntDta function instead of infEchQnt. </li>
</ul>

</div>
</div>
<a class="anchor" id="acb0a8d6fab349a1aa587a5b315cee615"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOThisInit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nbRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acd4ebf05422e68d7e85a1f722fae711b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTinit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nbRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the list of spots of a date ordering the list by dev1 and dev2. </p>
<p>Recover the list of spots of a date ordering the list by dev1 and dev2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>DataBase conexion </td></tr>
    <tr><td class="paramname">Sdate</td><td>Date for which the spots are recovering </td></tr>
    <tr><td class="paramname">ldSpot</td><td>(out) Spot list </td></tr>
    <tr><td class="paramname">nbRecord</td><td>(out) Number of elements in ldSpot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Keyvan Shamsa - 14/Nov/1995</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Isma ETXEBERRIA - 11/Jun/1998. As spots are not currently reported from one date to the other in Global View (there is no Next date in Gv) we get the latest date with spots.</li>
<li>Josune BIKUNA - 13/Dec/2000. Order the spot resultant list by dev1 and dev2 (it will be use to do binary searches)</li>
<li>Jon BARRUTIA - 14/JUL/2006: Substitute g_gc_ctx by the ctx argument. </li>
</ul>

</div>
</div>
<a class="anchor" id="a525edcfa58dfeac5db57547b736948a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTinitDev </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbRecord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get spot list for date and consdev; order by dev1 and dev2. </p>
<p>Get spot list for date and consolidation currency; order by dev1 and dev2. This function asumes that we know the currency to that we want to make the consolidations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DataBase conexion </td></tr>
    <tr><td class="paramname">Dev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">Sdate</td><td>Date for which the spots are recovering </td></tr>
    <tr><td class="paramname">LdSpot</td><td>(out) Spot list </td></tr>
    <tr><td class="paramname">NbRecord</td><td>(out) Number of elements in ldSpot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 16/Oct/2001 </dd></dl>

</div>
</div>
<a class="anchor" id="a0a73a084bbd02ce8bf81e918dc7429ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTinitEUR </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbDevIn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list with the spot for currencies in EUR. </p>
<p>Get a list with the spot for currencies in EUR</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ld</td><td>(out) Liste with the spots </td></tr>
    <tr><td class="paramname">NbDevIn</td><td>(out) Number os devIn</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ramon MARTINEZ - 15-Jan-1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 12/Jun/2003: Add GRD</li>
<li>Jon BARRUTIA - 01/Jan/2007: Add SIT to EUR</li>
<li>Basilio TAMAYO - 31/Jan/2008: Add MTL (Malta) and CYP (Cyprus)</li>
<li>Jordi CAMARASA - 05/Feb2009: Add SKK to EUR</li>
<li>Alex RODRIGUEZ - 12/Jan/2011: Add EEK to EUR.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a641b058e81f90647dba9ba5876fd6db1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTinitForLdDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbSpo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the list of spots for a list of dates. </p>
<p>Recover the list of spots for a list of dates, ordering the list by dev1 and dev2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DataBase conexion </td></tr>
    <tr><td class="paramname">LdDat</td><td>List of dates for which the spots are wanted. "Dat" column must exist </td></tr>
    <tr><td class="paramname">Dev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">LdSpo</td><td>(out) Spot list </td></tr>
    <tr><td class="paramname">NbSpo</td><td>(out) Number of elements in LdSpo</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 25/Oct/2016</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#aa48ee1458649bd3b3fe4f917fa81a186" title="Recover the list of spots for a date from spots list.">SPOTgetSpo4DatFrmLdSpo</a>, <a class="el" href="spot_8c.html#a5f90fcdd0bd546bfcaed18d59156a221" title="Recover the list of spots for a period.">SPOTinitForPer</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5f90fcdd0bd546bfcaed18d59156a221"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTinitForPer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbSpo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the list of spots for a period. </p>
<p>Recover the list of spots for a period date, ordering the list by dev1 and dev2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DataBase conexion </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date </td></tr>
    <tr><td class="paramname">Edt</td><td>End date </td></tr>
    <tr><td class="paramname">Dev</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">LdSpo</td><td>(out) Spot list </td></tr>
    <tr><td class="paramname">NbSpo</td><td>(out) Number of elements in LdSpo</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 19/Dec/2013</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="spot_8c.html#a641b058e81f90647dba9ba5876fd6db1" title="Recover the list of spots for a list of dates.">SPOTinitForLdDat</a>, <a class="el" href="spot_8c.html#aa48ee1458649bd3b3fe4f917fa81a186" title="Recover the list of spots for a date from spots list.">SPOTgetSpo4DatFrmLdSpo</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a32a996e46ca701150e3c4c50b386612b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SPOTnormaliseEur </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbSpot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalise the spots list by introducing the EUR/EUR line. </p>
<p>Normalise the spots list by introducing the EUR/EUR line</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSpo</td><td>(out) Liste with the spots </td></tr>
    <tr><td class="paramname">NbSpot</td><td>Number spot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma &amp; Gotzon ETXEBERRIA - 10/Jun/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jun/1999. bug in assigning a value to NbSpot</li>
<li>Alex RODRIGUEZ 29-Oct-2001. Sort LdSpo after add EUR/EUR line </li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae02af30de71e63daf0c39e554a985fcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lcSpotFlag = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="spot_8c.html">spot.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:51 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
