<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mciExe.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mci_exe_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mciExe.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simulation using Monte Carlo method.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;tm_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="itf_fea_def_8h_source.html">itfFeaDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mci__def_8h_source.html">mci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a838aaf0184da8fe2945e226b370d5fda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a838aaf0184da8fe2945e226b370d5fda">ERR_MCI_EXE</a>&#160;&#160;&#160;7026</td></tr>
<tr class="separator:a838aaf0184da8fe2945e226b370d5fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86a3cafcc28cf0da949838c8807c96f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#ab86a3cafcc28cf0da949838c8807c96f">NO_CRV_INS_DEF</a>&#160;&#160;&#160;20  /* No defined curve associated to instrument */</td></tr>
<tr class="separator:ab86a3cafcc28cf0da949838c8807c96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3621c028c83b3c3268ae22ff0f0aa289"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a3621c028c83b3c3268ae22ff0f0aa289">NO_BKT_DEF</a>&#160;&#160;&#160;21  /* No bucket dates defined for the treatment */</td></tr>
<tr class="separator:a3621c028c83b3c3268ae22ff0f0aa289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3a1dbace0db4bd74e1712d033992a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#afb3a1dbace0db4bd74e1712d033992a2">NO_SPO_PRI</a>&#160;&#160;&#160;25  /* Spot price missing for */</td></tr>
<tr class="separator:afb3a1dbace0db4bd74e1712d033992a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fb49d13316e9b4cfe867dcba0f5a1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a12fb49d13316e9b4cfe867dcba0f5a1c">MCI_NO_DEA</a>&#160;&#160;&#160;30  /* No deals */</td></tr>
<tr class="separator:a12fb49d13316e9b4cfe867dcba0f5a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:addcab1af06e80ce7c922571f7b5099b3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#addcab1af06e80ce7c922571f7b5099b3">lcMCIexeBrkStl</a> (void *LdStl, void **LlStl)</td></tr>
<tr class="memdesc:addcab1af06e80ce7c922571f7b5099b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Break the list of measures in several lists without incompatibilities.  <a href="#addcab1af06e80ce7c922571f7b5099b3"></a><br/></td></tr>
<tr class="separator:addcab1af06e80ce7c922571f7b5099b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad994162a3adc5b0ab42f70211a424413"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#ad994162a3adc5b0ab42f70211a424413">lcMCIexeChkMkt</a> (void *LdMci, int IsCur, void **LdMkt)</td></tr>
<tr class="memdesc:ad994162a3adc5b0ab42f70211a424413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the market data for Montecarlo simulation. (LdMkt)  <a href="#ad994162a3adc5b0ab42f70211a424413"></a><br/></td></tr>
<tr class="separator:ad994162a3adc5b0ab42f70211a424413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb65eeb7bd582c4c95e5b75d31b4edc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#abcb65eeb7bd582c4c95e5b75d31b4edc">lcMCIexeChkPriUmc</a> (void *LdMci, void *LdMkt)</td></tr>
<tr class="memdesc:abcb65eeb7bd582c4c95e5b75d31b4edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the needed spot prices have been recovered correctly.  <a href="#abcb65eeb7bd582c4c95e5b75d31b4edc"></a><br/></td></tr>
<tr class="separator:abcb65eeb7bd582c4c95e5b75d31b4edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113ea765b275a67a27b9eb9c20c005c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a113ea765b275a67a27b9eb9c20c005c2">lcMCIexeGetAssUmc</a> (void *LdMci, void **LdUmc)</td></tr>
<tr class="memdesc:a113ea765b275a67a27b9eb9c20c005c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the different umc code configured for the user in the assets definition.  <a href="#a113ea765b275a67a27b9eb9c20c005c2"></a><br/></td></tr>
<tr class="separator:a113ea765b275a67a27b9eb9c20c005c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae9c60907a884480d40baa5f3ad9f95"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#adae9c60907a884480d40baa5f3ad9f95">lcMCIexeGetMkt</a> (void *Ctx, char *Pro, void *LdMci, void **LdMkt)</td></tr>
<tr class="memdesc:adae9c60907a884480d40baa5f3ad9f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the all market data for Montecarlo simulation. (LdMkt)  <a href="#adae9c60907a884480d40baa5f3ad9f95"></a><br/></td></tr>
<tr class="separator:adae9c60907a884480d40baa5f3ad9f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6f9442c6ff7faa69235204e4c77711"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#abe6f9442c6ff7faa69235204e4c77711">lcMCIexeGetPriUmc</a> (void *Ctx, char *Pro, void *LdMci, void **LdMkt)</td></tr>
<tr class="memdesc:abe6f9442c6ff7faa69235204e4c77711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the market data for the spot price umc codes configured in the assets.  <a href="#abe6f9442c6ff7faa69235204e4c77711"></a><br/></td></tr>
<tr class="separator:abe6f9442c6ff7faa69235204e4c77711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88742b5554f823eae231982deb79933c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a88742b5554f823eae231982deb79933c">lcMCIexeSavMkt</a> (void *Ctx, void *LdMkt, char *Pro, char *Dat)</td></tr>
<tr class="memdesc:a88742b5554f823eae231982deb79933c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save market data used to calculate.  <a href="#a88742b5554f823eae231982deb79933c"></a><br/></td></tr>
<tr class="separator:a88742b5554f823eae231982deb79933c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126b734871d5dec396946335f8edacc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a126b734871d5dec396946335f8edacc8">MCIexeGetMciStc</a> (void *Ctx, char *MciCod, int IntCod, void **LdMci)</td></tr>
<tr class="memdesc:a126b734871d5dec396946335f8edacc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the structure list for Montecarlo simulation. (LdMci)  <a href="#a126b734871d5dec396946335f8edacc8"></a><br/></td></tr>
<tr class="separator:a126b734871d5dec396946335f8edacc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5739d6b2e74894cd88e6e947e16f42f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#aa5739d6b2e74894cd88e6e947e16f42f">MCIexeGetChkSynMciStc</a> (void *Ctx, char *MciCod, void *LdChk, void **LdMci)</td></tr>
<tr class="memdesc:aa5739d6b2e74894cd88e6e947e16f42f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the structure list for check syntax of Montecarlo simulation. (LdMci)  <a href="#aa5739d6b2e74894cd88e6e947e16f42f"></a><br/></td></tr>
<tr class="separator:aa5739d6b2e74894cd88e6e947e16f42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6ce3e75d2a20400f33d90ec7c3988e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a1c6ce3e75d2a20400f33d90ec7c3988e">MCIexeCalMkt</a> (void *Ctx, char *Dva, void *LdMci, void **LdMkt)</td></tr>
<tr class="memdesc:a1c6ce3e75d2a20400f33d90ec7c3988e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the market data for Montecarlo simulation on a given day. (LdMkt)  <a href="#a1c6ce3e75d2a20400f33d90ec7c3988e"></a><br/></td></tr>
<tr class="separator:a1c6ce3e75d2a20400f33d90ec7c3988e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346f3461a7fb9fef3d1d16c5040f5154"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a346f3461a7fb9fef3d1d16c5040f5154">MCIexeSavRes</a> (void *Ctx, char *Dva, char *MciCod, void *LdMciRes)</td></tr>
<tr class="memdesc:a346f3461a7fb9fef3d1d16c5040f5154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save montecarlo instruments simulation results in database.  <a href="#a346f3461a7fb9fef3d1d16c5040f5154"></a><br/></td></tr>
<tr class="separator:a346f3461a7fb9fef3d1d16c5040f5154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066c6b0df4bff631a793bf2364b448eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a066c6b0df4bff631a793bf2364b448eb">MCIexeOutRfs</a> (void *Ctx, char *Dtb, void **LdStl, char *Dat, void *LdAss, void *LdIns, char *DevCns, void *LdNpa, void *LdCal, void **LdDat, void **LdOut)</td></tr>
<tr class="memdesc:a066c6b0df4bff631a793bf2364b448eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh of 'Detail of a MonteCarlo simulated instrument' window (MciOut).  <a href="#a066c6b0df4bff631a793bf2364b448eb"></a><br/></td></tr>
<tr class="separator:a066c6b0df4bff631a793bf2364b448eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ef3c502a4cd9761a9ca4e585ea4a24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#ab6ef3c502a4cd9761a9ca4e585ea4a24">MCIexeGetStlOut</a> (void *Ctx, void *LdVal, void **LdCal)</td></tr>
<tr class="memdesc:ab6ef3c502a4cd9761a9ca4e585ea4a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get STlib outputs.  <a href="#ab6ef3c502a4cd9761a9ca4e585ea4a24"></a><br/></td></tr>
<tr class="separator:ab6ef3c502a4cd9761a9ca4e585ea4a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883f268beb2e1bc0b33586981b2fe11d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a883f268beb2e1bc0b33586981b2fe11d">MCIexeMci</a> (void *Ctx, void *LdMci, void *LdMkt, void *LdStl, char *Dva, int Ite, int Sed, int Sav, void **LdRes)</td></tr>
<tr class="memdesc:a883f268beb2e1bc0b33586981b2fe11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the simulations for every instrument that come into the LdMci argument.  <a href="#a883f268beb2e1bc0b33586981b2fe11d"></a><br/></td></tr>
<tr class="separator:a883f268beb2e1bc0b33586981b2fe11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83aa1b75e4195472e57f41cc44736755"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a83aa1b75e4195472e57f41cc44736755">MCIexeLstMci</a> (void *Ctx, void *LdMci, void *LdStl, char *Pro, char *Dat, int Ite, int Sed, int SavMkt, int SavRes, void **LdRes)</td></tr>
<tr class="memdesc:a83aa1b75e4195472e57f41cc44736755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute MC simulations for a list of instruments.  <a href="#a83aa1b75e4195472e57f41cc44736755"></a><br/></td></tr>
<tr class="separator:a83aa1b75e4195472e57f41cc44736755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba052a913a50b1456df0cacfe6fba7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a1ba052a913a50b1456df0cacfe6fba7a">MCIexeCalSavPri</a> (void *Ctx, char *Dat, char *Pro)</td></tr>
<tr class="memdesc:a1ba052a913a50b1456df0cacfe6fba7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates instrument prices and saves them into the market data structure.  <a href="#a1ba052a913a50b1456df0cacfe6fba7a"></a><br/></td></tr>
<tr class="separator:a1ba052a913a50b1456df0cacfe6fba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6bf4143b0a1e5b61fae5967b9a7f89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#adb6bf4143b0a1e5b61fae5967b9a7f89">MCIexePriMkt</a> (void *Ctx, char *Dat)</td></tr>
<tr class="memdesc:adb6bf4143b0a1e5b61fae5967b9a7f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates instrument prices and saves them into the market data structure.  <a href="#adb6bf4143b0a1e5b61fae5967b9a7f89"></a><br/></td></tr>
<tr class="separator:adb6bf4143b0a1e5b61fae5967b9a7f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b91f3e3273e4b0e009c67d54bdddd6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#a1b91f3e3273e4b0e009c67d54bdddd6d">MCIexeCal</a> (void *Ctx, void *LdStl, char *Pro, char *Dat, void *LdAss, void *LdIns, void *LdNpa, int CalFxg, int Ite, int Sed, int SavMkt, int SavRes, void **LdRes)</td></tr>
<tr class="memdesc:a1b91f3e3273e4b0e009c67d54bdddd6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">MCI calculation of a set of measures.  <a href="#a1b91f3e3273e4b0e009c67d54bdddd6d"></a><br/></td></tr>
<tr class="separator:a1b91f3e3273e4b0e009c67d54bdddd6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7fa9d426b4c4164c55bfae74a84704"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mci_exe_8c.html#afc7fa9d426b4c4164c55bfae74a84704">MCIexeGetGrpStl</a> (void *Ctx, char *Grp, void **LdStl)</td></tr>
<tr class="memdesc:afc7fa9d426b4c4164c55bfae74a84704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of measures from a group.  <a href="#afc7fa9d426b4c4164c55bfae74a84704"></a><br/></td></tr>
<tr class="separator:afc7fa9d426b4c4164c55bfae74a84704"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simulation using Monte Carlo method. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MCIexe</dd></dl>
<p>In a MC simulation more than one instruments can be simulated simultaneously. This file contains the function that handles the execution of all the instruments defined and flagged to be executed.</p>
<dl class="section author"><dt>Author</dt><dd>Aitor BIAIN - 26/Nov/2003 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a838aaf0184da8fe2945e226b370d5fda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR_MCI_EXE&#160;&#160;&#160;7026</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a12fb49d13316e9b4cfe867dcba0f5a1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MCI_NO_DEA&#160;&#160;&#160;30  /* No deals */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3621c028c83b3c3268ae22ff0f0aa289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_BKT_DEF&#160;&#160;&#160;21  /* No bucket dates defined for the treatment */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab86a3cafcc28cf0da949838c8807c96f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_CRV_INS_DEF&#160;&#160;&#160;20  /* No defined curve associated to instrument */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afb3a1dbace0db4bd74e1712d033992a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_SPO_PRI&#160;&#160;&#160;25  /* Spot price missing for */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="addcab1af06e80ce7c922571f7b5099b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeBrkStl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdStl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlStl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Break the list of measures in several lists without incompatibilities. </p>
<p>Break the list of measures in several lists without incompatibilities.</p>
<ul>
<li>There are measures that cannot be calculated together. Check out if any of these measures are in the original list and put them in different list.</li>
<li><p class="startli">Actually we do not know how to divide them. So make a list with every measure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdStl</td><td>List of measure to calculate. </td></tr>
    <tr><td class="paramname">LlStl</td><td>(out) List of list of measures. Free it with DYNdetKnwLL (&amp;LlStl, "LdStl")</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Dec/2008 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ad994162a3adc5b0ab42f70211a424413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeChkMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the market data for Montecarlo simulation. (LdMkt) </p>
<p>Check the market data for Montecarlo simulation. (LdMkt)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>List of structure for Montecarlo Simulation. </td></tr>
    <tr><td class="paramname">IsCur</td><td>Flag of whether is current date or past date. See AFUdatCurHis </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(OUT) List for Montecarlo simulation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 04/Dec/2003. mnodified:<ul>
<li>Alex RODRIGUEZ - 04/Mar/2004. Add MKTassHisChk.</li>
<li>Jon BARRUTIA - 24/May/2004: Checks also volatilities data</li>
<li>Iker ZURIARRAIN - 14/Oct/2005. Add IsCur parameter.</li>
<li>Aitziber BARRERO - 01/Feb/2006: Add comment done in the last modification (AFUdatCurHis is used instead of datCurHis for IsCur)</li>
</ul>
</dd></dl>
<ul>
<li>Jon BARRUTIA - 23/Jan/2007: Check also equity price, index price and dividend yield curves Check also equity, index and spot volatilities curves</li>
<li>Jon BARRUTIA - 23/Apr/2007: Check also correlations</li>
<li>Josune BIKUNA - 11/Jun/2007: Add the checking of the spot prices used to update the 0D point of the forward curve passed to FEA<ul>
<li>Jon BARRUTIA - 24/Jul/2007: Check also the volatility matrixes</li>
<li>Jon BARRUTIA - 12/Dec/2007: Done private to the file</li>
<li>Jon BARRUTIA - 07/Mar/2008: Substitute MKT_TYP_INX by MKT_TYP_IXC</li>
<li>Jon BARRUTIA - 19/Feb/2009: Add the commodities</li>
<li>Jon BARRUTIA - 20/Feb/2009: Commodity curves are MKT_TYP_COC. Add commodity volatilities</li>
<li>Jon BARRUTIA - 03/Mar/2009: Added spots </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="abcb65eeb7bd582c4c95e5b75d31b4edc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeChkPriUmc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all the needed spot prices have been recovered correctly. </p>
<p>Check if all the needed spot prices for setting the point 0D in the forward curve passed to FEA have been recovered correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>Object list with the Monte Carlo instruments information. The assets information, where the needed spot price ums codes are configured, will be in "Ass" object </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data list. The mentioned spot prices will be in an object "PriUmc"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 11/Jun/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 12/Dec/2007: Treat only Epr,Inx and Spo types assets</li>
<li>Jon BARRUTIA - 06/Jun/2008: Do not stop with the first warning, show all of them at first time. Use defines for market data types.</li>
<li>Jon BARRUTIA - 19/Feb/2009: Get only equity, commodities, spot and index prices</li>
<li>Jon BARRUTIA - 23/Feb/2015: Call to lcMCIexeGetAssUmc to get different configured UMC code </li>
</ul>

</div>
</div>
<a class="anchor" id="a113ea765b275a67a27b9eb9c20c005c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeGetAssUmc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdUmc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the different umc code configured for the user in the assets definition. </p>
<p>Get the market data for the spot price umc codes configured in the assets. The asset lists have a column 'PriUmc' that correspond with the spot price umc codes used to set the alu of the point 0D in the forward curve passed to FEA. This function will recovered the market data for all these spot price umc codes and it will add a new object "PriUmc" in the market data list passed as parameter. It returns only equity, commodities, spot and index prices</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMci</td><td>Object list with the Monte Carlo instruments information </td></tr>
    <tr><td class="paramname">LdUmc</td><td>(out) Asset UMC list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 23/Feb/2015 </dd></dl>

</div>
</div>
<a class="anchor" id="adae9c60907a884480d40baa5f3ad9f95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeGetMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the all market data for Montecarlo simulation. (LdMkt) </p>
<p>Get the all market data for Montecarlo simulation. (LdMkt)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connexion </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdMci</td><td>Instruments objects list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(OUT) Market data list for Montecarlo simulation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 04/Dec/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 21/Jan/2004: Get also historic assets prices</li>
<li>Jon BARRUTIA - 24/May/2004: Recover also volatilities data</li>
<li>Jon BARRUTIA - 23/Jan/2007: Recover also equity price, index price and dividend yield curves Recover also equity, index and spot volatilities curves<ul>
<li>Ismael SERRANO - 13/Mar/2007: EPR instead of EPC</li>
<li>Jon BARRUTIA - 23/Apr/2007: Recover also correlations</li>
</ul>
</li>
<li>Josune BIKUNA - 11/Jun/2007: Add the recovering of the spot prices used to update the 0D point of the forward curve passed to FEA<ul>
<li>Jon BARRUTIA - 24/Jul/2007: Get also the volatility matrixes</li>
<li>Jon BARRUTIA - 12/Dec/2007: Done private to the file</li>
<li>Jon BARRUTIA - 07/Mar/2008: Substitute MKT_TYP_INX by MKT_TYP_IXC</li>
<li>Jon BARRUTIA - 19/Feb/2009: Add the commodities</li>
<li>Jon BARRUTIA - 20/Feb/2009: Correct the commodities</li>
<li>Jon BARRUTIA - 03/Mar/2009: Get spots </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="abe6f9442c6ff7faa69235204e4c77711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeGetPriUmc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the market data for the spot price umc codes configured in the assets. </p>
<p>Get the market data for the spot price umc codes configured in the assets. The asset lists have a column 'PrimUmc' that correspond with the spot price umc codes used to set the alu of the point 0D in the forward curve passed to FEA. This function will recovered the market data for all these spot price umc codes and it will add a new object "PriUmc" in the market data list passed as parameter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Pro</td><td>Market data profile </td></tr>
    <tr><td class="paramname">LdMci</td><td>Object list with the Monte Carlo instruments information </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 11/Jun/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 12/Dec/2007: Treat only Epr,Inx and Spo types assets</li>
<li>Jon BARRUTIA - 20/Jan/2009: Treat also the commodities</li>
<li>Jon BARRUTIA - 23/Feb/2015: Call to lcMCIexeGetAssUmc to get different configured UMC code </li>
</ul>

</div>
</div>
<a class="anchor" id="a88742b5554f823eae231982deb79933c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMCIexeSavMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save market data used to calculate. </p>
<p>Save market data used to calculate</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connexion </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data list for Montecarlo simulation. </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">Dat</td><td>Date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Nov/2008 </dd></dl>

</div>
</div>
<a class="anchor" id="a1b91f3e3273e4b0e009c67d54bdddd6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeCal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdStl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdIns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdNpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CalFxg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MCI calculation of a set of measures. </p>
<p>MCI calculation of a set of measures</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdStl</td><td>List of measures </td></tr>
    <tr><td class="paramname">Pro</td><td>Market data profile </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdAss</td><td>List of assets. NULL for all. </td></tr>
    <tr><td class="paramname">LdIns</td><td>List of instruments. NULL for all. </td></tr>
    <tr><td class="paramname">LdNpa</td><td>List of ticket numbers. NULL for all. </td></tr>
    <tr><td class="paramname">CalFxg</td><td>Flag to indicate if the fixing should be calculated (1) or not (0) when no fixed initial values exist. </td></tr>
    <tr><td class="paramname">Ite</td><td>Number of iterations. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">Sed</td><td>Number of seed. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">SavMkt</td><td>Flag to save in database the market data used for MCI calculations. </td></tr>
    <tr><td class="paramname">SavRes</td><td>Flag to save in database the results of the calculation. </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Calculation result list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Nov/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 18/Mar/2009: Add param MCI_DEA_OPN to MCIinsGetMciDea call </li>
</ul>

</div>
</div>
<a class="anchor" id="a1c6ce3e75d2a20400f33d90ec7c3988e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeCalMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dva</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the market data for Montecarlo simulation on a given day. (LdMkt) </p>
<p>Calculate the market data for Montecarlo simulation on a given day. (LdMkt)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection. </td></tr>
    <tr><td class="paramname">Dva</td><td>Calculation date. </td></tr>
    <tr><td class="paramname">LdMci</td><td>Object list of the Monte Carlo instrument </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(OUT) List for Montecarlo simulation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 04/Dec/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/May/2004: Calculate also volatilities data</li>
<li>Jon BARRUTIA - 23/Jan/2007: Calculate also equity price,index price and dividend yield curves Calculate also equity, index and spot volatilities curves</li>
<li>Jon BARRUTIA - 23/Apr/2007: Calculate also correlations</li>
<li>Jon BARRUTIA - 24/Jul/2007: Calculations of volatility matrixes</li>
<li>Jon BARRUTIA - 07/Mar/2008: Substitute MKT_TYP_INX by MKT_TYP_IXC</li>
<li>Jon BARRUTIA - 19/Feb/2009: Add the commodities</li>
<li>Jon BARRUTIA - 20/Feb/2009: Commodity curves are MKT_TYP_COC. Add commodity volatilities</li>
<li>Jon BARRUTIA - 03/Mar/2009: Added spots</li>
<li>Alex RODRIGUEZ - 09/Mar/2010: Add Ctx parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a1ba052a913a50b1456df0cacfe6fba7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeCalSavPri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates instrument prices and saves them into the market data structure. </p>
<p>Calculates instrument prices for a profile and saves them into the market data structure. It calculates the price considering that the nominal is 1. So, the price will be the same for all deals (with same strike, C/P) for an instrument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile to launch the calculations and to save the market data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 01/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 05/Jul/2007: Save unitary price (without taking into account the nominal).</li>
<li>Jon BARRUTIA - 03/Oct/2007: Get all MC instrument information before calculating</li>
<li>Jon BARRUTIA - 03/Oct/2007: New arguments for MCIinsGetMci</li>
<li>Jon BARRUTIA - 05/Oct/2007: New arguments for MCIinsGetMci (CalFxg)</li>
<li>Jon BARRUTIA - 18/Oct/2007: Fix the initial values</li>
<li>Jon BARRUTIA - 08/Nov/2007: MCIexeLstMci: Pass a list of measures to calculate instead of a text</li>
<li>Gema ACHA - 23/Nov/2007: Change parameter of MCIresGet function</li>
<li>Ramon MARTINEZ - 17/Jan/2008: Use MCI_RES_TYP_XXX and MCI_RES_DES_XXX</li>
<li>Jon BARRUTIA - 17/Jan/2008: Do no calculate the initial values and check their existence</li>
<li>Gema ACHA - 23/Jan/2008: Add parameter to MCIinsGetMciDea and MCIresGet functions</li>
<li>Jon BARRUTIA - 08/Feb/2008: The checking of the existence of the initial values is done into the MCIexeLstMci function.</li>
<li>Gema ACHA - 12/Mar/2008: Add new parameter in MCIinsGetMci function (LdTdt)</li>
<li>Basilio TAMAYO - 20/Nov/2008: Remove unused parameters</li>
<li>Jon BARRUTIA - 13/Feb/2009: Npa &ndash;&gt; npa</li>
<li>Gotzon ETXEBERRIA - 18/Mar/2009: Add param MCI_DEA_OPN to MCIinsGetMciDea call</li>
<li>Basilio TAMAYO - 22/Jun/2009: New parameter in MKTxchImpMkt</li>
<li>Alex RODRIGUEZ - 07/Jul/2009: Add Ctx parameter to MKTmcdSetImc function.</li>
<li>Basilio TAMAYO - 07/Nov/2009: New parameter in MKTxchImpMkt to indicate that we are not managing missing market data.</li>
<li>Basilio TAMAYO - 18/Nov/2009: Add parameter LdPro in call to MKTxchImpMkt</li>
<li>Jose M. NUNEZ - 14/Dec/2009: If there is not deals to get the price, set an info message. For batch: In this case, this task will be succesfull.</li>
<li>Basilio TAMAYO - 16/Feb/2010: New parameter Dat in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 08/Jun/2010: Add parameter LdAsk in call to MKTxchImpMkt: NULL.</li>
<li>Basilio TAMAYO - 03/Sep/2010: Set price source as Monte Carlo calculation.</li>
<li>Basilio TAMAYO - 20/Jan/2011: New parameter (PrvInf) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 20/Jan/2011: New parameter (SavTyp) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 06/Feb/2012: Set new field Vdt (Valid date)</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Basilio TAMAYO - 07/Apr/2017: Add new parameter UpdFxgSpo in call to MKTxchImpMkt </li>
</ul>

</div>
</div>
<a class="anchor" id="aa5739d6b2e74894cd88e6e947e16f42f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeGetChkSynMciStc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdChk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the structure list for check syntax of Montecarlo simulation. (LdMci) </p>
<p>Get the structure list for check syntax of Montecarlo simulation. (LdMci)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connexion </td></tr>
    <tr><td class="paramname">MciCod</td><td>Instrument code. If NULL or empty all instruments information is got </td></tr>
    <tr><td class="paramname">LdChk</td><td>List with the instrument data if this calculation is launched from 'Check Syntax' of the instrument. </td></tr>
    <tr><td class="paramname">LdMci</td><td>(OUT) List for Montecarlo simulation. </td></tr>
    <tr><td class="paramname">-</td><td>Mci Instrument data </td></tr>
    <tr><td class="paramname">-</td><td>Mdl LlMciMdl (Models list) </td></tr>
    <tr><td class="paramname">-</td><td>Par LlMciPar (Execution parameters) </td></tr>
    <tr><td class="paramname">-</td><td>Ass LlMciAss (Assets list) </td></tr>
    <tr><td class="paramname">-</td><td>Cte LlMciCte (Constants list ) </td></tr>
    <tr><td class="paramname">-</td><td>Sch LdMciHsc (Historical schedules)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 11/Feb/2004.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 27/Feb/2004. Use MCIhscGetMciHsc instead of MCIschGetMciSch.</li>
<li>Jon BARRUTIA - 24/May/2004: Call to lcMCIsetInsDat.</li>
<li>Jon BARRUTIA - 20/Jun/2004: Added IntMth, ExpMth</li>
<li>Jon BARRUTIA - 30/Jul/2004: Take the instrument data from afuMci and afuMciIntCrv instead of the LdChk list passed as an argument</li>
<li>Jon BARRUTIA - 28/Sep/2007: Move the error to <a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></li>
<li>Jon BARRUTIA - 08/Nov/2007: Remove call to lcMCIsetInsDat because it does nothing </li>
</ul>

</div>
</div>
<a class="anchor" id="afc7fa9d426b4c4164c55bfae74a84704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeGetGrpStl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdStl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of measures from a group. </p>
<p>Get the list of measures from a group.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Grp</td><td>MC measure group code </td></tr>
    <tr><td class="paramname">LdStl</td><td>(out) List of measures in the code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 20/Nov/2008 </dd></dl>

</div>
</div>
<a class="anchor" id="a126b734871d5dec396946335f8edacc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeGetMciStc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IntCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMci</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the structure list for Montecarlo simulation. (LdMci) </p>
<p>Get the structure list for Montecarlo simulation. (LdMci)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connexion </td></tr>
    <tr><td class="paramname">MciCod</td><td>Instrument code. If NULL or empty all instruments information is got </td></tr>
    <tr><td class="paramname">IntCod</td><td>Instrument internal code </td></tr>
    <tr><td class="paramname">LdMci</td><td>(OUT) List for Montecarlo simulation.<ul>
<li>Mci Instrument data.</li>
<li>Mdl LlMciMdl (Models list)</li>
<li>Par LlMciPar (Execution parameters)</li>
<li>Ass LlMciAss (Assets list)</li>
<li>Cte LlMciCte (Constants list )</li>
<li>Sch LdMciHsc (Historical schedules)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 04/Dec/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 13/Jan/2004: Set lists in the Mci object lists and after initialise to NULL to free memory in the cases there are errors. Get also instrument's schedules definition.</li>
<li>Alex RODRIGUEZ - 27/Feb/ 2004. Use MCIhscGetMciHsc instead of MCIschGetMciSch.</li>
<li>Jon BARRUTIA - 29/Jun/2004: Take the interpolation/extrapolation methods of the rate curve</li>
<li>Ismael SERRANO - 27/feb/2007: Add IntCod parameter</li>
<li>Ismael SERRANO - 27/Feb/2007: Remove WheMci</li>
<li>Ismael SERRANO - 03/Apr/2007: Set Sta as 0/1 instead of o/c</li>
<li>Ismael SERRANO - 17/abr/2007: Remove MciFrq, MciLstDat and MciFstDat columns</li>
<li>Josune BIKUNA - 06/Jun/2007: From now on, the MciCrv field contains the leg reference and not the yield curve, so the yield curve must be recovered from ref_leg table</li>
<li>Jon BARRUTIA - 28/Sep/2007: Move the error to <a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></li>
<li>Jon BARRUTIA - 08/Nov/2007: Remove call to lcMCIsetInsDat because it does nothing </li>
</ul>

</div>
</div>
<a class="anchor" id="ab6ef3c502a4cd9761a9ca4e585ea4a24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeGetStlOut </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get STlib outputs. </p>
<p>Get STlib outputs. Each output is type is stored in one list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdVal</td><td>Complete list of measures </td></tr>
    <tr><td class="paramname">LdCal</td><td>(OUT) Resultant list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 29/Mar/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 09/Dec/2008: Free memory in case of error. </li>
</ul>

</div>
</div>
<a class="anchor" id="a83aa1b75e4195472e57f41cc44736755"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeLstMci </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdStl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute MC simulations for a list of instruments. </p>
<p>Execute MC simulations for a list of instruments. The measures that can be calculated are those defined by MCI_RES_TYP_XXX (<a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a>).</p>
<ul>
<li><p class="startli">It also launches the existence of the needed initial values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMci</td><td>List of the Monte Carlo instruments </td></tr>
    <tr><td class="paramname">LdStl</td><td>List of measure to calculate. NULL is not allowed </td></tr>
    <tr><td class="paramname">Pro</td><td>Market data profile </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ite</td><td>Number of iterations. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">Sed</td><td>Number of seed. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">SavMkt</td><td>Flag to save in database the market data used for MCI calculations. </td></tr>
    <tr><td class="paramname">SavRes</td><td>Flag to save in database the results of the calculation. </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) List of calculation results.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 29/Jun/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 03/Jul/2007: Back connection when error</li>
<li>Josune BIKUNA - 04/Jul/2007: After getting the variable parameters, set the value date and maturity date also as variable parameter. This is neccessary because they coulb have been configured in the calculations</li>
<li>Jon BARRUTIA - 05/Jul/2007: Verify if StrExeCal exists before freeing it.</li>
<li>Jordi CAMARASA - 31/Aug/2007: Get to_eam for further use</li>
<li>Josune BIKUNA - 21/Sep/2007: Add the management of the "Price error"</li>
<li>Jon BARRUTIA - 02/Oct/2007: All instrument data comes into the LdMci data list</li>
<li>Jon BARRUTIA - 03/Oct/2007: Get the result type from the database instead of hard coded</li>
<li>Jon BARRUTIA - 07/Nov/2007: Get once the market data for all instruments to calculate</li>
<li>Jon BARRUTIA - 08/Nov/2007: Pass a list of measures to calculate instead of only one</li>
<li>Jon BARRUTIA - 28/Nov/2007: MCIexeMci does a bucle for each instrument so do not do it here MCIexeMci do not need the "Pro" argument</li>
<li>Jon BARRUTIA - 12/Dec/2007: MCIexeGetMkt-&gt;lcMCIexeGetMkt, MCIexeChkMkt-&gt;lcMCIexeChkMkt</li>
<li>Ramon MARTINEZ - 17/Jan/2008: Use MCI_RES_TYP_XXX. And demand a value in LdStl</li>
<li>Jon BARRUTIA - 08/Feb/2008: Check the existence of the needed initial values</li>
<li>Basilio TAMAYO - 20/Nov/2008: Add parameter Sav</li>
<li>Basilio TAMAYO - 09/Dec/2008: Change parameters of MCIexeMci</li>
<li>Jon BARRUTIA - 04/Feb/2009: Show only one message with missing initial values and market data</li>
<li>Jon BARRUTIA - 03/Mar/2009: Take historic market data if the calculations are asked for a past date</li>
<li>Jon BARRUTIA - 08/Jul/2009: Add the ticket number to the asset data list</li>
<li>Ruben GIL - 22/Feb/2010: ALU impacts: Add new variable in CSTreadDatDB function </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a883f268beb2e1bc0b33586981b2fe11d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeMci </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdStl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dva</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sav</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the simulations for every instrument that come into the LdMci argument. </p>
<p>Execute the simulations for every instrument that come into the LdMci argument</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMci</td><td>MC instruments objects list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data to launch calculations </td></tr>
    <tr><td class="paramname">LdStl</td><td>List of measures to calculate. </td></tr>
    <tr><td class="paramname">Dva</td><td>Value date </td></tr>
    <tr><td class="paramname">Ite</td><td>Number of iterations. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">Sed</td><td>Number of seed. If -1, it gets the default one from the instrument definition </td></tr>
    <tr><td class="paramname">Sav</td><td>Flag to save in database the results of the calculation. </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Result list ()</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 17/Apr/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 26/Apr/2007: Correct the launching of multiple measures calculation</li>
<li>Ismael SERRANO - 10/May/2007: Added parameter LdPvb (variable parameters list)</li>
<li>Ismael SERRANO - 06/Jun/2007: Free LdCal</li>
<li>Ismael SERRANO - 13/Jul/2007: Get initial values</li>
<li>Jon BARRUTIA - 28/Sep/2007: Move the error to <a class="el" href="mci__def_8h.html" title="MCI (Internal function for MonteCarlo simulation module)">mci_def.h</a></li>
<li>Jon BARRUTIA - 02/Oct/2007: All instrument data comes into the LdMci data list</li>
<li>Jon BARRUTIA - 18/Oct/2007: Verify column name when concatening asset lists</li>
<li>Jon BARRUTIA - 07/Nov/2007: Market data comes via argument instead of recover them for each instrument</li>
<li>Jon BARRUTIA - 28/Nov/2007: Remove uses of MciCod. They should be done inside MCIexe. Removed "Pro" parameter</li>
<li>Jon BARRUTIA - 23/Oct/2008: Call directly to ISTexe</li>
<li>Basilio TAMAYO - 20/Nov/2008: Add parameters Sav and LdRes</li>
<li>Basilio TAMAYO - 09/Dec/2008: Measures in a list. </li>
</ul>

</div>
</div>
<a class="anchor" id="a066c6b0df4bff631a793bf2364b448eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeOutRfs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdStl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdIns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DevCns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdNpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refresh of 'Detail of a MonteCarlo simulated instrument' window (MciOut). </p>
<p>It returns the data to show in the Monte Carlo visualisation screens. It can return the results for all measures or only the selected one.</p>
<ul>
<li>It distributes the result in standard bucket dates. The treatment code of those bucket dates is passed as an argument.</li>
<li><p class="startli">The returned lists have the following columns. Maturities list:</p>
<ul>
<li>Stm Result list:</li>
<li>StlDes: description of the returned measure</li>
<li>AssDes: description of the returned asset</li>
<li>Dev : currency</li>
<li>N columns with the maturities (1 M, 2 M...) of the selected buckets. Each line has the correspondent value of the StlDes-AssDes-Dev for each maturity. The value has been consolidated to the selected currency and converted to basic units.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dtb</td><td>Selected treatment to distribute the result dates in standard bucket dates </td></tr>
    <tr><td class="paramname">LdStl</td><td>List of measure descriptions that will be returned. Otherwise, it will be NULL. </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date. Otherwise, it will be NULL. </td></tr>
    <tr><td class="paramname">LdAss</td><td>List of selected assets to show. NULL for all. </td></tr>
    <tr><td class="paramname">LdIns</td><td>List of selected intruments to show. NULL for all. </td></tr>
    <tr><td class="paramname">DevCns</td><td>Consolidation currency </td></tr>
    <tr><td class="paramname">LdNpa</td><td>List of selected tickets to show. NULL for all. </td></tr>
    <tr><td class="paramname">LdCal</td><td>Calculation resultant list to get data from. If NULL, get data from database. </td></tr>
    <tr><td class="paramname">LdDat</td><td>(OUT). List with the distinct maturities for there are results. </td></tr>
    <tr><td class="paramname">LdOut</td><td>(OUT). List with the Monte Carlo simulations results.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 09/Feb/2004.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/Apr/2007: Re-done with the ST libraries</li>
<li>Jon BARRUTIA - 17/Apr/2007: Show maturities instead of maturity dates</li>
<li>Jon BARRUTIA - 20/Apr/2007: Consolidate the amounts to the consolidation currency</li>
<li>Jon BARRUTIA - 23/Apr/2007: BBconvertIntoSpot needs the context as argument</li>
<li>Ismael SERRANO - 21/May/2007: Use AssCod instead of AssDes in SELECT</li>
<li>Ramon MARTINEZ - 29/May/2007: Make sentence SQS compliant</li>
<li>Jon BARRUTIA - 04/Jun/2007: Comments</li>
<li>Ismael SERRANO - 05/Jun/2007: Free LdAls</li>
<li>Josune BIKUNA - 11/Jun/2007: Add a new parameter 'Mci' with the selected intruments for which the assets must be shown. See parameter</li>
<li>Josune BIKUNA - 12/Jun/2007: Depending on the results format according to the given results measure, the recovered data and the way to group it is different</li>
<li>Josune BIKUNA - 13/Jun/2007: if the results are given by instrument, add also the ticket information</li>
<li>Josune BIKUNA - 13/Jun/2007: get the currncy from the MC instrument definition table instead of asset definition table because there are some types of results for which the asset code is not given (for instance results by instrument)</li>
<li>Jon BARRUTIA - 01/Jul/2007: Call to MCIresGet</li>
<li>Josune BIKUNA - 04/Jul/2007: Avoid compilation warnings</li>
<li>Ismael SERRANO - 06/Jul/2007: Do not convert to basic units</li>
<li>Jon BARRUTIA - 09/Jul/2007: Do conversion to basic units</li>
<li>Jon BARRUTIA - 27/Jul/2007: lcDYNtsp &ndash;&gt; DYNtsp</li>
<li>Gema ACHA - 14/Nov/2007: Measure can be multiple, show the results for all types (byAss, ByMci)</li>
<li>Gema ACHA - 20/Nov/2007: Free memory</li>
<li>Gema ACHA - 23/Jan/2008: Add Npa parameter management</li>
<li>Jon BARRUTIA - 27/May/2008: Correct the grouping treatment</li>
<li>Josune BIKUNA - 17/Oct/2008: Use the type 'size_t' instead of 'int' for getting the size of the columns</li>
<li>Basilio TAMAYO - 20/Nov/2008: Change parameters: Ass &ndash;&gt; LdAss; Mci &ndash;&gt; LdIns, Npa &ndash;&gt; LdNpa</li>
<li>Basilio TAMAYO - 10/Dec/2008: Change parameter Stl &ndash;&gt; LdStl</li>
<li>Basilio TAMAYO - 10/Dec/2008: Add parameter LdCal</li>
<li>Basilio TAMAYO - 18/Dec/2008: Correct unfreed memory.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="adb6bf4143b0a1e5b61fae5967b9a7f89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexePriMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates instrument prices and saves them into the market data structure. </p>
<p>Calculates instrument prices and saves them into the market data structure. It launches the treatment for all official profiles.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 03/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 18/Jan/2008: Error messages separated by treated profile</li>
<li>Basilio TAMAYO - 03/Sep/2010: Get the list of profiles with standard function. </li>
</ul>

</div>
</div>
<a class="anchor" id="a346f3461a7fb9fef3d1d16c5040f5154"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MCIexeSavRes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dva</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MciCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMciRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save montecarlo instruments simulation results in database. </p>
<p>Save montecarlo instruments simulation results in database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection. </td></tr>
    <tr><td class="paramname">Dva</td><td>Calculation date. </td></tr>
    <tr><td class="paramname">MciCod</td><td>Code of instrument. </td></tr>
    <tr><td class="paramname">LdMciRes</td><td>List with results to save.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 09/Dec/2003 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mci_exe_8c.html">mciExe.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
