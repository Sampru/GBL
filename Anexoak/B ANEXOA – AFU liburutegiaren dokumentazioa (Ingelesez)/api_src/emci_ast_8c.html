<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/emciAst.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('emci_ast_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">emciAst.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for asset definition for a MC instrument related with ALU engines.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;chaine.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="emci__def_8h_source.html">emci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="emkt__def_8h_source.html">emkt_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mci__def_8h_source.html">mci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97e3c8e3324c6377f92ccbadca8d294c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a97e3c8e3324c6377f92ccbadca8d294c">EMCIastGetVol</a> (void *Ctx, int Lin, void *LdSdt, int InxVal, void **LdVal, void **LdLab, int *Don)</td></tr>
<tr class="memdesc:a97e3c8e3324c6377f92ccbadca8d294c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the asset list of the instrument.  <a href="#a97e3c8e3324c6377f92ccbadca8d294c"></a><br/></td></tr>
<tr class="separator:a97e3c8e3324c6377f92ccbadca8d294c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519a30617e71df3b259be1336182893e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a519a30617e71df3b259be1336182893e">EMCIastChgVolTyp</a> (void *Ctx, void *LdObj, int Lin, void *LdVal, int LinSel, int *Ner)</td></tr>
<tr class="memdesc:a519a30617e71df3b259be1336182893e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Treatments after select a volatility type: curve o matrix.  <a href="#a519a30617e71df3b259be1336182893e"></a><br/></td></tr>
<tr class="separator:a519a30617e71df3b259be1336182893e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537486b695cbe19ef6d53df90c0f3d5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a537486b695cbe19ef6d53df90c0f3d5d">EMCIastCtl</a> (void *LdObj, int *Ctn, int *Don)</td></tr>
<tr class="memdesc:a537486b695cbe19ef6d53df90c0f3d5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls before the asset confirmation.  <a href="#a537486b695cbe19ef6d53df90c0f3d5d"></a><br/></td></tr>
<tr class="separator:a537486b695cbe19ef6d53df90c0f3d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba22720a3760c030bb1444158263321d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#aba22720a3760c030bb1444158263321d">EMCIastChgDifMod</a> (void *LdObj, int Lin, int *Ner)</td></tr>
<tr class="memdesc:aba22720a3760c030bb1444158263321d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change specific for the diffusion model type.  <a href="#aba22720a3760c030bb1444158263321d"></a><br/></td></tr>
<tr class="separator:aba22720a3760c030bb1444158263321d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e309340902dfd4f3afa6b6024415e67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a0e309340902dfd4f3afa6b6024415e67">EMCIastLokFwd</a> (void *Ctx, void *LdObj, int Lin, int InxVal, void **LdVal, void **LdLab)</td></tr>
<tr class="memdesc:a0e309340902dfd4f3afa6b6024415e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific look up for select forward curve in asset definition window.  <a href="#a0e309340902dfd4f3afa6b6024415e67"></a><br/></td></tr>
<tr class="separator:a0e309340902dfd4f3afa6b6024415e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209ab3e6fef976e0a053446a5f0afe5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a209ab3e6fef976e0a053446a5f0afe5b">EMCIastLokSpo</a> (void *Ctx, void *LdObj, int Lin, int InxVal, void **LdVal, void **LdLab)</td></tr>
<tr class="memdesc:a209ab3e6fef976e0a053446a5f0afe5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selection of the spot price UMC when defining an asset.  <a href="#a209ab3e6fef976e0a053446a5f0afe5b"></a><br/></td></tr>
<tr class="separator:a209ab3e6fef976e0a053446a5f0afe5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a1f0139d153d431d361d620db923fe9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a8a1f0139d153d431d361d620db923fe9">EMCIastChgPmtTer</a> (void *LdObj, int Lin, int *Ner)</td></tr>
<tr class="memdesc:a8a1f0139d153d431d361d620db923fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change specific for the payment terms.  <a href="#a8a1f0139d153d431d361d620db923fe9"></a><br/></td></tr>
<tr class="separator:a8a1f0139d153d431d361d620db923fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13890a612780d7995eda85b2bc1b76d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a13890a612780d7995eda85b2bc1b76d5">EMCIastSetObl</a> (void *LdObj, int *Don)</td></tr>
<tr class="memdesc:a13890a612780d7995eda85b2bc1b76d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set some fields obligatories dependig the diffusion model.  <a href="#a13890a612780d7995eda85b2bc1b76d5"></a><br/></td></tr>
<tr class="separator:a13890a612780d7995eda85b2bc1b76d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad92e7dac53f7ba4f52c2d1b58de8e25b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#ad92e7dac53f7ba4f52c2d1b58de8e25b">EMCIastChgTyp</a> (void *LdObj, int Col, int Lin, int *Ner)</td></tr>
<tr class="memdesc:ad92e7dac53f7ba4f52c2d1b58de8e25b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific change for the asset type.  <a href="#ad92e7dac53f7ba4f52c2d1b58de8e25b"></a><br/></td></tr>
<tr class="separator:ad92e7dac53f7ba4f52c2d1b58de8e25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb4a729b1431faf700f4e51b185b17d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a4eb4a729b1431faf700f4e51b185b17d">EMCIastLokAss</a> (void *Ctx, void *LdSdt, int Lin, int InxVal, void **LdVal, void **LdLab, int *Don)</td></tr>
<tr class="memdesc:a4eb4a729b1431faf700f4e51b185b17d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific lookup for the asset type.  <a href="#a4eb4a729b1431faf700f4e51b185b17d"></a><br/></td></tr>
<tr class="separator:a4eb4a729b1431faf700f4e51b185b17d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d910fdac5b89c6b64ca2d7d0b92c5a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ast_8c.html#a5d910fdac5b89c6b64ca2d7d0b92c5a8">EMCIastLokPvbAss</a> (void *Ctx, void *LdObj, int Lin, int InxVal, void **LdVal, void **LdLab, int *Don)</td></tr>
<tr class="memdesc:a5d910fdac5b89c6b64ca2d7d0b92c5a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific lookup for an asset when defining a variable parameter.  <a href="#a5d910fdac5b89c6b64ca2d7d0b92c5a8"></a><br/></td></tr>
<tr class="separator:a5d910fdac5b89c6b64ca2d7d0b92c5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for asset definition for a MC instrument related with ALU engines. </p>
<p>In a MC simulated instrument there are assets needed for execution. This file contains the functions related with ALU engines that handles these assets.</p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="emci__def_8h.html" title="EMCI (Engines for MonteCarlo simulation module)">emci_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>EMCIast</dd></dl>
<dl class="section user"><dt>Library</dt><dd>emci</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 18/Jul/2007 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aba22720a3760c030bb1444158263321d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastChgDifMod </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change specific for the diffusion model type. </p>
<p>Change specific for the diffusion model type. If "lognormal rate" (ls) || "Libor martel model" (lmm): &ndash; Set obligatory these fields: Payment terms, rate basis and Pay in arrears &ndash; Interpolation type will be "Market"</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Lin</td><td>Line selected in LdVal list </td></tr>
    <tr><td class="paramname">Ner</td><td>(OUT) Need redreaw</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 30/Nov/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 19/Dec/2007: Add controls for more diffusion model types</li>
<li>Gema ACHA - 07/Jan/2008: Correct Typ variable management</li>
<li>Jon BARRUTIA - 19/Feb/2009: Added the commodities. Modify the error message. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8a1f0139d153d431d361d620db923fe9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastChgPmtTer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change specific for the payment terms. </p>
<p>Change specific for the payment terms. Check the paymente terms string format. It has to be number or numbers plus "m" or "y". It can't have one units distinct of moth or year.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Lin</td><td>Line selected in LdVal list </td></tr>
    <tr><td class="paramname">Ner</td><td>(OUT) Need redreaw</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 10/Dec/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 17/Dec/2007: Use EMCIchkPmtTer</li>
<li>Jon BARRUTIA - 18/Mar/2007: Call to MCIchkPmtTer instead of EMCIchkPmtTer </li>
</ul>

</div>
</div>
<a class="anchor" id="ad92e7dac53f7ba4f52c2d1b58de8e25b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastChgTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific change for the asset type. </p>
<p>Specific change for the asset type. It modifies the entry type of the asset code depending on the asset type.</p>
<ul>
<li>If the asset type is "Generic", the entry type of the asset code is "Introduction"</li>
<li>If the asset type is "Concrete", the entry type of the asset code is "Specific"</li>
<li><p class="startli">So, as the user can insert anything for a generic asset, it must not exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Col</td><td>Column of the matrix </td></tr>
    <tr><td class="paramname">Lin</td><td>Line of the matrix </td></tr>
    <tr><td class="paramname">Ner</td><td>(OUT) Do not need to redreaw</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 12/Jun/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 12/Sep/2008: Set the correct entry type when it is a concrete asset </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a519a30617e71df3b259be1336182893e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastChgVolTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>LinSel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Treatments after select a volatility type: curve o matrix. </p>
<p>Treatments after select a volatility type: curve o matrix.</p>
<ul>
<li>Set the label of the type: curve/matrix</li>
<li>Set the type: curve/matrix into the VolTyp field to save it into the database</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Windows objects list </td></tr>
    <tr><td class="paramname">Lin</td><td>SDT descriptors index </td></tr>
    <tr><td class="paramname">LdVal</td><td>List with all columns that returns the select sentence. All cols are in string format </td></tr>
    <tr><td class="paramname">LinSel</td><td>Line selected in LdVal list </td></tr>
    <tr><td class="paramname">Ner</td><td>(out) Interactor has been executed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 18/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 18/Oct/2007: Control that nothing is selected </li>
</ul>

</div>
</div>
<a class="anchor" id="a537486b695cbe19ef6d53df90c0f3d5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastCtl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ctn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls before the asset confirmation. </p>
<p>Controls before the asset confirmation:</p>
<ul>
<li>Control that the diffusion model and the volatility curve/matrix are coherent. If the diffusion model is "lv", it should be a matrix; otherwise, it should be a curve.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Windows objects list </td></tr>
    <tr><td class="paramname">Ctn</td><td>(out). Continue or not depending on the control </td></tr>
    <tr><td class="paramname">Don</td><td>(out). Control executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 08/Aug/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="a97e3c8e3324c6377f92ccbadca8d294c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastGetVol </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the asset list of the instrument. </p>
<p>The simulated instruments has some assets defined. This functions do the select in the table sfuMciAst to get the assets defined for the structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Lin</td><td>Lookup line </td></tr>
    <tr><td class="paramname">LdSdt</td><td>Column data descriptor (e.g. label, db column name, ...) </td></tr>
    <tr><td class="paramname">InxVal</td><td>Index of value into the list of data </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) Resulting value list </td></tr>
    <tr><td class="paramname">LdLab</td><td>(out) Resulting label list </td></tr>
    <tr><td class="paramname">Don</td><td>(out) Interactor has been executed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 18/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 10/Dec/2007: Add Typ parameter in MCIastLokVol function</li>
<li>Gema ACHA - 11/Dec/2007: Filter by currency </li>
</ul>

</div>
</div>
<a class="anchor" id="a4eb4a729b1431faf700f4e51b185b17d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastLokAss </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific lookup for the asset type. </p>
<p>Specific lookup for the asset type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdSdt</td><td>Column data descriptor </td></tr>
    <tr><td class="paramname">Lin</td><td>Line of the matrix </td></tr>
    <tr><td class="paramname">InxVal</td><td>Column of the matrix </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) Resulting value list </td></tr>
    <tr><td class="paramname">LdLab</td><td>(out) Resulting label list </td></tr>
    <tr><td class="paramname">Don</td><td>(out) Interactor completed flag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 30/Jul/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 01/Aug/2008: Delete parameter LdObj. Correct header.</li>
<li>Jon BARRUTIA - 18/Nov/2008: Modified call to MCIastGetAssMktTyp</li>
<li>Amparo CAMARERO - 15/Nov/2012: Modify function header to match new DOXYGEN format </li>
</ul>

</div>
</div>
<a class="anchor" id="a0e309340902dfd4f3afa6b6024415e67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastLokFwd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific look up for select forward curve in asset definition window. </p>
<p>Specific look up for select forward curve in asset definition window. Filter by asset type and diffusion model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Databse connections </td></tr>
    <tr><td class="paramname">LdObj</td><td>Object list </td></tr>
    <tr><td class="paramname">Lin</td><td>Lookup line </td></tr>
    <tr><td class="paramname">InxVal</td><td>Index of value into the list of data </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) Resulting value list </td></tr>
    <tr><td class="paramname">LdLab</td><td>(out) Resulting label list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 03/Dec/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 20/Dec/2007: manage more asset type to get forward curves</li>
<li>Jon BARRUTIA - 19/Feb/2009: Added commodities</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mci_ast_8c.html#a89a25612cb622dd0d0cca13fdad5291e" title="Returns the curve type depending on the diffusion model and asset type.">MCIastGetAssCty</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5d910fdac5b89c6b64ca2d7d0b92c5a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastLokPvbAss </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific lookup for an asset when defining a variable parameter. </p>
<p>Specific lookup for an asset when defining a variable parameter. It returns a list with the assets of the treated parameter. It takes into account the market type of the generic asset to show the market data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Lin</td><td>Line of the matrix </td></tr>
    <tr><td class="paramname">InxVal</td><td>Column of the matrix </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) Resulting value list </td></tr>
    <tr><td class="paramname">LdLab</td><td>(out) Resulting label list </td></tr>
    <tr><td class="paramname">Don</td><td>(out) Interactor completed flag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 22/Sep/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 18/Nov/2008: Modified call to MCIastGetAssMktTyp</li>
<li>Amparo CAMARERO - 15/Nov/2012: Modify function header to match new DOXYGEN format </li>
</ul>

</div>
</div>
<a class="anchor" id="a209ab3e6fef976e0a053446a5f0afe5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastLokSpo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdLab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selection of the spot price UMC when defining an asset. </p>
<p>Selection of the spot price UMC when defining an asset depending on the asset type</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Databse connections </td></tr>
    <tr><td class="paramname">LdObj</td><td>Object list </td></tr>
    <tr><td class="paramname">Lin</td><td>Lookup line </td></tr>
    <tr><td class="paramname">InxVal</td><td>Index of value into the list of data </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) Resulting value list </td></tr>
    <tr><td class="paramname">LdLab</td><td>(out) Resulting label list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 03/Dec/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 11/Dec/2007: Delete unnecesary comments. UMC ot type fixing if the asset type is yield.</li>
<li>Gema ACHA - 11/Dec/2007: filter by currency</li>
<li>Gema ACHA - 20/Dec/2007: Manage Epr, Inx and Spo types</li>
<li>Jon BARRUTIA - 04/Dec/2008: Correct when not treated cases. Now it treats all asset types</li>
<li>Jon BARRUTIA - 13/Feb/2009: Fixing curves are taken when Yield curves are selected </li>
</ul>

</div>
</div>
<a class="anchor" id="a13890a612780d7995eda85b2bc1b76d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIastSetObl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set some fields obligatories dependig the diffusion model. </p>
<p>If the window is on modify mode, set some fields obligatories dependig the diffusion model. Fields to set to obligatory: payment terms, rate basic and pay in arrears fields</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Object list </td></tr>
    <tr><td class="paramname">Don</td><td>(out). Action executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema ACHA - 11/Dec/2007. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="emci_ast_8c.html">emciAst.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:48 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
