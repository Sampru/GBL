<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mktEpv.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mkt_epv_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mktEpv.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Market data - Equity yield volatility curves.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4c68144e60438767907c6dbb1df0db9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a4c68144e60438767907c6dbb1df0db9a">MKTepvGetEpv</a> (void *Ctx, char *Pro, void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:a4c68144e60438767907c6dbb1df0db9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load equity yield volatility curves into a single data structure.  <a href="#a4c68144e60438767907c6dbb1df0db9a"></a><br/></td></tr>
<tr class="separator:a4c68144e60438767907c6dbb1df0db9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc0d660d7b1209b38b8b47bae986d59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a5fc0d660d7b1209b38b8b47bae986d59">MKTepvGetHis</a> (void *Ctx, char *Dat, char *Pro, char *Trt, int MktHis, void **LdMkt)</td></tr>
<tr class="memdesc:a5fc0d660d7b1209b38b8b47bae986d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load historic equity yield volatility curves into a single data structure.  <a href="#a5fc0d660d7b1209b38b8b47bae986d59"></a><br/></td></tr>
<tr class="separator:a5fc0d660d7b1209b38b8b47bae986d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cedad70b060277e3b2cd50462bdab9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a21cedad70b060277e3b2cd50462bdab9">MKTepvFnd</a> (void *LdEpv, char *Epv, void **LdCrv)</td></tr>
<tr class="memdesc:a21cedad70b060277e3b2cd50462bdab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for a curve in a curve list, which should be found.  <a href="#a21cedad70b060277e3b2cd50462bdab9"></a><br/></td></tr>
<tr class="separator:a21cedad70b060277e3b2cd50462bdab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455aff975c2f5a7ebdf34d5220998c82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a455aff975c2f5a7ebdf34d5220998c82">MKTepvFndWthCtr</a> (void *LdEpv, char *Ctr, void **LdCrv)</td></tr>
<tr class="memdesc:a455aff975c2f5a7ebdf34d5220998c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for a curve of a given contract in a curve list, which should be found.  <a href="#a455aff975c2f5a7ebdf34d5220998c82"></a><br/></td></tr>
<tr class="separator:a455aff975c2f5a7ebdf34d5220998c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9492ca56f9e30ac038aed3cf7771e3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#ac9492ca56f9e30ac038aed3cf7771e3f">MKTepvSeaWthCtr</a> (void *LdEpv, char *Ctr, void **LdCrv)</td></tr>
<tr class="memdesc:ac9492ca56f9e30ac038aed3cf7771e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for a curve of a given contract in a curve list, which may not be found.  <a href="#ac9492ca56f9e30ac038aed3cf7771e3f"></a><br/></td></tr>
<tr class="separator:ac9492ca56f9e30ac038aed3cf7771e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69e30a3279a530c45346e0c7b2204820"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a69e30a3279a530c45346e0c7b2204820">MKTepvChk</a> (void *LdTra, <a class="el" href="afu__types_8h.html#a8e6dc39e1a845a7e90e4bbff510df6d1">AFUdatCurHis</a> IsCur, void *LdMkt)</td></tr>
<tr class="memdesc:a69e30a3279a530c45346e0c7b2204820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control equity yield volatility curves.  <a href="#a69e30a3279a530c45346e0c7b2204820"></a><br/></td></tr>
<tr class="separator:a69e30a3279a530c45346e0c7b2204820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43939c21795eadb62acec7983981f450"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a43939c21795eadb62acec7983981f450">MKTepvCal</a> (char *CalDat, void *LdMkt)</td></tr>
<tr class="memdesc:a43939c21795eadb62acec7983981f450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise date columns of all curves.  <a href="#a43939c21795eadb62acec7983981f450"></a><br/></td></tr>
<tr class="separator:a43939c21795eadb62acec7983981f450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034d2d9a09141983407362d0bbee7015"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_epv_8c.html#a034d2d9a09141983407362d0bbee7015">MKTepvGetCtrEpv</a> (void *Ctx, void *LdCtr, void **LdEpv)</td></tr>
<tr class="memdesc:a034d2d9a09141983407362d0bbee7015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get from database the equity yield volatility curve codes defined for the given contracts.  <a href="#a034d2d9a09141983407362d0bbee7015"></a><br/></td></tr>
<tr class="separator:a034d2d9a09141983407362d0bbee7015"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Market data - Equity yield volatility curves. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MKTepv (MarKeT data Equity Prices yield Volatility curves).</dd></dl>
<p>Market data - Equity yield volatility curves. See <a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> for details.</p>
<ul>
<li>- Data Structure.</li>
<li></li>
<li>- Object: Epv, list of Equity yield volatility curves <hr/>
</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>cod CUR_TYPE crv_des.crv Curve name</li>
<li>dev DEV_TYPE crv_des.dev Currency</li>
<li>LdCrv DYN_VOID MKTepvGetEpv () List of points</li>
<li>mrk ITR_TYPE MKTepvChk () Mark column</li>
<li>dat CDA_TYPE MKTepvCal () Calculation date</li>
<li></li>
<li>LdCrv: Curve, list of points <hr/>
</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>pty PTY_TYPE crv_pnt.pty Point type (Csh)</li>
<li>pnt PNT_TYPE crv_pnt.pnt Point code</li>
<li>mat ITR_TYPE crv_pnt.mat Maturity/Order (Nb of units)</li>
<li>unt MTU_TYPE crv_pnt.unt Unit (D, W, M or Y)</li>
<li>imc MCD_TYPE mkt_mcd.imc Internal market code</li>
<li>val DBL_TYPE mkt_dta.val Dividend value of the yield as in DB</li>
<li>quo QUO_TYPE pnt_det_alldata.dat Quotation mode</li>
<li>bdt CDA_TYPE calculated Begin date of the curve point</li>
<li>edt CDA_TYPE calculated End date of the curve point</li>
<li>pdt CDA_TYPE calculated Payment date of the curve point</li>
<li>nbd ITR_TYPE calculated Nb. of days until end date</li>
<li>nbp ITR_TYPE calculated Nb. of days until payment date</li>
<li><hr/>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014 </dd></dl>
</li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a43939c21795eadb62acec7983981f450"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvCal </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise date columns of all curves. </p>
<p>Initialise begin, end and pay date columns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Date of calculation </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object dynamic list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="a69e30a3279a530c45346e0c7b2204820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvChk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="afu__types_8h.html#a8e6dc39e1a845a7e90e4bbff510df6d1">AFUdatCurHis</a>&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control equity yield volatility curves. </p>
<p>Control equity yield volatility curves. Check that all the required curves have been loaded with correct values. All curves that are not used will be destroyed, so that we don't need to calculate it.</p>
<ul>
<li>In the stock object (LdTra) all curves come in the "Epv" column.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Stock list </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historical data (datCur: Current, datHis: Historical) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object dynamic list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>David ROMERO - 20/Apr/2015: Avoid Sonar warning (redundant asignment to itself) for unused parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a21cedad70b060277e3b2cd50462bdab9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvFnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdEpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Epv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for a curve in a curve list, which should be found. </p>
<p>Search for a curve in a curve list, which should be found, because we assume that MKTepvChk has been executed beforehand.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdEpv</td><td>List of equity yield volatility curves </td></tr>
    <tr><td class="paramname">Epv</td><td>Equity yield volatility curve name </td></tr>
    <tr><td class="paramname">LdCrv</td><td>(out) Curve list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="a455aff975c2f5a7ebdf34d5220998c82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvFndWthCtr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdEpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for a curve of a given contract in a curve list, which should be found. </p>
<p>Search for a curve of a given contract in a curve list, which should be found, because we assume that MKTepvChk has been executed beforehand.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdEpv</td><td>List of equity yield volatility curves </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract for which the equity yield volatility curve is wanted </td></tr>
    <tr><td class="paramname">LdCrv</td><td>(out) Curve list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="a034d2d9a09141983407362d0bbee7015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvGetCtrEpv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdEpv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get from database the equity yield volatility curve codes defined for the given contracts. </p>
<p>Get from database the list of equity yield volatility curve codes defined for the given contracts.</p>
<ul>
<li>The function will return a list with these columns:</li>
<li>- ctr: contract associated to the equity yield volatility curve</li>
<li>- crv: equity yield volatility curve code</li>
<li>- dev: currency of the equity yield volatility curve code</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts for which the equity yield volatility curves are wanted. It must have at least one 'ctr' column </td></tr>
    <tr><td class="paramname">LdEpv</td><td>(out) Resulting list with the yield volaility curves</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 27/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="a4c68144e60438767907c6dbb1df0db9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvGetEpv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load equity yield volatility curves into a single data structure. </p>
<p>Load equity yield volatility curves into a single data structure. We may have some indications in LdMkt on which curves are necessary.</p>
<dl class="section note"><dt>Note</dt><dd>No specific code for "tsr" curve</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdTra</td><td>List of deals which may be used for stock sensible curve loading </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="a5fc0d660d7b1209b38b8b47bae986d59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvGetHis </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktHis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load historic equity yield volatility curves into a single data structure. </p>
<p>Load historic equity yield volatility curves into a single data structure. We may have some indications in LdMkt on which curves are necessary.</p>
<ul>
<li>If the database connection is MO, it will take historic market data</li>
<li>If the database connection is FO, it will take historic market data for the given treatment, for example, revaluation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">Trt</td><td>Treatment for which the historic market data must be recovered in case of FO book. if it is empty or NULL, revaluation treatment will be used. </td></tr>
    <tr><td class="paramname">MktHis</td><td>Flag to get all market data (mkt_his_all) or only used prices (mkt_his_use) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 29/Oct/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="ac9492ca56f9e30ac038aed3cf7771e3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTepvSeaWthCtr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdEpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for a curve of a given contract in a curve list, which may not be found. </p>
<p>Search for a curve of a given contract in a curve list, which may not be found</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdEpv</td><td>List of equity yield volatility curves </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract for which the equity yield volatility curve is wanted </td></tr>
    <tr><td class="paramname">LdCrv</td><td>(out) Curve list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Oct/2014 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mkt_epv_8c.html">mktEpv.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
