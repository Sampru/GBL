<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mktCtr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mkt_ctr_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mktCtr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Market data - Contracts.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;carDef.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;fsa_def.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;math_def.h&gt;</code><br/>
<code>#include &lt;mb_def.h&gt;</code><br/>
<code>#include &lt;memoire.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__types_8h_source.html">afu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a19fd601d490c9936264045d7948bd164"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a19fd601d490c9936264045d7948bd164">MKT_CTR_TRT</a>&#160;&#160;&#160;7016</td></tr>
<tr class="separator:a19fd601d490c9936264045d7948bd164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac34842d1617cbb9ddfad7ff4d6919e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a5ac34842d1617cbb9ddfad7ff4d6919e">YLD_INF_ERR</a>&#160;&#160;&#160;10  /* Infinite yield */</td></tr>
<tr class="separator:a5ac34842d1617cbb9ddfad7ff4d6919e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add383d79ea7a587db421f698dec4c4e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#add383d79ea7a587db421f698dec4c4e0">CTR_UNDEF</a>&#160;&#160;&#160;20  /* Undefined contract */</td></tr>
<tr class="separator:add383d79ea7a587db421f698dec4c4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41327e2dfd6e8c321c1ecd1365438a4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a41327e2dfd6e8c321c1ecd1365438a4b">NOT_SCH_FIX</a>&#160;&#160;&#160;30  /* Contract with not fixed periods */</td></tr>
<tr class="separator:a41327e2dfd6e8c321c1ecd1365438a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceef16ecac29b0b5fe853f394cd58520"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#aceef16ecac29b0b5fe853f394cd58520">YLD_LOW_M100</a>&#160;&#160;&#160;40  /* Yield near -100 limit */</td></tr>
<tr class="separator:aceef16ecac29b0b5fe853f394cd58520"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac217ca39cb7c3d305afc4779d12e441e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ac217ca39cb7c3d305afc4779d12e441e">lcMKTctrEstSch</a> (void *Ctx, int EstMth, void *LdCtr, void *LdMkt, char *Dat)</td></tr>
<tr class="memdesc:ac217ca39cb7c3d305afc4779d12e441e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the floating flows of bond schedules that are not already fixed.  <a href="#ac217ca39cb7c3d305afc4779d12e441e"></a><br/></td></tr>
<tr class="separator:ac217ca39cb7c3d305afc4779d12e441e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d5a148395c3b14ccb2a153f80240d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#aa0d5a148395c3b14ccb2a153f80240d5">lcMKTctrGetCtrAs</a> (void *Ctx, void *LdTra, void **LdCtrAs)</td></tr>
<tr class="memdesc:aa0d5a148395c3b14ccb2a153f80240d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the asset swap contracts.  <a href="#aa0d5a148395c3b14ccb2a153f80240d5"></a><br/></td></tr>
<tr class="separator:aa0d5a148395c3b14ccb2a153f80240d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26412265d894186bea4a4fa6cd29720"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ae26412265d894186bea4a4fa6cd29720">lcMKTctrGetEstMkt</a> (void *Ctx, char *Dat, void *LdCod, void **LdMkt)</td></tr>
<tr class="memdesc:ae26412265d894186bea4a4fa6cd29720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get, check and calculate market data to estimate future variable coupons.  <a href="#ae26412265d894186bea4a4fa6cd29720"></a><br/></td></tr>
<tr class="separator:ae26412265d894186bea4a4fa6cd29720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4124382a6fbdac49a4b3335635ea8fd6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a4124382a6fbdac49a4b3335635ea8fd6">lcMKTctrInitFxg</a> (void *Ctx, void **LdCtr)</td></tr>
<tr class="memdesc:a4124382a6fbdac49a4b3335635ea8fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the fixing information in LdCtr.  <a href="#a4124382a6fbdac49a4b3335635ea8fd6"></a><br/></td></tr>
<tr class="separator:a4124382a6fbdac49a4b3335635ea8fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fc0babdeb6202b091ab95715679dc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a57fc0babdeb6202b091ab95715679dc8">lcMKTctrUpdVarCpn</a> (void *Ctx, void *LdFlw)</td></tr>
<tr class="memdesc:a57fc0babdeb6202b091ab95715679dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the rate (tau) and coupon (cpn) of variable bond flows.  <a href="#a57fc0babdeb6202b091ab95715679dc8"></a><br/></td></tr>
<tr class="separator:a57fc0babdeb6202b091ab95715679dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb049c75df27934021da45b245007712"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#adb049c75df27934021da45b245007712">MKTctrGetCtr</a> (void *Ctx, void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:adb049c75df27934021da45b245007712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load required contracts, with bond schedule information for bonds.  <a href="#adb049c75df27934021da45b245007712"></a><br/></td></tr>
<tr class="separator:adb049c75df27934021da45b245007712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aafd862c615b42c479d85c669ec4bde"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a1aafd862c615b42c479d85c669ec4bde">MKTctrFind</a> (void *LdCtr, char *Ctr, int *Line)</td></tr>
<tr class="memdesc:a1aafd862c615b42c479d85c669ec4bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a contract in LdCtr.  <a href="#a1aafd862c615b42c479d85c669ec4bde"></a><br/></td></tr>
<tr class="separator:a1aafd862c615b42c479d85c669ec4bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b5ff69876e142de549f94dc98acbc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a67b5ff69876e142de549f94dc98acbc2">MKTctrCpyDta</a> (void *Ctx, char *SrcCtr, char *DstCtr)</td></tr>
<tr class="memdesc:a67b5ff69876e142de549f94dc98acbc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Management of contract market data.  <a href="#a67b5ff69876e142de549f94dc98acbc2"></a><br/></td></tr>
<tr class="separator:a67b5ff69876e142de549f94dc98acbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7def081ec5e51f8897489c51c85eaec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#af7def081ec5e51f8897489c51c85eaec">CTRinit</a> (void *Ctx, void **LdCtr, char *nomContrat)</td></tr>
<tr class="memdesc:af7def081ec5e51f8897489c51c85eaec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the characteristics of a contract.  <a href="#af7def081ec5e51f8897489c51c85eaec"></a><br/></td></tr>
<tr class="separator:af7def081ec5e51f8897489c51c85eaec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2128ecacbf6fc37381505cfef5751a1c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a2128ecacbf6fc37381505cfef5751a1c">CTRinitAll</a> (void *ctx, void **ldCtr, int *nbCtr, char *sqlWhere, char *sqlOrderBy, char *sqlGroupBy,...)</td></tr>
<tr class="memdesc:a2128ecacbf6fc37381505cfef5751a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisation des contrats.  <a href="#a2128ecacbf6fc37381505cfef5751a1c"></a><br/></td></tr>
<tr class="separator:a2128ecacbf6fc37381505cfef5751a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c953b1600fdb230c7f19d27f477947"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a96c953b1600fdb230c7f19d27f477947">CTRinitAll1</a> (void *Ctx, char *CtrSet, void **LdCtr)</td></tr>
<tr class="memdesc:a96c953b1600fdb230c7f19d27f477947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contract object initialisation.  <a href="#a96c953b1600fdb230c7f19d27f477947"></a><br/></td></tr>
<tr class="separator:a96c953b1600fdb230c7f19d27f477947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6b3c5e546633233db5a896b02cce25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a1f6b3c5e546633233db5a896b02cce25">CTRinitIn</a> (void *Ctx, void *LdCod, void **LdCtr)</td></tr>
<tr class="memdesc:a1f6b3c5e546633233db5a896b02cce25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contract object initialisation.  <a href="#a1f6b3c5e546633233db5a896b02cce25"></a><br/></td></tr>
<tr class="separator:a1f6b3c5e546633233db5a896b02cce25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34e4eddd2a6c8c264ab7947966a5ba3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#af34e4eddd2a6c8c264ab7947966a5ba3">CTRdetruit</a> (void **LdCtr)</td></tr>
<tr class="memdesc:af34e4eddd2a6c8c264ab7947966a5ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy contract object.  <a href="#af34e4eddd2a6c8c264ab7947966a5ba3"></a><br/></td></tr>
<tr class="separator:af34e4eddd2a6c8c264ab7947966a5ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3c826c0816b72ca24ccba2fb0fbe32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#aee3c826c0816b72ca24ccba2fb0fbe32">CTRrendementGen</a> (void *Ctx, void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, double Dpc, double *Yld)</td></tr>
<tr class="memdesc:aee3c826c0816b72ca24ccba2fb0fbe32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of yield from dirty price.  <a href="#aee3c826c0816b72ca24ccba2fb0fbe32"></a><br/></td></tr>
<tr class="separator:aee3c826c0816b72ca24ccba2fb0fbe32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef805c45a43f89aeeaeccaa4408bc7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a6ef805c45a43f89aeeaeccaa4408bc7b">CTRget</a> (void *LdCtr, char *col, int numLigne, char *datVal, double *cb_ret, short *valid_cb_ret)</td></tr>
<tr class="memdesc:a6ef805c45a43f89aeeaeccaa4408bc7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction provisoire de Calcul de cb_ret.  <a href="#a6ef805c45a43f89aeeaeccaa4408bc7b"></a><br/></td></tr>
<tr class="separator:a6ef805c45a43f89aeeaeccaa4408bc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee9e4dfe44ba757b5418221f3b4e3e6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#afee9e4dfe44ba757b5418221f3b4e3e6">CTRcvtCbRet</a> (char *dtDebCco, char *cc_dev, double cb_ret)</td></tr>
<tr class="memdesc:afee9e4dfe44ba757b5418221f3b4e3e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return cb_ret.  <a href="#afee9e4dfe44ba757b5418221f3b4e3e6"></a><br/></td></tr>
<tr class="separator:afee9e4dfe44ba757b5418221f3b4e3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9fa95ef423dc3318ce9b33d6e6cde89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#af9fa95ef423dc3318ce9b33d6e6cde89">CTRfinCcoGenTce</a> (void *Ctx, void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, int TcpIed, double *Cco, int *NbjCco)</td></tr>
<tr class="memdesc:af9fa95ef423dc3318ce9b33d6e6cde89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the accrued coupon and the number of days to next payment date.  <a href="#af9fa95ef423dc3318ce9b33d6e6cde89"></a><br/></td></tr>
<tr class="separator:af9fa95ef423dc3318ce9b33d6e6cde89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96e370eb36c644a90c6baa57c157f92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#af96e370eb36c644a90c6baa57c157f92">CTRfinCcoGen</a> (void *Ctx, void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, double *Cco, int *NbjCco)</td></tr>
<tr class="memdesc:af96e370eb36c644a90c6baa57c157f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the accrued coupon and the number of days to next payment date.  <a href="#af96e370eb36c644a90c6baa57c157f92"></a><br/></td></tr>
<tr class="separator:af96e370eb36c644a90c6baa57c157f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4deb0748f99ac4d84dec92adceb401"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a1a4deb0748f99ac4d84dec92adceb401">CTRscGen</a> (void *Ctx, void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, double Yld, double *Dpc, double *Sns, double *Cvx)</td></tr>
<tr class="memdesc:a1a4deb0748f99ac4d84dec92adceb401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of dirty price, sensitivity and convexity from yield.  <a href="#a1a4deb0748f99ac4d84dec92adceb401"></a><br/></td></tr>
<tr class="separator:a1a4deb0748f99ac4d84dec92adceb401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b952ab42b4cd292de66b5c8c6217dd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a5b952ab42b4cd292de66b5c8c6217dd8">CTRdatesCouponsTce</a> (void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, int TcpIed, int *RelPos, char *DebCco, char *FinCco, double *NxtCpn, double *NxtTau, double *NxtRmb, int *Per2End)</td></tr>
<tr class="memdesc:a5b952ab42b4cd292de66b5c8c6217dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives information of the coupon that includes one date.  <a href="#a5b952ab42b4cd292de66b5c8c6217dd8"></a><br/></td></tr>
<tr class="separator:a5b952ab42b4cd292de66b5c8c6217dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb89b9f29c16c0c231a9b95c52d73ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a0fb89b9f29c16c0c231a9b95c52d73ac">CTRdatesCoupons</a> (void *LdCtr, int InxCtr, char *CalDat, char *ModDiv, int *RelPos, char *DebCco, char *FinCco, double *NxtCpn, double *NxtTau, double *NxtRmb, int *Per2End)</td></tr>
<tr class="memdesc:a0fb89b9f29c16c0c231a9b95c52d73ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives information of the coupon that includes one date.  <a href="#a0fb89b9f29c16c0c231a9b95c52d73ac"></a><br/></td></tr>
<tr class="separator:a0fb89b9f29c16c0c231a9b95c52d73ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f56cb2327292bf81ab492d2936ce140"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a4f56cb2327292bf81ab492d2936ce140">CTRcpnEndFutRdt</a> (void *LdCtr, int InxCtr, char *CalDat, double *EndCpn)</td></tr>
<tr class="memdesc:a4f56cb2327292bf81ab492d2936ce140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the amount of coupons that have ended but have the record date in the future.  <a href="#a4f56cb2327292bf81ab492d2936ce140"></a><br/></td></tr>
<tr class="separator:a4f56cb2327292bf81ab492d2936ce140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c39b443fb37f7b3f3b32eb815d9f73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ab6c39b443fb37f7b3f3b32eb815d9f73">CTRisDatFut</a> (char *Edt, char *Dat, int *Fut)</td></tr>
<tr class="memdesc:ab6c39b443fb37f7b3f3b32eb815d9f73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Says if a date is in the future respecting a given end date.  <a href="#ab6c39b443fb37f7b3f3b32eb815d9f73"></a><br/></td></tr>
<tr class="separator:ab6c39b443fb37f7b3f3b32eb815d9f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6a8889ae46ce8abad321ebea488652"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#abe6a8889ae46ce8abad321ebea488652">CTRgetNom</a> (void *LdCtr, int InxCtr, char *RefDat, double *Nom)</td></tr>
<tr class="memdesc:abe6a8889ae46ce8abad321ebea488652"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the nominal in the period of the fcc and equity.  <a href="#abe6a8889ae46ce8abad321ebea488652"></a><br/></td></tr>
<tr class="separator:abe6a8889ae46ce8abad321ebea488652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a767aa122fc41781eca112e24e42d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#aa4a767aa122fc41781eca112e24e42d1">CctrInit</a> (char *cc_dev, double cb_tau, char *cb_ech, char *ch_ech, char *cb_d1i, int cb_d1i_sl, char *cb_yib, char *cb_acb, char *cb_cpt, int cb_per, double cb_prm, double cb_pem, double cb_ret, double cb_nom, char *cb_sft, char *cc_pay, void **ldCtr)</td></tr>
<tr class="separator:aa4a767aa122fc41781eca112e24e42d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcbc4b568233d0364f946150b0d0555f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#adcbc4b568233d0364f946150b0d0555f">CrendementGen</a> (void *Ctx, char *dtCal, char *cc_dev, double cb_tau, char *cb_ech, char *cb_d1i, int cb_d1i_sl, char *cb_yib, char *cb_acb, char *cb_cpt, int cb_per, double cb_prm, double cb_pem, double cb_ret, char *tc_div, double cb_nom, char *cb_sft, char *cc_pay, double tc_prx, double *tc_rdt)</td></tr>
<tr class="separator:adcbc4b568233d0364f946150b0d0555f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a3ee3503166f45045dbfb7483a46f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a89a3ee3503166f45045dbfb7483a46f2">CscGen</a> (void *Ctx, char *dtCal, char *cc_dev, double cb_tau, char *cb_ech, char *cb_d1i, int cb_d1i_sl, char *cb_yib, char *cb_acb, char *cb_cpt, int cb_per, double cb_prm, double cb_pem, double cb_ret, char *tc_div, double cb_nom, char *cb_sft, char *cc_pay, double tc_rdt, double *prix, double *sensibilite, double *convexite)</td></tr>
<tr class="separator:a89a3ee3503166f45045dbfb7483a46f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8e23682d74401a09cdf50c6e213e84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a5c8e23682d74401a09cdf50c6e213e84">ctrGenerateSchld</a> (char *dtCal, void **ldCtr)</td></tr>
<tr class="memdesc:a5c8e23682d74401a09cdf50c6e213e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bond schedule managed in memory to be merged with the DB version.  <a href="#a5c8e23682d74401a09cdf50c6e213e84"></a><br/></td></tr>
<tr class="separator:a5c8e23682d74401a09cdf50c6e213e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d3c7d990c28a1593c8be51c9ede5a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ad4d3c7d990c28a1593c8be51c9ede5a4">CTRfinSensGen</a> (void *Ctx, void *LdCtr, int CntCtr, char *Dat, char *Nat, char *ModDiv, double vxCours, double vxIncSpot, double *Dpc, double *Sns, double *Cvx, double *Yld)</td></tr>
<tr class="memdesc:ad4d3c7d990c28a1593c8be51c9ede5a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of price, sensitivity, convexivity and yield.  <a href="#ad4d3c7d990c28a1593c8be51c9ede5a4"></a><br/></td></tr>
<tr class="separator:ad4d3c7d990c28a1593c8be51c9ede5a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32ae02539ac380e4430a5d55ac73e79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ae32ae02539ac380e4430a5d55ac73e79">CTRfxgCalFlw</a> (void *Ctx, char *Dat, void *LdCfx, int InxFlwToFix, void *LdMkt0, void *LdCtr0, int InxCtr, int CalRat, int CalRatSpd, int CalCpn)</td></tr>
<tr class="memdesc:ae32ae02539ac380e4430a5d55ac73e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contract variable bond fixing calculation.  <a href="#ae32ae02539ac380e4430a5d55ac73e79"></a><br/></td></tr>
<tr class="separator:ae32ae02539ac380e4430a5d55ac73e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb2eb22566eaa5ba8030d7a3bcd5fb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#adbb2eb22566eaa5ba8030d7a3bcd5fb7">CTRcpnCalFlw</a> (void *LdCtr, int Inx, double Rat, char *Bdt, char *Edt, char *ExaBdt, char *ExaEdt, int IsPerExa, int ExaSch, double *Cpn)</td></tr>
<tr class="memdesc:adbb2eb22566eaa5ba8030d7a3bcd5fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the coupon flow from the coupon rate.  <a href="#adbb2eb22566eaa5ba8030d7a3bcd5fb7"></a><br/></td></tr>
<tr class="separator:adbb2eb22566eaa5ba8030d7a3bcd5fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c58d59260f9e490e9e5ada1519a66b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a5c58d59260f9e490e9e5ada1519a66b0">CTRgetSftMth</a> (char *Sft, char **Mth)</td></tr>
<tr class="memdesc:a5c58d59260f9e490e9e5ada1519a66b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the shifting method for calculations.  <a href="#a5c58d59260f9e490e9e5ada1519a66b0"></a><br/></td></tr>
<tr class="separator:a5c58d59260f9e490e9e5ada1519a66b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708a992564cb8c225eac4da1fb8087ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a708a992564cb8c225eac4da1fb8087ff">MKTctrUpdCtrAs</a> (void *LdBndcAs)</td></tr>
<tr class="memdesc:a708a992564cb8c225eac4da1fb8087ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update contract name for asset swap.  <a href="#a708a992564cb8c225eac4da1fb8087ff"></a><br/></td></tr>
<tr class="separator:a708a992564cb8c225eac4da1fb8087ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c820115051d2d81a414040b0577d908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a6c820115051d2d81a414040b0577d908">MKTctrDelMkt</a> (void *Ctx, char *Mpr, void *LdAls)</td></tr>
<tr class="memdesc:a6c820115051d2d81a414040b0577d908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all market data for an instrument.  <a href="#a6c820115051d2d81a414040b0577d908"></a><br/></td></tr>
<tr class="separator:a6c820115051d2d81a414040b0577d908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f927dd8d8400001c744baf9e50b4230"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a2f927dd8d8400001c744baf9e50b4230">MKTctrFndCpnSch</a> (void *LdCtr, char *Ctr, void **LdSch)</td></tr>
<tr class="memdesc:a2f927dd8d8400001c744baf9e50b4230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the list of coupon schedules of a given contract.  <a href="#a2f927dd8d8400001c744baf9e50b4230"></a><br/></td></tr>
<tr class="separator:a2f927dd8d8400001c744baf9e50b4230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d01a3cfd2844974b441bdb1028ae2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a60d01a3cfd2844974b441bdb1028ae2b">MKTctrGetSchEdt</a> (void *LdSch, int Inx, char **Edt)</td></tr>
<tr class="memdesc:a60d01a3cfd2844974b441bdb1028ae2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the end date of bond coupon.  <a href="#a60d01a3cfd2844974b441bdb1028ae2b"></a><br/></td></tr>
<tr class="separator:a60d01a3cfd2844974b441bdb1028ae2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab855fa27d4aebbe8d227c78039b866fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ab855fa27d4aebbe8d227c78039b866fb">MKTctrGetSchBdt</a> (void *LdSch, int Inx, char **Bdt)</td></tr>
<tr class="memdesc:ab855fa27d4aebbe8d227c78039b866fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the begin date of bond coupon.  <a href="#ab855fa27d4aebbe8d227c78039b866fb"></a><br/></td></tr>
<tr class="separator:ab855fa27d4aebbe8d227c78039b866fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec546729ea9e18e89b84a805e678eb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a4ec546729ea9e18e89b84a805e678eb6">MKTctrGetSchPdt</a> (void *LdSch, int Inx, char **Pdt)</td></tr>
<tr class="memdesc:a4ec546729ea9e18e89b84a805e678eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the payment date of bond coupon.  <a href="#a4ec546729ea9e18e89b84a805e678eb6"></a><br/></td></tr>
<tr class="separator:a4ec546729ea9e18e89b84a805e678eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcd83e260c2ca69dee9369630237e7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a8fcd83e260c2ca69dee9369630237e7f">MKTctrGetSchRmb</a> (void *LdSch, int Inx, double *Rmb)</td></tr>
<tr class="memdesc:a8fcd83e260c2ca69dee9369630237e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the reimbourse of coupon schedule list.  <a href="#a8fcd83e260c2ca69dee9369630237e7f"></a><br/></td></tr>
<tr class="separator:a8fcd83e260c2ca69dee9369630237e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18eb3b4d92f0cfef37359f2f29b4378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#aa18eb3b4d92f0cfef37359f2f29b4378">MKTctrGetSchCpn</a> (void *LdSch, int Inx, double *Cpn)</td></tr>
<tr class="memdesc:aa18eb3b4d92f0cfef37359f2f29b4378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the coupon value from the schedule list.  <a href="#aa18eb3b4d92f0cfef37359f2f29b4378"></a><br/></td></tr>
<tr class="separator:aa18eb3b4d92f0cfef37359f2f29b4378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b9d27162f7591aa308321a9d480862"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ab8b9d27162f7591aa308321a9d480862">MKTctrGetSchAsp</a> (void *LdSch, int Inx, double *Asp)</td></tr>
<tr class="memdesc:ab8b9d27162f7591aa308321a9d480862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the accumulative spread of a coupon schedule list.  <a href="#ab8b9d27162f7591aa308321a9d480862"></a><br/></td></tr>
<tr class="separator:ab8b9d27162f7591aa308321a9d480862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8dd3374794f20fdae108f4d52f40b33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ad8dd3374794f20fdae108f4d52f40b33">MKTctrGetNbSch</a> (void *LdSch, int *NbSch)</td></tr>
<tr class="memdesc:ad8dd3374794f20fdae108f4d52f40b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of coupon from bond schedule.  <a href="#ad8dd3374794f20fdae108f4d52f40b33"></a><br/></td></tr>
<tr class="separator:ad8dd3374794f20fdae108f4d52f40b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3291de6eb48d012186c6c41709c267d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ae3291de6eb48d012186c6c41709c267d">MKTctrGetSchPfi</a> (void *LdSch, int Inx, char **Pfi)</td></tr>
<tr class="memdesc:ae3291de6eb48d012186c6c41709c267d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the flag of pendient of fixing of a bond coupon.  <a href="#ae3291de6eb48d012186c6c41709c267d"></a><br/></td></tr>
<tr class="separator:ae3291de6eb48d012186c6c41709c267d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b7b774f1f73c26c52415b1d38b4c7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#ac0b7b774f1f73c26c52415b1d38b4c7a">MKTctrEstVar</a> (void *Ctx, char *Dat, char *Ctr)</td></tr>
<tr class="memdesc:ac0b7b774f1f73c26c52415b1d38b4c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate variable cash flows of variable bond and CDO schedules not fixed yet.  <a href="#ac0b7b774f1f73c26c52415b1d38b4c7a"></a><br/></td></tr>
<tr class="separator:ac0b7b774f1f73c26c52415b1d38b4c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9056158ce0f80eb1e5c77fdb237fbfae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a9056158ce0f80eb1e5c77fdb237fbfae">MKTctrGetDfl</a> (void *LdCtr, int InxCtr, char *Dat, double *Dfl)</td></tr>
<tr class="memdesc:a9056158ce0f80eb1e5c77fdb237fbfae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the rate (tau) and coupon (cpn) of variable bond flows.  <a href="#a9056158ce0f80eb1e5c77fdb237fbfae"></a><br/></td></tr>
<tr class="separator:a9056158ce0f80eb1e5c77fdb237fbfae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb4ff9fedb96dafd195bd02c5caa1cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a0fb4ff9fedb96dafd195bd02c5caa1cd">MKTctrAplDfl</a> (void *LdCtr, int InxCtr, int AplCff, char *Dat, double *Mnt, double *AlvCff)</td></tr>
<tr class="memdesc:a0fb4ff9fedb96dafd195bd02c5caa1cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a contracts defaults percentage to an amount.  <a href="#a0fb4ff9fedb96dafd195bd02c5caa1cd"></a><br/></td></tr>
<tr class="separator:a0fb4ff9fedb96dafd195bd02c5caa1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a66695c76f2f6525061760694e1110"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a09a66695c76f2f6525061760694e1110">MKTctrGetDflAlvCff</a> (double Dfl, double Idf, double Edf, double *AlvCff)</td></tr>
<tr class="memdesc:a09a66695c76f2f6525061760694e1110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the alive coefficient that corresponds to a given default amount.  <a href="#a09a66695c76f2f6525061760694e1110"></a><br/></td></tr>
<tr class="separator:a09a66695c76f2f6525061760694e1110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5de0953ee76fb445dd4181190042a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a5d5de0953ee76fb445dd4181190042a6">MKTctrGetEdc</a> (void *LdCtr, int InxCtr, char *Dat, int *Edc)</td></tr>
<tr class="memdesc:a5d5de0953ee76fb445dd4181190042a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Numbers of defaults correspond to a required date, entity default counter.  <a href="#a5d5de0953ee76fb445dd4181190042a6"></a><br/></td></tr>
<tr class="separator:a5d5de0953ee76fb445dd4181190042a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94525ff237d0aa856d24bd29eca3147f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a94525ff237d0aa856d24bd29eca3147f">MKTctrGetUseBsk</a> (void *Ctx, char *Prd, char *Bsk, int NbRef, void **LdCtr)</td></tr>
<tr class="memdesc:a94525ff237d0aa856d24bd29eca3147f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the contracts where its default number is upper or equal than NbRef.  <a href="#a94525ff237d0aa856d24bd29eca3147f"></a><br/></td></tr>
<tr class="separator:a94525ff237d0aa856d24bd29eca3147f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7288de70ef7c10d76d1e1db283f27347"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a7288de70ef7c10d76d1e1db283f27347">MKTctrCpyMkt</a> (void *Ctx, char *OldCtr, char *NewCtr, char *EvnDat, double Fct)</td></tr>
<tr class="memdesc:a7288de70ef7c10d76d1e1db283f27347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the historic price of one contract in the other contract taking into account a conversion factor.  <a href="#a7288de70ef7c10d76d1e1db283f27347"></a><br/></td></tr>
<tr class="separator:a7288de70ef7c10d76d1e1db283f27347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1a3609938e9f461bd2b2ec8c64abc0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_ctr_8c.html#a4b1a3609938e9f461bd2b2ec8c64abc0">MKTctrEcbPlcHisGetCtrPaw</a> (void *Ctx, char *Dep, char *Ctr, char *IniDat, char *EndDat, char *Ofo, void **LdRes)</td></tr>
<tr class="separator:a4b1a3609938e9f461bd2b2ec8c64abc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Market data - Contracts. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MKTctr</dd></dl>
<p>Market data - Contracts. See <a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> for details.</p>
<ul>
<li>datastru:</li>
<li></li>
<li>Object: Ctr, list of contracts <hr/>
</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>ctr.* ctr Contract data</li>
<li>ldEch VOID_TYPE ech_bnd Bond schedule</li>
<li>LdAmo VOID_TYPE amo_bnd Amortisation list</li>
<li>LdSpd VOID_TYPE spd_bnd Spread schedule</li>
<li>LdDfl VOID_TYPE dfl_bnd Contract defaults schedule</li>
<li>mkt VOID_TYPE mkt_his_fxg Market data list with fixing curves.</li>
<li></li>
<li>Object: ldEch, sublist with coupon schedule <hr/>
</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>deb DYN_DATE ech_bnd.deb Begin date</li>
<li>fin DYN_DATE ech_bnd.fin End date</li>
<li>pdt DYN_DATE ech_bnd.pdt Payment date</li>
<li>fdt DYN_DATE ech_bnd.fdt Fixing date</li>
<li>rdt DYN_DATE ech_bnd.rdt Record date</li>
<li>pfi char [1] ech_bnd.pfi Pending of fixing flag (Y, N)</li>
<li>cpn DBL_TYPE ech_bnd.cpn Coupon</li>
<li>tau DBL_TYPE ech_bnd.tau</li>
<li>rmb DBL_TYPE ech_bnd.rmb</li>
<li>nom DBL_TYPE ech_bnd.nom</li>
<li>fct CPT_TYPE ech_bnd.fct fix (fix or fixed) or flo</li>
<li></li>
<li><p class="startli">Note: original column names are kept while the CTRiniXXX.c functions are used.</p>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Improve</dt><dd></dd></dl>
<ul>
<li>Imp1: All the functions of this file should have the acronyme of this file </li>
</ul>
</li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="add383d79ea7a587db421f698dec4c4e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTR_UNDEF&#160;&#160;&#160;20  /* Undefined contract */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a19fd601d490c9936264045d7948bd164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MKT_CTR_TRT&#160;&#160;&#160;7016</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a41327e2dfd6e8c321c1ecd1365438a4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_SCH_FIX&#160;&#160;&#160;30  /* Contract with not fixed periods */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5ac34842d1617cbb9ddfad7ff4d6919e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YLD_INF_ERR&#160;&#160;&#160;10  /* Infinite yield */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aceef16ecac29b0b5fe853f394cd58520"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YLD_LOW_M100&#160;&#160;&#160;40  /* Yield near -100 limit */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa4a767aa122fc41781eca112e24e42d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CctrInit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_ech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ch_ech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_d1i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_d1i_sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_yib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_acb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_cpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_per</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_prm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_pem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_nom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_sft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_pay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cc_dev</td><td>Currency. </td></tr>
    <tr><td class="paramname">cb_tau</td><td>Montant du coupon. </td></tr>
    <tr><td class="paramname">cb_ech</td><td>Maturite du bond (date d'echeance). </td></tr>
    <tr><td class="paramname">ch_ech</td><td>Maturite du bond (date d'echeance) Open. </td></tr>
    <tr><td class="paramname">cb_d1i</td><td>date de debut du premier interet. </td></tr>
    <tr><td class="paramname">cb_d1i_sl</td><td>Type du premier coupon. </td></tr>
    <tr><td class="paramname">cb_yib</td><td>Yield basis. </td></tr>
    <tr><td class="paramname">cb_acb</td><td>Accrued basis. </td></tr>
    <tr><td class="paramname">cb_cpt</td><td>Coupon type. </td></tr>
    <tr><td class="paramname">cb_per</td><td>Periodicite. </td></tr>
    <tr><td class="paramname">cb_prm</td><td>Prime de remboursement. </td></tr>
    <tr><td class="paramname">cb_pem</td><td>Prix d'emission. </td></tr>
    <tr><td class="paramname">cb_ret</td><td>Retenue a la source. </td></tr>
    <tr><td class="paramname">cb_nom</td><td>Nominal du titre. </td></tr>
    <tr><td class="paramname">cb_sft</td><td>shifting method. </td></tr>
    <tr><td class="paramname">cc_pay</td><td>Pay order. </td></tr>
    <tr><td class="paramname">ldCtr</td><td>(out) List of contracts.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002<ul>
<li>David IGLESIAS - 09/May/2002: convert this function into a local function. Initialise two columns cc_prd and cc_ctr in ldCtr returning list.</li>
<li>Basilio TAMAYO - 13/Jan/2004: Error in the number of columns</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="adcbc4b568233d0364f946150b0d0555f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CrendementGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dtCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_ech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_d1i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_d1i_sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_yib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_acb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_cpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_per</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_prm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_pem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tc_div</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_nom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_sft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_pay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tc_prx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>tc_rdt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">dtCal</td><td>Calculation date </td></tr>
    <tr><td class="paramname">cc_dev</td><td>Currency. </td></tr>
    <tr><td class="paramname">cb_tau</td><td>Montant du coupon. </td></tr>
    <tr><td class="paramname">cb_ech</td><td>Maturite du bond (date d'echeance). </td></tr>
    <tr><td class="paramname">cb_d1i</td><td>date de debut du premier interet. </td></tr>
    <tr><td class="paramname">cb_d1i_sl</td><td>Type du premier coupon. </td></tr>
    <tr><td class="paramname">cb_yib</td><td>Yield basis. </td></tr>
    <tr><td class="paramname">cb_acb</td><td>Accrued basis. </td></tr>
    <tr><td class="paramname">cb_cpt</td><td>Coupon type. </td></tr>
    <tr><td class="paramname">cb_per</td><td>Periodicite. </td></tr>
    <tr><td class="paramname">cb_prm</td><td>Prime de remboursement. </td></tr>
    <tr><td class="paramname">cb_pem</td><td>Prix d'emission. </td></tr>
    <tr><td class="paramname">cb_ret</td><td>Retenue a la source. </td></tr>
    <tr><td class="paramname">tc_div</td><td></td></tr>
    <tr><td class="paramname">cb_nom</td><td>Nominal du titre. </td></tr>
    <tr><td class="paramname">cb_sft</td><td>shifting method. </td></tr>
    <tr><td class="paramname">cc_pay</td><td>Pay order. </td></tr>
    <tr><td class="paramname">tc_prx</td><td></td></tr>
    <tr><td class="paramname">tc_rdt</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter in this function and CTRrendementGen function </li>
</ul>

</div>
</div>
<a class="anchor" id="a89a3ee3503166f45045dbfb7483a46f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CscGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dtCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_ech</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_d1i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_d1i_sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_yib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_acb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_cpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb_per</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_prm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_pem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tc_div</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_nom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cb_sft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_pay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tc_rdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>prix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>sensibilite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>convexite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">dtCal</td><td></td></tr>
    <tr><td class="paramname">cc_dev</td><td>Currency. </td></tr>
    <tr><td class="paramname">cb_tau</td><td>Montant du coupon. </td></tr>
    <tr><td class="paramname">cb_ech</td><td>Maturite du bond (date d'echeance). </td></tr>
    <tr><td class="paramname">cb_d1i</td><td>date de debut du premier interet. </td></tr>
    <tr><td class="paramname">cb_d1i_sl</td><td>Type du premier coupon. </td></tr>
    <tr><td class="paramname">cb_yib</td><td>Yield basis. </td></tr>
    <tr><td class="paramname">cb_acb</td><td>Accrued basis. </td></tr>
    <tr><td class="paramname">cb_cpt</td><td>Coupon type. </td></tr>
    <tr><td class="paramname">cb_per</td><td>Periodicite. </td></tr>
    <tr><td class="paramname">cb_prm</td><td>Prime de remboursement. </td></tr>
    <tr><td class="paramname">cb_pem</td><td>Prix d'emission. </td></tr>
    <tr><td class="paramname">cb_ret</td><td>Retenue a la source. </td></tr>
    <tr><td class="paramname">tc_div</td><td></td></tr>
    <tr><td class="paramname">cb_nom</td><td>Nominal du titre. </td></tr>
    <tr><td class="paramname">cb_sft</td><td>shifting method. </td></tr>
    <tr><td class="paramname">cc_pay</td><td></td></tr>
    <tr><td class="paramname">tc_rdt</td><td></td></tr>
    <tr><td class="paramname">prix</td><td></td></tr>
    <tr><td class="paramname">sensibilite</td><td></td></tr>
    <tr><td class="paramname">convexite</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter. </li>
</ul>

</div>
</div>
<a class="anchor" id="adbb2eb22566eaa5ba8030d7a3bcd5fb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRcpnCalFlw </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Rat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ExaBdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ExaEdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsPerExa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExaSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cpn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the coupon flow from the coupon rate. </p>
<p>Calculate the coupon flow from the coupon rate and depending on the period.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract information list </td></tr>
    <tr><td class="paramname">Inx</td><td>Line in LdCtr where it is the desired contract </td></tr>
    <tr><td class="paramname">Rat</td><td>Coupon rate </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the period to calculate the coupon. It can be different from the exact begin date of the period. </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the period to calculate the coupon. It can be different from the exact end date of the period. </td></tr>
    <tr><td class="paramname">ExaBdt</td><td>Exact begin date of the period. </td></tr>
    <tr><td class="paramname">ExaEdt</td><td>Exact end date of the period. </td></tr>
    <tr><td class="paramname">IsPerExa</td><td>Flag to indicate if the period for which the coupon flow is being calculated is exact or not. Sometimes, the first period is not exact. </td></tr>
    <tr><td class="paramname">ExaSch</td><td>Flag to indicate if the calculations must be done with exact periods, this is, with the number of months and not with the number of days. </td></tr>
    <tr><td class="paramname">Cpn</td><td>(OUT) Coupon flow</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 31/Oct/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 20/Jan/2003. Correct the ACT/ACT method. The ACT/ACT basis of AFU is considered ACT/EXA by Cardinal</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Gotzon ETXEBERRIA - 22/Feb/2006: Add ACT/ACT_K, ACT/365_366</li>
<li>Basilio TAMAYO - 28/Mar/2006: Add parameter Inx</li>
<li>Josune BIKUNA - 20/Jul/2007: Calculate correctly the percentage to apply to the coupon in case of defaults</li>
<li>Josune BIKUNA - 20/Jul/2007: Use MKTctrAplDfl function to apply the defaults percentage to the coupon</li>
<li>Josune BIKUNA - 23/Jul/2007: Add 'AplAlvCff' and 'AlvCff' parameters when calling to MKTctrAplDfl function</li>
<li>Basilio TAMAYO - 04/Mar/2011: Add accrued basis ACT/ACT_AUD</li>
<li>Basilio TAMAYO - 12/Jul/2011: Long isma, divide the first period into 2</li>
<li>Basilio TAMAYO - 07/Sep/2011: Rename ACT/ACT_AUD as ACT/ACT_RND.</li>
<li>Basilio TAMAYO - 26/Jan/2017: in case of RUB currency, round coupon to 3 decimals.</li>
<li>Basilio TAMAYO - 08/Mar/2017: Add basis ACT/ACT_ICMA, coupon is Rate / frequency </li>
</ul>

</div>
</div>
<a class="anchor" id="a4f56cb2327292bf81ab492d2936ce140"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRcpnEndFutRdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>EndCpn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the amount of coupons that have ended but have the record date in the future. </p>
<p>Calculate the amount of coupons that have ended but they have the record date in the future. They must be considered as accrued. The function begins searching the coupons from the beginning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">EndCpn</td><td>(out) Coupon, of the period ended before CalDat but that they have the record date in the future</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 09/Dec/2009: Use the function CTRisPdtFut to get the information if the payment date if future or not</li>
<li>Josune BIKUNA - 17/Dec/2009: If the payment date of the period is already in the past, continue with the next</li>
<li>Josune BIKUNA - 18/Dec/2009: Take into account that the given date can be closed</li>
<li>Josune BIKUNA - 24/Dec/2009: Optimise the code</li>
<li>Josune BIKUNA - 29/Mar/2010: From now on, use the record date instead of the payment date to know which are the coupons that although they have finished, they must be considered as accrued. The function has been renamed and the parameter RefBdt has been removed </li>
</ul>

</div>
</div>
<a class="anchor" id="afee9e4dfe44ba757b5418221f3b4e3e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double CTRcvtCbRet </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dtDebCco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cc_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cb_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return cb_ret. </p>
<p>Return cb_ret</p>
<ul>
<li><p class="startli">Si deb &gt;= '01-JAN-1997' &ndash;&gt; cb_ret = 0.0</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtDebCco</td><td>Date debut </td></tr>
    <tr><td class="paramname">cc_dev</td><td>currency </td></tr>
    <tr><td class="paramname">cb_ret</td><td>cb_ret</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a0fb89b9f29c16c0c231a9b95c52d73ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRdatesCoupons </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RelPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DebCco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FinCco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtCpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtTau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtRmb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Per2End</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives information of the coupon that includes one date. </p>
<p>Given a date it finds the coupon that includes it and returns this information: coupon init (deb), coupon end (end), coupon flow (cpn), bond interest for the coupon (tau), the nominal flow (rmb) and the number of periods. <hr/>
 <h2>CalDat |RelPos| DebCco | FinCco |NxtCpn |NxtTau|NxtRmb|Per2End</h2>
<p>Previous first period| -1 |First beg.date|First beg.date| 0 | 0 | 0 |NbPer-1 Living period | 0 |Begin date |End date | Cpn | Tau | Rmb |NbPer-CntPer-1 Posterior last period| 1 |Last end date |Last end date | Cpn | Tau | Rmb | 0 </p>
<h2>| | | |0(ExDiv)| | |</h2>
<ul>
<li>In case the given date is equal to coupon end date, it is considered it is in the next coupon and the accrued will be 0.0.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">RelPos</td><td>(Out) Relative position of CalDat in the contract. -1 CalDat is previous the first coupon period of the contract 0 CalDat is in the living period of the contract +1 CalDat is posterior to the last coupon period of the contract </td></tr>
    <tr><td class="paramname">DebCco</td><td>(Out) Begin date of the period where CalDat is </td></tr>
    <tr><td class="paramname">FinCco</td><td>(Out) End date of the period where CalDat is </td></tr>
    <tr><td class="paramname">NxtCpn</td><td>(Out) Coupon, of the period where CalDat is, really paid. The coupon amount will be: Notional * cpn / 100 </td></tr>
    <tr><td class="paramname">NxtTau</td><td>(Out) Face coupon of the period where CalDat is </td></tr>
    <tr><td class="paramname">NxtRmb</td><td>(Out) Reimbursement of the period where CalDat is </td></tr>
    <tr><td class="paramname">Per2End</td><td>(Out) Number of complete periodes from CalDat until the maturity of the contract</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 05/Sep/2014</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a5b952ab42b4cd292de66b5c8c6217dd8" title="Retreives information of the coupon that includes one date.">CTRdatesCouponsTce</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a5b952ab42b4cd292de66b5c8c6217dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRdatesCouponsTce </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TcpIed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RelPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DebCco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FinCco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtCpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtTau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>NxtRmb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Per2End</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives information of the coupon that includes one date. </p>
<p>Given a date it finds the coupon that includes it and returns this information: coupon init (deb), coupon end (end), coupon flow (cpn), bond interest for the coupon (tau), the nominal flow (rmb) and the number of periods. <hr/>
 <h2>CalDat |RelPos| DebCco | FinCco |NxtCpn |NxtTau|NxtRmb|Per2End</h2>
<p>Previous first period| -1 |First beg.date|First beg.date| 0 | 0 | 0 |NbPer-1 Living period | 0 |Begin date |End date | Cpn | Tau | Rmb |NbPer-CntPer-1 Posterior last period| 1 |Last end date |Last end date | Cpn | Tau | Rmb | 0 </p>
<h2>| | | |0(ExDiv)| | |</h2>
<ul>
<li>In case the given date is equal to coupon end date, this function gives the possibility to consider:</li>
<li>- if the date belongs to next coupon, so the accrued will be 0.0</li>
<li>- if the date belongs to the current coupon, and the total (full) coupon is returned</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">TcpIed</td><td>Total coupon in end date (0/1). In case the given date is equal to coupon end date, this flag determinates the behaviour:<ul>
<li>0: if it must be considered that the date belongs to the next coupon, so the accrued coupon is 0.0</li>
<li>1: if it must be considered that the date belongs to the current coupon, so the total current coupon is returned The 'normal' behaviour is 0, and in very limited occasions this parameter will be used as 1. </li>
</ul>
</td></tr>
    <tr><td class="paramname">RelPos</td><td>(Out) Relative position of CalDat in the contract. -1 CalDat is previous the first coupon period of the contract 0 CalDat is in the living period of the contract +1 CalDat is posterior to the last coupon period of the contract </td></tr>
    <tr><td class="paramname">DebCco</td><td>(Out) Begin date of the period where CalDat is </td></tr>
    <tr><td class="paramname">FinCco</td><td>(Out) End date of the period where CalDat is </td></tr>
    <tr><td class="paramname">NxtCpn</td><td>(Out) Coupon, of the period where CalDat is, really paid. The coupon amount will be: Notional * cpn / 100 </td></tr>
    <tr><td class="paramname">NxtTau</td><td>(Out) Face coupon of the period where CalDat is </td></tr>
    <tr><td class="paramname">NxtRmb</td><td>(Out) Reimbursement of the period where CalDat is </td></tr>
    <tr><td class="paramname">Per2End</td><td>(Out) Number of complete periodes from CalDat until the maturity of the contract</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 10/Apr/2000. Eliminate DYNread</li>
<li>Basilio TAMAYO - 01/Jul/2002. Per2End when previous to the start of contract</li>
<li>Josune BIKUNA - 05/Sep/2002. If the required date is bigger that the last coupon period end date, the information recovered must correspond to the last coupon.</li>
<li>Edurne GORDOA - 30/Sep/2003: Avoid compilation warnings</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Ramon MARTINEZ - 13/Sep/2006: Improve comments of NxtCpn</li>
<li>Basilio TAMAYO - 06/Oct/2008: Change name to some parameters to adapt to Almis rules.</li>
<li>Josune BIKUNA - 05/Sep/2014: Add the management of 'TcpIed' parameter. See description</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a0fb89b9f29c16c0c231a9b95c52d73ac" title="Retreives information of the coupon that includes one date.">CTRdatesCoupons</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af34e4eddd2a6c8c264ab7947966a5ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRdetruit </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy contract object. </p>
<p>Destroy contract object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>(in/out) Contract list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Unknown</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 11/Dec/2001. Destroy the special events schedule (LdAmo)</li>
<li>Josune BIKUNA - 22/Jan/2002. Add bond spread schedule treatment</li>
<li>Alex RODRIGUEZ - 28/Feb/2003. Add deletion of LdDlt.</li>
<li>Basilio TAMAYO - 16/Oct/2008: Delete management of column LdDlt.</li>
<li>Alex RODRIGUEZ - 08/Jun/2011: Add management of LdClt</li>
<li>Alex RODRIGUEZ - 08/Jun/2011: Add management of LdCie </li>
</ul>

</div>
</div>
<a class="anchor" id="af96e370eb36c644a90c6baa57c157f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRfinCcoGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbjCco</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the accrued coupon and the number of days to next payment date. </p>
<p>Calculate the accrued coupon and the number of days to next payment date</p>
<ul>
<li>In case the given date is equal to coupon end date, it is considered it is in the next coupon and the accrued will be 0.0.</li>
</ul>
<ul>
<li>IMPORTANT: The past coupons that have ended but have not paied yet must be considered as accrued also, that is, theis coupon amount must be added to the calculated accrued coupon.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">Cco</td><td>(Out) accrued coupon. </td></tr>
    <tr><td class="paramname">NbjCco</td><td>(Out) Number of accrued days; since the current coupon started</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 05/Sep/2014</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#af9fa95ef423dc3318ce9b33d6e6cde89" title="Calculate the accrued coupon and the number of days to next payment date.">CTRfinCcoGenTce</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af9fa95ef423dc3318ce9b33d6e6cde89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRfinCcoGenTce </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TcpIed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbjCco</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the accrued coupon and the number of days to next payment date. </p>
<p>Calculate the accrued coupon and the number of days to next payment date</p>
<ul>
<li>In case the given date is equal to coupon end date, this function gives the possibility to consider:</li>
<li>- if the date belongs to next coupon, so the accrued will be 0.0</li>
<li>- if the date belongs to the current coupon, and the total (full) coupon is returned</li>
</ul>
<ul>
<li>IMPORTANT: The past coupons that have ended but have not paied yet must be considered as accrued also, that is, their coupon amount must be added to the calculated accrued coupon.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">TcpIed</td><td>Total coupon in end date (0/1). In case the given date is equal to coupon end date, this flag determinates the behaviour:<ul>
<li>0: if it must be considered that the date belongs to the next coupon, so the accrued coupon is 0.0</li>
<li>1: if it must be considered that the date belongs to the current coupon, so the total current coupon is returned The 'normal' behaviour is 0, and in very limited occasions this parameter will be used as 1. </li>
</ul>
</td></tr>
    <tr><td class="paramname">Cco</td><td>(Out) accrued coupon. </td></tr>
    <tr><td class="paramname">NbjCco</td><td>(Out) Number of accrued days; since the current coupon started</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 13/Jul/1999: OIS, LdMkt is in LdCtr</li>
<li>Edurne GORDOA - 08/Mar/2000: parameteres in call to MKTfxgCalRat</li>
<li>Edurne GORDOA - 18/Apr/2000: Remove FixMod parameter in call to MKTfxgCalRat</li>
<li>Ramon MARTINEZ - 06/Apr/2000. Isma long coupon</li>
<li>Ramon MARTINEZ - 20/Nov/2001. Modify JPY</li>
<li>Basilio TAMAYO - 23/Nov/2001. Add curve name as parameter to MKTfxgCalRat</li>
<li>Edurne GORDOA - 09/Apr/2002. Carried from ctrBond.c</li>
<li>Jon BARRUTIA - 22/May/2003: arrondMethod instead of Fround</li>
<li>Gotzon ETXEBERRIA - 22/Feb/2006: Add new methods: ACT/ACT_K and ACT/365_366</li>
<li>Josune BIKUNA - 11/May/2006. Init the returned values 'Cco' and 'NbjCco' to 0 at the beginning of the function. It is to remove possible previous values.</li>
<li>Jon BARRUTIA - 14/JUL/2006: Substitute g_gc_ctx by a call to GBgetCtx().</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of arrondMethod.</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of Ftruncate.</li>
<li>Lorea NAVARRO - 18/Oct/2006: Add AFUccyGetIntDta function and Ctx parameter.</li>
<li>Basilio TAMAYO - 13/Jul/2007: Read CST mktYldCal to see how to calculate floating coupons</li>
<li>Josune BIKUNA - 09/Dec/2009: The past coupons that have ended but have not paied yet must be considered as accrued also, that is, theis coupon amount must be added to the calculated accrued coupon.</li>
<li>Josune BIKUNA - 29/Mar/2010: From now on, use the record date instead of the payment date to know which are the coupons that although they have finished, they must be considered as accrued. The function CTRcpnEndNpy has been renamed to CTRcpnEndFutRdt</li>
<li>Basilio TAMAYO - 04/Mar/2011: Add accrued basis ACT/ACT_AUD</li>
<li>Basilio TAMAYO - 07/Sep/2011: Rename ACT/ACT_AUD as ACT/ACT_RND.</li>
<li>Josune BIKUNA - 05/Sep/2014: Add the management of 'TcpIed' parameter. See description. Add 'TcpIed' when calling CTRdatesCoupons function.</li>
<li>Josune BIKUNA - 05/Sep/2014: Rename the function CTRfinCcoGen -&gt; CTRfinCcoGenTce and develop a new one CTRfinCcoGen that will call to this function</li>
<li>Basilio TAMAYO - 26/Jan/2017: in case of RUB currency, round coupon to 3 decimals.</li>
<li>Basilio TAMAYO - 08/Mar/2017: Treat new basis ACT/ACT_ICMA like ACT/ACT</li>
<li>Basilio TAMAYO - 15/Nov/2017: Treat the case of russian issues; always with basis ACT/365. If it is public, use the coupon type; if private the facial rate of the issue.</li>
<li>Basilio TAMAYO - 14/Jun/2018: Use function CTRgetSftMth</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#af96e370eb36c644a90c6baa57c157f92" title="Calculate the accrued coupon and the number of days to next payment date.">CTRfinCcoGen</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad4d3c7d990c28a1593c8be51c9ede5a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRfinSensGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CntCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vxCours</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vxIncSpot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Sns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cvx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Yld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of price, sensitivity, convexivity and yield. </p>
<p>Calculation of price, sensitivity, convexivity and yield</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">CntCtr</td><td>Index of the treated contract in the contract list </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Nat</td><td>Nature </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">vxCours</td><td>price of the contract in a format coherent with the quotation of the contract. </td></tr>
    <tr><td class="paramname">vxIncSpot</td><td></td></tr>
    <tr><td class="paramname">Dpc</td><td>(out). Dirty price </td></tr>
    <tr><td class="paramname">Sns</td><td>(out). Sensitivity </td></tr>
    <tr><td class="paramname">Cvx</td><td>(out). Convexity </td></tr>
    <tr><td class="paramname">Yld</td><td>(out). Yield</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 09/Apr/2002. Carried from ctrBond.c</li>
<li>Jon BARRUTIA - 25/Mar/2003. Yield is not divided by 100</li>
<li>Edurne GORDOA - 30/Sep/2003: Avoid compilation warnings</li>
<li>Josune BIKUNA - 17/Nov/2004. Modify the description of 'vxCours' parameter</li>
<li>Basilio TAMAYO - 12/May/2005: Add parameters Ctr and Nat into TypeCote</li>
<li>Basilio TAMAYO - 26/May/2005: Comment in parameter vxCours</li>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter.</li>
<li>Basilio TAMAYO - 07/Oct/2008: New quotation types.</li>
<li>Basilio TAMAYO - 22/Mar/2010: Nominal in currency units.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a1a4deb0748f99ac4d84dec92adceb401" title="Calculation of dirty price, sensitivity and convexity from yield.">CTRscGen</a> <a class="el" href="mkt_ctr_8c.html#aee3c826c0816b72ca24ccba2fb0fbe32" title="Calculation of yield from dirty price.">CTRrendementGen</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae32ae02539ac380e4430a5d55ac73e79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRfxgCalFlw </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCfx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxFlwToFix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CalRat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CalRatSpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CalCpn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contract variable bond fixing calculation. </p>
<p>Contract variable bond fixing calculation. This treatment has 3 steps:</p>
<ul>
<li>- Get the rate from the curve. It can be skipped and the rate will be taken from the list passed as parameter.</li>
<li>- Calculate the total rate, this is, with all the spreads. It can be skipped and the total rate will be taken from the list passed as parameter.</li>
<li>- Calculate the coupon. It can be skipped and the coupon flow will be taken from the list passed as parameter.</li>
<li>It is possible to do the calculations only for a coupon or for all of them. See InxFlwToFix parameter.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conection </td></tr>
    <tr><td class="paramname">Dat</td><td>Fixing date </td></tr>
    <tr><td class="paramname">LdCfx</td><td>List of variable bond coupons to fix </td></tr>
    <tr><td class="paramname">InxFlwToFix</td><td>Index of the coupon for which tha calculation are done. If it is -1, all the coupons are get. </td></tr>
    <tr><td class="paramname">LdMkt0</td><td>Market data list with the fixing curves (optional). The function will get it if it is NULL. </td></tr>
    <tr><td class="paramname">LdCtr0</td><td>Contract list (optional). The function will get it if it is NULL </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index of the contract in LdCtr0 </td></tr>
    <tr><td class="paramname">CalRat</td><td>Get the rate from the fixing curve (1: Yes;0: No) </td></tr>
    <tr><td class="paramname">CalRatSpd</td><td>Calculate the total rate, this is the rate with all the spreads (1:Yes; 0:No) </td></tr>
    <tr><td class="paramname">CalCpn</td><td>Calculate the coupon flow (1: Yes;0: No)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 18/Oct/2001</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="mkt__def_8h.html#a598504bfad715d47e44b59e55d6272f8" title="Contract variable bond fixing calculation.">CTRfxgCalFlw</a> (Ctx, <span class="stringliteral">&quot;13-MAR-2001&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, LdCfx, 0, 1, 1, 1)</div>
</div><!-- fragment --><dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 07/Nov/2001: Remove currency parameter. The currency is in the schedule definition.</li>
<li>Josune BIKUNA - 09/Nov/2001: Use CTRcpnCalFlw to calculate coupon flow</li>
<li>Josune BIKUNA - 17/Dec/2001: deb-&gt;bdt, fin-&gt;edt at the begining, and the contrary at the end.</li>
<li>Gotzon ETXEBERRIA - 28/Jan/2002: Add LdCtr0 parameter to avoid accessing to DB</li>
<li>Jon BARRUTIA - 26/Mar/2003: Not ERRchk after ERRend</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add parameter to MKTfxgChk</li>
<li>Iker ZURIARRAIN - 20/Oct/2005. Remove IsCur parameter from MKTfxgChk.</li>
<li>Basilio TAMAYO - 28/Mar/2006: Added parameter Inx to CTRcpnCalFlw.</li>
<li>Ismael SERRANO - 22/08/2006: Added InxCtr parameter.</li>
<li>Basilio TAMAYO - 13/Jul/2007: Add parameter LdMkt0. The rate may be in a column called "rat" or "tau" </li>
</ul>

</div>
</div>
<a class="anchor" id="a5c8e23682d74401a09cdf50c6e213e84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ctrGenerateSchld </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dtCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bond schedule managed in memory to be merged with the DB version. </p>
<p>Bond schedule managed in memory to be merged with the DB version.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtCal</td><td></td></tr>
    <tr><td class="paramname">ldCtr</td><td>(out) List of contracts.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - DD/Mmm/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Mikel ARETXAGA - 17/Feb/1999 : ACT/ACT_PFq, ACT_CNO_PFq added.</li>
<li>Ramon MARTINEZ - 06/Apr/2000 : Isma long period.</li>
<li>Monika MARTIN - 28/Jul/2000 : Use of DYNgbGetData.</li>
<li>Itziar BIKENDI - 08/Feb/2001 : Add the column 'dhi' to ldEch.</li>
<li>Josune BIKUNA - 15/Oct/2001 : Change the ech_bnd column fxg -&gt; fct.</li>
<li>Josune BIKUNA - 09/Nov/2001. The bond schedule table is now ech_bnd.</li>
<li>Alex RODRIGUEZ - 19/Mar/2002. Check case that no coupons (DateFinCorr &lt; DateDebCorr).</li>
<li>Jon BARRUTIA - 22/May/2003: arrondMethod instead of Fround</li>
<li>Edurne GORDOA - 30/Sep/2003: Avoid compilation warnings</li>
<li>Basilio TAMAYO - 13/Jan/2004: Put dhi field</li>
<li>Jon BARRUTIA - 14/JUL/2006: Substitute g_gc_ctx by a call to GBgetCtx().</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of arrondMethod.</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of Ftruncate.</li>
<li>Josune BIKUNA - 17/Dec/2009: Add the payment date in the generated schedule</li>
<li>Basilio TAMAYO - 05/Feb/2010: Set payment date in all lines of schedule: same than end date.</li>
<li>Basilio TAMAYO - 17/Nov/2010: Add record date in schedule as previous open date to payment date</li>
<li>Basilio TAMAYO - 07/Sep/2011: Rename ACT/ACT_AUD as ACT/ACT_RND.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Basilio TAMAYO - 03/Nov/2014: Blank spaces before and after operational signs (+, -, *, /)</li>
<li>Basilio TAMAYO - 08/Mar/2017: Add basis ACT/ACT_ICMA, coupon is rate divided by periodicity</li>
<li>Basilio TAMAYO - 14/Jun/2018: Use function CTRgetSftMth </li>
</ul>

</div>
</div>
<a class="anchor" id="a6ef805c45a43f89aeeaeccaa4408bc7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRget </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numLigne</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>datVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>cb_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>valid_cb_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction provisoire de Calcul de cb_ret. </p>
<p>Fonction provisoire de Calcul de cb_ret</p>
<ul>
<li>Si deb &gt;= '01-JAN-1997' &ndash;&gt; cb_ret = 0.0</li>
<li><p class="startli">dad == 1 : CTRdatesCoupons already calculated -&gt; datVal = dtDebCco;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">col</td><td>Column name </td></tr>
    <tr><td class="paramname">numLigne</td><td>Number line </td></tr>
    <tr><td class="paramname">datVal</td><td>Value date </td></tr>
    <tr><td class="paramname">cb_ret</td><td>(out) cb_ret </td></tr>
    <tr><td class="paramname">valid_cb_ret</td><td>(out) Validity flag</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Keyvan Shamsa : 06-01-97</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 09/Apr/2002. Carried from ctrBond.c</li>
<li>David ROMERO - 20/Apr/2015: Avoid Sonar warning (redundant asignment to itself) for unused parameter </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="abe6a8889ae46ce8abad321ebea488652"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRgetNom </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Nom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the nominal in the period of the fcc and equity. </p>
<p>Get the nominal for a date for fcc and equity products.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>index of the contract in the contract list </td></tr>
    <tr><td class="paramname">RefDat</td><td>date of reference </td></tr>
    <tr><td class="paramname">Nom</td><td>(OUT) nominal</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Keyvan Shamsa - dd/Mmm/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 06/Nov/2000. Add equity</li>
<li>Edurne GORDOA - 09/Apr/2002. Carried from ctrBond.c</li>
<li>Ruben GIL - 27/Oct/2014: For equity products. Obtain correctly the nominal from the schedule list. </li>
</ul>

</div>
</div>
<a class="anchor" id="a5c58d59260f9e490e9e5ada1519a66b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRgetSftMth </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Sft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Mth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the shifting method for calculations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sft</td><td>Shifting method </td></tr>
    <tr><td class="paramname">Mth</td><td>(out) Shifting method code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 31/Oct/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 14/Jun/2018: Add shifting method "preceding" </li>
</ul>

</div>
</div>
<a class="anchor" id="af7def081ec5e51f8897489c51c85eaec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRinit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nomContrat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the characteristics of a contract. </p>
<p>Init a dynamic list with the characteristics of the argument contract.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(OUT) contract information list. Delete it with CTRdetruit. </td></tr>
    <tr><td class="paramname">nomContrat</td><td>name of the contract</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - dd/Mmm/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 13/Jul/1999: Call to CTRinitFxg</li>
<li>Josune BIKUNA - 09/Nov/2001. The bond schedule table is now ech_bnd</li>
<li>Josune BIKUNA - 11/Dec/2001. Get the special events schedule in the contract list (col LdAmo)</li>
<li>Josune BIKUNA - 22/Jan/2002. Add bond spread schedule treatment</li>
<li>Basilio TAMAYO - 11/Jun/2007: Set a warning when the contract does not exist.</li>
<li>Josune BIKUNA - 18/Jul/2007: Add the management of contracts default schedule. hang it into 'LdDfl' column</li>
<li>Jesus Maria GARCIA - 11/Oct/2007: Replace cdo by cdon</li>
<li>Jesus Maria GARCIA - 13/Nov/2007: Add cdos</li>
<li>Jose M. NUNEZ - 29/Apr/2009: Set correctly a warning when a bond contract is loaded and this doesn't exists in system. </li>
</ul>

</div>
</div>
<a class="anchor" id="a2128ecacbf6fc37381505cfef5751a1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRinitAll </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nbCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlWhere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlOrderBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlGroupBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialisation des contrats. </p>
<p>Initialisation des contrats</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>context </td></tr>
    <tr><td class="paramname">ldCtr</td><td>(OUT) Contract information. Delete it with CTRdetruit. </td></tr>
    <tr><td class="paramname">nbCtr</td><td>(OUT) number of contracts </td></tr>
    <tr><td class="paramname">sqlWhere</td><td>where clause </td></tr>
    <tr><td class="paramname">sqlOrderBy</td><td>order by clause </td></tr>
    <tr><td class="paramname">sqlGroupBy</td><td>group by clause </td></tr>
    <tr><td class="paramname">...</td><td>variable parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Name SURNAME - dd/Mmm/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 13/Jul/1999: Call to CTRinitFxg</li>
<li>Josune BIKUNA - 09/Nov/2001. The bond schedule table is now ech_bnd</li>
<li>Josune BIKUNA - 11/Dec/2001. Use the standard error treatment</li>
<li>Josune BIKUNA - 11/Dec/2001. Get the special events schedule in the contract list (col LdAmo)</li>
<li>Josune BIKUNA - 22/Jan/2002. Add bond spread schedule treatment</li>
<li>Alex RODRIGUEZ - 13/Jun/2002. Use counter (i) of buccle for to get data.</li>
<li>Basilio TAMAYO - 06/Jul/2006: Correct management of column LdAmo and LdSpd</li>
<li>Josune BIKUNA - 18/Jul/2007: Add the management of contracts default schedule. hang it into 'LdDfl' column</li>
<li>Jesus Maria GARCIA - 11/Oct/2007: Replace cdo by cdon</li>
<li>Jesus Maria GARCIA - 13/Nov/2007: Add cdos</li>
<li>Josune BIKUNA - 10/Nov/2014: Correct Sonar warning: Uninitialized variable </li>
</ul>

</div>
</div>
<a class="anchor" id="a96c953b1600fdb230c7f19d27f477947"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRinitAll1 </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CtrSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contract object initialisation. </p>
<p>Contract object initialisation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">CtrSet</td><td>Contract IN set, e.g. NULL, "('...', '...')" </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(out) Contract object. Delete it with CTRdetruit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 21/Jul/1999 Substitutes a similar existing function</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Aug/1999. Substitute DYNlookUpInfo with DYNlookUp</li>
<li>Josune BIKUNA - 15/Oct/2001. Change the ech_bnd column fxg -&gt; fct</li>
<li>Josune BIKUNA - 09/Nov/2001. The bond schedule table is now ech_bnd</li>
<li>Josune BIKUNA - 11/Dec/2001. Get the special events schedule in the contract list (col LdAmo)</li>
<li>Josune BIKUNA - 22/Jan/2002. Add bond spread schedule treatment</li>
<li>Basilio TAMAYO - 06/Jul/2006: Keep the contract in the list of amortisations and events</li>
<li>Josune BIKUNA - 18/Jul/2007: Add the management of contracts default schedule. hang it into 'LdDfl' column</li>
<li>Josune BIKUNA - 20/Jul/2007: Correct the contract column name for defaults schedule</li>
<li>Gema ACHA - 09/May/2008: Correct contract column name.</li>
<li>Gema ACHA - 28/May/2008: Correct list column name</li>
<li>Mikel URQUIA - 24/Feb/2016: Increase buffer size from 4096 to 8192</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a1f6b3c5e546633233db5a896b02cce25" title="Contract object initialisation.">CTRinitIn</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1f6b3c5e546633233db5a896b02cce25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRinitIn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contract object initialisation. </p>
<p>Contract object initialisation, from a sorted list of contract codes Note that only contracts contained in LdCod a loaded This function asumes that LdCod is sorted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCod</td><td>Contract code list </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(out) Contract object. Delete it with CTRdetruit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 16/Jan/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 22/Jan/2002. Add bond spread schedule treatment</li>
<li>Basilio TAMAYO - 06/Jul/2006: Keep the contract in the list of amortisations and events</li>
<li>Josune BIKUNA - 18/Jul/2007: Add the management of contracts default schedule. hang it into 'LdDfl' column</li>
<li>Josune BIKUNA - 20/Jul/2007: Correct the contract column name for defaults schedule</li>
<li>Gema ACHA - 09/May/2008: Correct contract column name.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a96c953b1600fdb230c7f19d27f477947" title="Contract object initialisation.">CTRinitAll1</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab6c39b443fb37f7b3f3b32eb815d9f73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRisDatFut </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Fut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Says if a date is in the future respecting a given end date. </p>
<p>Says if a date is in the future respecting a given end date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Edt</td><td>End date </td></tr>
    <tr><td class="paramname">Dat</td><td>Date that is wanted to check if it is future respecting to Edt </td></tr>
    <tr><td class="paramname">Fut</td><td>(out) Flag that says if the given date is in the future (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 17/Dec/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 17/Dec/2009: calculate the open days instead of the calendar days</li>
<li>Josune BIKUNA - 29/Mar/2010: Rename the function </li>
</ul>

</div>
</div>
<a class="anchor" id="aee3c826c0816b72ca24ccba2fb0fbe32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRrendementGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Yld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of yield from dirty price. </p>
<p>Calculation of yield from dirty price</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Line number of the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">Dpc</td><td>Dirty price </td></tr>
    <tr><td class="paramname">Yld</td><td>(OUT) yield in %/100 (example 0.05345 that means 5.345%)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 20/Nov/2001. Modify JPY</li>
<li>Ramon MARTINEZ - 03/Jan/2002. Function header</li>
<li>Edurne GORDOA - 13/Jan/2003: Set a limit for the calculated yield</li>
<li>Ruben SIERRA - 30/Oct/2003: When the calculated yield is not correct, indicate name and calculation date</li>
<li>Iker ZURIARRAIN - 19/Dec/2005. Fix buffer overflow when giving warning.</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of Ftruncate.</li>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter in this function and CTRscGen function.</li>
<li>Basilio TAMAYO - 13/Jan/2009: Even if yield exceeds the limit, do not change the yield.</li>
<li>Jon BARRUTIA - 07/May/2009: Use AFU_MAX_RDT instead of MAX_RDT (renamed; same value)</li>
<li>Josune BIKUNA - 29/Jul/2009: In case of 'ACT/365_SMP' base, the negative yields are allowed</li>
<li>Basilio TAMAYO - 16/Feb/2011: Set an info if calculated yield is negative</li>
<li>Basilio TAMAYO - 18/Feb/2011: Instead of info, set a message in traces.</li>
<li>Jon BARRUTIA - 29/Apr/2011: If calculated yield is &lt;= -1; set it to zero</li>
<li>Gotzon ETXEBERRIA - 24/Dec/2012: Improve treatment to calculate better negative yields and set info if yield near -100%</li>
<li>Edurne GORDOA - 02/Sep/2015: When dirty price is 0 return an infinite yield. Compare sensitivity to 0 with DBL_M_EQUAL</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a1a4deb0748f99ac4d84dec92adceb401" title="Calculation of dirty price, sensitivity and convexity from yield.">CTRscGen</a> <a class="el" href="mkt_ctr_8c.html#ad4d3c7d990c28a1593c8be51c9ede5a4" title="Calculation of price, sensitivity, convexivity and yield.">CTRfinSensGen</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1a4deb0748f99ac4d84dec92adceb401"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CTRscGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ModDiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Yld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Sns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cvx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of dirty price, sensitivity and convexity from yield. </p>
<p>Calculation of dirty price, sensitivity and convexity from yield</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Line number of the list </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date. For the deals: the value date. For the market data: the settlement date </td></tr>
    <tr><td class="paramname">ModDiv</td><td></td></tr>
    <tr><td class="paramname">Yld</td><td>Yield in %/100 (example 0.05345 that means 5.345%) </td></tr>
    <tr><td class="paramname">Dpc</td><td>(OUT) dirty price </td></tr>
    <tr><td class="paramname">Sns</td><td>(OUT) sensitivity </td></tr>
    <tr><td class="paramname">Cvx</td><td>(OUT) convexity</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 10/Apr/2000. Eliminate DYNread</li>
<li>Ramon MARTINEZ - 20/Nov/2001. Modify JPY</li>
<li>Ramon MARTINEZ - 03/Jan/2002. Function header</li>
<li>Edurne GORDOA - 09/Apr/2002. Carried from ctrBond.c</li>
<li>Basilio TAMAYO - 25/Jun/2002. Treat zero periodicites</li>
<li>Basilio TAMAYO - 14/Jan/2003: Treat zero frequencies</li>
<li>Jon BARRUTIA - 22/May/2003: arrondMethod instead of Fround</li>
<li>Edurne GORDOA - 30/Sep/2003: Avoid compilation warnings</li>
<li>Alex RODRIGUEZ - 06/Nov/2003. Not use CTRgetPer.</li>
<li>Gotzon ETXEBERRIA - 26/May/2004: call to CrendementGen and CscGen with ERRchk</li>
<li>Josune BIKUNA - 22/Dec/2004. Modify the explatnation of the yield parameter because it must be in %/100 format instead of %</li>
<li>Gotzon ETXEBERRIA - 23/Feb/2006: Add new bases: ACT/ACT_K, ACT/365_366, NL/365</li>
<li>Ramon MARTINEZ - 13/Jun/2006: Reorganise the code</li>
<li>Jesus Maria GARCIA - 30/Jun/2006: Add new base: Letras18/365</li>
<li>Ramon MARTINEZ - 14/Jul/2006: Letras18*: change limit 376D to 1Y</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of arrondMethod.</li>
<li>Ismael SERRANO - 11/Oct/2006: Use MTHfinRnd instead of Ftruncate.</li>
<li>Lorea NAVARRO - 18/Oct/2006: Add AFUccyGetPrcDev function and Ctx parameter.</li>
<li>Ramon MARTINEZ - 15/Jun/2007: Improve description of CalDat</li>
<li>Basilio TAMAYO - 13/Jul/2007: Read application optin mktYldCal to see how to calculate floating coupons.</li>
<li>Josune BIKUNA - 17/Jun/2009: Add ACT/365_SMP base management. It is the same as ACT_365 with the difference that it only takes the final redemption premium to calculate the price and not the coupons (any of them)</li>
<li>Josune BIKUNA - 29/Jul/2009: When treating the floating bond type, skip the treatment in case the base is 'ACT/365_SMP'</li>
<li>Josune BIKUNA - 25/Nov/2009: For floating cases, for 'ACT/ACT' base, take into account that in case the calculation date is before the first period, the returned period begin and end dates are equal, so the number of year must be directly 0, otherwise a NaN will be calculated</li>
<li>Jesus Maria GARCIA - 08/Jun/2010: Use the type CLINT to call clCalDateDayGap otherwise there is a crash HP_UXia64</li>
<li>Basilio TAMAYO - 04/Mar/2011: Add accrued basis ACT/ACT_AUD</li>
<li>Jon BARRUTIA - 27/May/2011: Treat correctly the base 'ACT/365_SMP' when CalDat is greater than the maturity bond: do not add the coupon</li>
<li>Ramon MARTINEZ - 07/Jun/2011: Treat long isma in ACT/ACT</li>
<li>Ramon MARTINEZ - 13/Jun/2011: ACT/ACT: treat case when last period is longer/shorter</li>
<li>Ramon MARTINEZ - 29/Jul/2011: ACT/ACT: treat case period is not 12M. Idem in ACT/182, ACT/365_CAD, GBP_method. Sns and Cvx are not more multiplied by FactRdtSns</li>
<li>Ramon MARTINEZ - 04/Aug/2011: Undo all the changes of the 29/Jul/2011</li>
<li>Ramon MARTINEZ - 04/Aug/2011: ACT/ACT + long isma + last period irregular: multiply by periodidite the irregular days</li>
<li>Ramon MARTINEZ - 05/Sep/2011: Add BTP_method</li>
<li>Basilio TAMAYO - 07/Sep/2011: Rename ACT/ACT_AUD as ACT/ACT_RND.</li>
<li>Basilio TAMAYO - 28/Sep/2011: BTP_method, in the last coupon get the end date of an imaginary extra coupon to calculate the days between end and payment date.</li>
<li>Ramon MARTINEZ - 28/Nov/2011: ACT/ACT doesn't work if the frequency is not 1Y and the bond maturity is an end of month</li>
<li>Alex RODRIGUEZ - 02/Dec/2011: Treat "30/360_ISMA" new yield base.</li>
<li>Ramon MARTINEZ - 19/Dec/2011: ACT/ACT doesn't work if the last period is not exact</li>
<li>Jon BARRUTIA &amp; Ramon MARTINEZ - 26/Feb/2014: ACT/ACT: correct case when calculation date is previous to the begin date of the first period. We simulate that CalDat belongs to the first coupon. To avoid problems when testing that the last period is a exact period.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#aee3c826c0816b72ca24ccba2fb0fbe32" title="Calculation of yield from dirty price.">CTRrendementGen</a> <a class="el" href="mkt_ctr_8c.html#ad4d3c7d990c28a1593c8be51c9ede5a4" title="Calculation of price, sensitivity, convexivity and yield.">CTRfinSensGen</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac217ca39cb7c3d305afc4779d12e441e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTctrEstSch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>EstMth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Estimate the floating flows of bond schedules that are not already fixed. </p>
<p>Estimate the floating flows of bond schedules that are not already fixed.</p>
<ul>
<li><p class="startli">Even if it is configured not to estimate, do it because it may happen that it was already estimated and now have to set as not estimated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">EstMth</td><td>Estimation method: </td></tr>
    <tr><td class="paramname">+</td><td>mkt_est_var_noest Not estimate, pending flows will have a rate and coupon of 0.0 </td></tr>
    <tr><td class="paramname">+</td><td>mkt_est_var_fst Estimate with the rate of the first flow fixed. </td></tr>
    <tr><td class="paramname">+</td><td>mkt_est_var_lst Estimate with the rate of the last flow fixed. </td></tr>
    <tr><td class="paramname">+</td><td>mkt_est_var_rat Use the fixing rate curves to estimate variable coupons. </td></tr>
    <tr><td class="paramname">+</td><td>mkt_est_var_crv Use the forward rate of yield curve to estimate variable coupons. </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contracts list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data list with the yield curves </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 13/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 18/Jul/2007: Treat method of forward rate of yield curve. Add parameter LdMkt.</li>
<li>Basilio TAMAYO - 22/Mar/2010: In case of first or last fixed rate, do not calculate spread.</li>
<li>Basilio TAMAYO - 25/Mar/2010: Copy interest rate into field ras after the coupon rate is calculated.</li>
<li>Basilio TAMAYO - 15/Sep/2010: Not pay attention to coupon type defined in contract. One contract may be defined as fixed but have some floating coupons.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aa0d5a148395c3b14ccb2a153f80240d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTctrGetCtrAs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtrAs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the asset swap contracts. </p>
<p>Get the asset swap contracts. The asset swap contracts are a bit special as they are synthetic, this is, they are formed with the bond contract information but with the swap schedule:</p>
<ul>
<li>- If the asset swap matches the fix leg, the schedule is the variable leg of the swap</li>
<li>- If the asset swap matches the varable leg, the schedule is the fix leg of the swap</li>
<li>Once we have the swap schedule, there must be done some calculations and modifications to look like a bond schedule:</li>
<li>- Change the name of some columns: bdt-&gt;deb, edt-&gt;fin, cpn-&gt;tau</li>
<li>- Set the bond rembolsant in the last period</li>
<li>- Calculate the coupon flow of each period (tau is the coupon in a year)</li>
</ul>
<ul>
<li>Each asset swap contract must correspond to an asset swap deal, this is, each asset swap deal has its own contract that will be different from the other asset swaps deals, this is why the name of the asset swap contracts will be different. The name of the asset swap contracts will be formed by the characteres '}{' followed by the num of the deal</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdCtrAs</td><td>(OUT) Asset swap contracts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 16/Jul/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 29/Jul/2002. Destroy correctly contract lists</li>
<li>Josune BIKUNA - 30/Jul/2002. Keep and destroy correctly the original bond schedules</li>
<li>Josune BIKUNA - 27/Dec/2002. Get also assetswap contracts for deals in LdBndcBdeAs</li>
<li>Josune BIKUNA - 02/Jun/2003. Correct the management of generating the asset swap contracts list</li>
<li>Josune BIKUNA - 12/Jun/2003. The value of the accrued basis of the synthetic bond contract must be the basis of the not matched leg of the swap.</li>
<li>Josune BIKUNA - 12/Jun/2003. When calculating the coupon amount in the period for the new asset swap schedule, take into account the acumulative and multiplicative spreads and if the new schedule is 'flo' type, update the rate (tau) with the rate + spreads.</li>
<li>Josune BIKUNA - 10/Jul/2003. When calculating the coupon amount in the period for the new asset swap schedule, take the period as not exact (the first period is not exact, because begins in the value date)</li>
<li>Basilio TAMAYO - 13/Jan/2004: Avoid compilation warnings.</li>
<li>Basilio TAMAYO - 28/Mar/2006: Added parameter Inx to CTRcpnCalFlw&ndash;&gt; no need to extract one single line from the contract list.</li>
<li>Josune BIKUNA - 08/Apr/2010: Add the 'record date' (rdt) in the generated syntetic schedule</li>
<li>Josune BIKUNA - 08/Apr/2010: Use the correct function to get the country from the currency</li>
<li>Ruben GIL - 05/Apr/2013: Use size_t in DYNaddColumns </li>
</ul>

</div>
</div>
<a class="anchor" id="ae26412265d894186bea4a4fa6cd29720"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTctrGetEstMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get, check and calculate market data to estimate future variable coupons. </p>
<p>Get, check and calculate market data to estimate future variable coupons.</p>
<ul>
<li><p class="startli">When the method to estimate coupons is the forward rate of the yield curve, get the yield curves associated to each contract code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date. </td></tr>
    <tr><td class="paramname">LdCod</td><td>List of contract codes </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(out) Market data list. Yield curves.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 01/Nov/2007: Add treatment parameter when calling MKTyldGetHis </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a4124382a6fbdac49a4b3335635ea8fd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTctrInitFxg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Init the fixing information in LdCtr. </p>
<p>Init the fixing information in LdCtr. That is:</p>
<ul>
<li>A new column called fxg with the name of the fixing curve, for every contract</li>
<li>A new column called mtc with the method of calculation of the fixing curve.</li>
<li>A new column called mkt with the curve list. It's put only in the first row</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(in/out) Contracts list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ramon MARTINEZ - 01/Jul/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 04/May/2000. Bug in DYNmajColonne</li>
<li>Edurne GORDOA - 01/Apr/2002. Make static</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add parameter to MKTfxgChk.</li>
<li>Iker ZURIARRAIN - 18/Oct/2005. Remove IsCur from call to MKTfxgChk.</li>
<li>Basilio TAMAYO - 13/Jul/2007: header, say that the new column is called "mkt"</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a57fc0babdeb6202b091ab95715679dc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTctrUpdVarCpn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFlw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the rate (tau) and coupon (cpn) of variable bond flows. </p>
<p>Update the rate (tau) and coupon (cpn) of variable bond flows</p>
<ul>
<li><p class="startli">List of flows have two columns (ctr, deb) to identify the flow and two columns (tau, cpn) that will be modified. If tau and cpn have not a valid value, set as 0.0, because table ech_bnd does not admit NULL values in cpn and tau fields.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">LdFlw</td><td>List of flows to modify. (ctr, deb, tau, cpn)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Jun/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 18/Jul/2007: Check that the list of estimated flows is not NULL. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a0fb4ff9fedb96dafd195bd02c5caa1cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrAplDfl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>AplCff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>AlvCff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a contracts defaults percentage to an amount. </p>
<p>Apply a contracts defaults percentage to an amount. The function will search for the defaults percentage that corresponds to the required date and depending on the init and end tranche defined in the contract for the defaults, it will reduce the given amount in the percentage according to the defaults percentage.</p>
<ul>
<li>- if the defaults percentage is lower than the init tranche, the amount will not be affected</li>
<li>- if the defaults percentage is greater than the end tranche, the amount will be penalized completely and it will return 0.0 as amount</li>
<li>- if the defaults percentage is between init and end tranche, the percentage to penalize will be calculate as: (defaults pcg. - init tranche) / (end tranche - init tranche) * 100 This will be the percentage in which the given amount will be reduced</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index contract in the list of contracts </td></tr>
    <tr><td class="paramname">AplCff</td><td>Flag that indicates if the calculate alive coefficient (from the deafult value) must be applied in the given amount or it must be only returned as an output value </td></tr>
    <tr><td class="paramname">Dat</td><td>Date for which the default value is required </td></tr>
    <tr><td class="paramname">Mnt</td><td>(in/out) Amount in which the defaults percentage must be applied if it is necessary </td></tr>
    <tr><td class="paramname">AlvCff</td><td>(out) Alive coefficient that remains on the given amount once the percentage in which the given amount is reduced is calculated. This value is a percentage that is already divided into 100, so its goes between (0 - 1) Notice that the given amount will be reduce only in case 'AplCff' parameter is 1, but this value will be always returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 19/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 23/Jul/2007: Add the possibility to get as an output value the percentage in which the given amount is reduce and that has been calculated from the correspondant default value. Besides that, give also de possibility to not applied this percentage </li>
</ul>

</div>
</div>
<a class="anchor" id="a67b5ff69876e142de549f94dc98acbc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrCpyDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SrcCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DstCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Management of contract market data. </p>
<p>Management of contract market data. Manages source contract market data setting in to destination contract for each profile and book.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">SrcCtr</td><td>Source contract code </td></tr>
    <tr><td class="paramname">DstCtr</td><td>Destination contract code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mikel ARETXAGA - 04/Oct/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 04/Nov/2002. New parameter to MKTsavDta</li>
<li>Edurne GORDOA - 30/Sep/2003: Avoid compilation warnings</li>
<li>Jon BARRUTIA - 08/Jun/2004. Use MKTgetDffAls instead of MBOOKgetMktAls</li>
<li>Jon BARRUTIA - 14/May/2008: Take diffusion books depending on diffusion books type, call to MKTgetDffTypAls</li>
<li>Jon BARRUTIA - 29/Sep/2008: Correct adding a column (remove sizeof)</li>
<li>Basilio TAMAYO - 09/Feb/2009: Separate terminal books and intermediary books.</li>
<li>Basilio TAMAYO - 27/Apr/2009: Changed parameters in function MKTgetAlsDat</li>
<li>Basilio TAMAYO - 02/Dec/2009: Gen only bond prices, not spread. Use generic functions. </li>
</ul>

</div>
</div>
<a class="anchor" id="a7288de70ef7c10d76d1e1db283f27347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrCpyMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>OldCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>NewCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EvnDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Fct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the historic price of one contract in the other contract taking into account a conversion factor. </p>
<p>Copy the historic price of one contract in the other contract taking into account a conversion factor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">OldCtr</td><td>previous contract </td></tr>
    <tr><td class="paramname">NewCtr</td><td>new contract </td></tr>
    <tr><td class="paramname">EvnDat</td><td>Event date </td></tr>
    <tr><td class="paramname">Fct</td><td>factor to multiple to the price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitziber BARRERO - 12/Feb/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL - 08/Sep/2011: Add event date parameter, to modify market values until event date instead of application date.</li>
<li>Ruben GIL - 13/Sep/2011: Correct comment </li>
</ul>

</div>
</div>
<a class="anchor" id="a6c820115051d2d81a414040b0577d908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrDelMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mpr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all market data for an instrument. </p>
<p>Removes all market data for an instrument. No controls are done. The manipulated tables are "mkt_mcd", "mkt_dta", "mkt_ver".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context. </td></tr>
    <tr><td class="paramname">Mpr</td><td>Contract product identifier. </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of diffusion books. Alias in "als" column. Otherwise NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 15/Dec/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 15/Jan/2008: Delete the tables in the correct order. It must be the same order in which the tables are locked</li>
<li>Ruben GIL - 22/Aug/2012: Add call to MKTmcdHis function to historice market data codification </li>
</ul>

</div>
</div>
<a class="anchor" id="a4b1a3609938e9f461bd2b2ec8c64abc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrEcbPlcHisGetCtrPaw </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>IniDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ofo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac0b7b774f1f73c26c52415b1d38b4c7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrEstVar </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate variable cash flows of variable bond and CDO schedules not fixed yet. </p>
<p>Estimate variable cash flows of variable bond and CDO schedules not fixed yet.</p>
<ul>
<li>Get the list of all variable bond and CDO contracts</li>
<li>Read the method to estimate future floating coupons</li>
<li><p class="startli">Estimate floating coupons of all variable contracts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract (FIT code) NULL or "" for all.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 13/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 18/Jul/2007: Get yield curves</li>
<li>Basilio TAMAYO - 27/Jul/2007: Add also cash flows of CDOs.</li>
<li>Jesus Maria GARCIA - 11/Oct/2007: Replace cdo by cdon</li>
<li>Basilio TAMAYO - 15/Sep/2010: Add parameter Ctr. To know if a contract must be estimated, check the flag (fixed/floating) in the coupons, not in the contract definition. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a1aafd862c615b42c479d85c669ec4bde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrFind </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a contract in LdCtr. </p>
<p>Find a contract in LdCtr</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Line</td><td>(out) Line</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999 </dd></dl>

</div>
</div>
<a class="anchor" id="a2f927dd8d8400001c744baf9e50b4230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrFndCpnSch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the list of coupon schedules of a given contract. </p>
<p>Find the list of coupon schedules of a given contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">LdSch</td><td>(out) Coupon schedule list pointer (do not destroy!!)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 16/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="adb049c75df27934021da45b245007712"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetCtr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load required contracts, with bond schedule information for bonds. </p>
<p>Load required contracts, with bond schedule information for bonds. So far only the required bond, future and equity contracts are loaded.</p>
<ul>
<li>Get also the contracts for asset swap deals in the same contract list. These contracts will be synthetic bond contracts formed from the information of the bond and swap contracts of the asset swap deals, this is, they will be similar to the bond contract but with the swap schedule which it is not matched.</li>
<li>The contract names for asset swap synthetic contracts will be a bit special. Each synthetic bond contract of asset swaps must have a different contract name although the bond contract is the same (the synthetic bond cash depends on the swap deal). The original bond contract name will be stored in ctrBnd column, and the 'ctr' column will be formed with '}{' characters followed by the num deal.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 29/Jun/1999: Add LdBndo</li>
<li>Edurne GORDOA - 12/Jun/2000. Add LdEquc</li>
<li>Gotzon ETXEBERRIA - 16/Jan/2002: use CTRinitIn instead of CTRinitAll1</li>
<li>Josune BIKUNA - 24/Jul/2002. In the contract list, add the contracts for asset swap deals. Each asset swap deal will have a different contract although the bond contract is the same, as it depends on the swap contract.</li>
<li>Josune BIKUNA - 29/Jul/2002. Destroy correctly contract lists</li>
<li>Josune BIKUNA - 27/Dec/2002. Get also contracts for the deals in LdBndcBdeNotAs, LdBndcBdeAs</li>
<li>Edurne GORDOA - 30/Sep/2003: Get also contracts for CDO cash</li>
<li>Aitziber BARRERO - 19/Apr/2004: Add LdEfuc and LdEfuo</li>
<li>Aitziber BARRERO - 21/Apr/2004: Remove LdEfuo</li>
<li>Aitziber BARRERO - 21/Apr/2004: Add LdEquo</li>
<li>Aitziber BARRERO - 02/Jun/2004: Take LdEfuc's "cte"</li>
<li>Manuel SANMARTIN - 20/Nov/2007: Add LdCdosc</li>
<li>Josune BIKUNA - 06/Dec/2007: Add LdFndc</li>
<li>Lorea NAVARRO - 15/Jul/2014: Add LdBndVer </li>
</ul>

</div>
</div>
<a class="anchor" id="a9056158ce0f80eb1e5c77fdb237fbfae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetDfl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dfl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the rate (tau) and coupon (cpn) of variable bond flows. </p>
<p>From the contract default values schedule, get the default value that correspond to a required date.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index contract in the list of contracts </td></tr>
    <tr><td class="paramname">Dat</td><td>Date for which the default value is required </td></tr>
    <tr><td class="paramname">Dfl</td><td>(out) Default value corresponding to the required date. It is a percentage value, this is, between (0 - 100)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 19/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 25/Jul/2007: Convert the function to public</li>
<li>Josune BIKUNA - 25/Jul/2007: From now on, the function receives the complete contract list instead of only the defaults schedule</li>
<li>Josune BIKUNA - 28/Sep/2007: Improve the description of 'Dfl' parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a09a66695c76f2f6525061760694e1110"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetDflAlvCff </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dfl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Idf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Edf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>AlvCff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the alive coefficient that corresponds to a given default amount. </p>
<p>Get the alive coefficient that corresponds to a given default amount</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dfl</td><td>Default amount. It is a percentage, this is, a value between (0 - 100) </td></tr>
    <tr><td class="paramname">Idf</td><td>Init tranche for the defaults </td></tr>
    <tr><td class="paramname">Edf</td><td>End tranche for the defaults </td></tr>
    <tr><td class="paramname">AlvCff</td><td>(out) Alive coefficient that corresponds to the given default amount. This value is a percentage that is already divided into 100, so its goes between (0 - 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 19/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 28/Sep/2007: Improve the description of 'Dfl' parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a5d5de0953ee76fb445dd4181190042a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetEdc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InxCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Edc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Numbers of defaults correspond to a required date, entity default counter. </p>
<p>Numbers of defaults correspond to a required date, entity default counter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">InxCtr</td><td>Index contract in the list of contracts </td></tr>
    <tr><td class="paramname">Dat</td><td>Date for which the default value is required </td></tr>
    <tr><td class="paramname">Edc</td><td>(out) Entity default counter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 29/Jul/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="ad8dd3374794f20fdae108f4d52f40b33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetNbSch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of coupon from bond schedule. </p>
<p>Get the number of coupon from bond schedule.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">NbSch</td><td>(out) Number of references</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 02/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="ab8b9d27162f7591aa308321a9d480862"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchAsp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Asp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the accumulative spread of a coupon schedule list. </p>
<p>Get the accumulative spread of a coupon schedule list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the component </td></tr>
    <tr><td class="paramname">Asp</td><td>(out) Accumulative spread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 28/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="ab855fa27d4aebbe8d227c78039b866fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchBdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Bdt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the begin date of bond coupon. </p>
<p>Get the begin date of bond coupon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the coupon flow </td></tr>
    <tr><td class="paramname">Bdt</td><td>(out) Begin date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 02/Mar/2006</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#a60d01a3cfd2844974b441bdb1028ae2b" title="Get the end date of bond coupon.">MKTctrGetSchEdt</a>, <a class="el" href="mkt_ctr_8c.html#a4ec546729ea9e18e89b84a805e678eb6" title="Get the payment date of bond coupon.">MKTctrGetSchPdt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa18eb3b4d92f0cfef37359f2f29b4378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchCpn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cpn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the coupon value from the schedule list. </p>
<p>Get the coupon value from the schedule list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the component </td></tr>
    <tr><td class="paramname">Cpn</td><td>(out) Coupon value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 02/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="a60d01a3cfd2844974b441bdb1028ae2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchEdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Edt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the end date of bond coupon. </p>
<p>Get the end date of bond coupon. in the list of components</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the coupon flow </td></tr>
    <tr><td class="paramname">Edt</td><td>(out) End date.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 02/Mar/2006</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#ab855fa27d4aebbe8d227c78039b866fb" title="Get the begin date of bond coupon.">MKTctrGetSchBdt</a>, <a class="el" href="mkt_ctr_8c.html#a4ec546729ea9e18e89b84a805e678eb6" title="Get the payment date of bond coupon.">MKTctrGetSchPdt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4ec546729ea9e18e89b84a805e678eb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchPdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Pdt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the payment date of bond coupon. </p>
<p>Get the payment date of bond coupon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the coupon flow </td></tr>
    <tr><td class="paramname">Pdt</td><td>(out) Payment date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 24/Mar/2006</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_ctr_8c.html#ab855fa27d4aebbe8d227c78039b866fb" title="Get the begin date of bond coupon.">MKTctrGetSchBdt</a>, <a class="el" href="mkt_ctr_8c.html#a60d01a3cfd2844974b441bdb1028ae2b" title="Get the end date of bond coupon.">MKTctrGetSchEdt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae3291de6eb48d012186c6c41709c267d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchPfi </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Pfi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the flag of pendient of fixing of a bond coupon. </p>
<p>Get the flag of pendient of fixing of a bond coupon. in the list of components</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the coupon flow </td></tr>
    <tr><td class="paramname">Pfi</td><td>(out) "Pendient of fixing" flag. "Y", "N"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 28/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="a8fcd83e260c2ca69dee9369630237e7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetSchRmb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Inx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Rmb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the reimbourse of coupon schedule list. </p>
<p>Get the reimbourse of coupon schedule list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schedule list </td></tr>
    <tr><td class="paramname">Inx</td><td>Index of the component </td></tr>
    <tr><td class="paramname">Rmb</td><td>(out) Reimbourse code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 02/Mar/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="a94525ff237d0aa856d24bd29eca3147f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrGetUseBsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Prd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the contracts where its default number is upper or equal than NbRef. </p>
<p>Get the contracts where its default number is upper or equal then NbRef</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database access context </td></tr>
    <tr><td class="paramname">Prd</td><td>Product </td></tr>
    <tr><td class="paramname">Bsk</td><td>Basket </td></tr>
    <tr><td class="paramname">NbRef</td><td>Number of references of basket </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. 0: Ok</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 26/Jun/2008 </dd></dl>

</div>
</div>
<a class="anchor" id="a708a992564cb8c225eac4da1fb8087ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTctrUpdCtrAs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBndcAs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update contract name for asset swap. </p>
<p>Update contract name for asset swap. Each synthetic bond cash deal for an asset swap must have a different contract name although the bond contract is the same (the synthetic bond cash depends on the swap deal).</p>
<ul>
<li>The original bond contract name will be stored in ctrBnd column, and the 'ctr' column will be formed with '}{' characters followed by the num deal.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdBndcAs</td><td>List of bond cash deals of asset swap deals</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 06/Mar/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mkt_ctr_8c.html">mktCtr.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:49 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
