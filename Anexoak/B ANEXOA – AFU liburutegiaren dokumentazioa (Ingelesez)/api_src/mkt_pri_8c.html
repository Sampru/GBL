<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mktPri.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mkt_pri_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mktPri.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Market data - Bond prices.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;bookAccess.h&gt;</code><br/>
<code>#include &lt;carDef.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;math_def.h&gt;</code><br/>
<code>#include &lt;mb_def.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__def_8h_source.html">afu_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu_joi_def_8h_source.html">afuJoiDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__types_8h_source.html">afu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c85105a37e1892c138946bebd4d6adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a8c85105a37e1892c138946bebd4d6adb">MKT_PRI_TRT</a>&#160;&#160;&#160;7004</td></tr>
<tr class="separator:a8c85105a37e1892c138946bebd4d6adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22cf9e64e68ee5801349ab4a709dbd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aa22cf9e64e68ee5801349ab4a709dbd1">MISSING_PRI</a>&#160;&#160;&#160;10 /* Missing bond price.                             */</td></tr>
<tr class="separator:aa22cf9e64e68ee5801349ab4a709dbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43cca932d03d5bbbf8c408a660007b45"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a43cca932d03d5bbbf8c408a660007b45">MISSING_CTR</a>&#160;&#160;&#160;20 /* Missing contract.                               */</td></tr>
<tr class="separator:a43cca932d03d5bbbf8c408a660007b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3724fae44ada9002aef793e4a08f1425"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a3724fae44ada9002aef793e4a08f1425">MIS_SPR_LIM</a>&#160;&#160;&#160;30 /* No found spread for %s between %.4lf and %.4lf. */</td></tr>
<tr class="separator:a3724fae44ada9002aef793e4a08f1425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa327717d8a596c1a07e2144a36115ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#afa327717d8a596c1a07e2144a36115ea">ADDED_PRI</a>&#160;&#160;&#160;40 /* Added default price                             */</td></tr>
<tr class="separator:afa327717d8a596c1a07e2144a36115ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288c2f48de3bb06ab41e2f59633c2ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a6288c2f48de3bb06ab41e2f59633c2ff">NO_FUT_PRI</a>&#160;&#160;&#160;50 /* Date is future. There are not <a class="el" href="afu__def_8h.html#a858b401d3b9343434c874882e79749d4a18fe78d2aa5307ae7bd2a9e2b04a3470">future</a> prices     */</td></tr>
<tr class="separator:a6288c2f48de3bb06ab41e2f59633c2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ea4c680d6fad4a6313e49053040595"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ad6ea4c680d6fad4a6313e49053040595">PRI_BPM_DIST</a>&#160;&#160;&#160;60 /* Bond prices different in Fox and Gv-historic.   */</td></tr>
<tr class="separator:ad6ea4c680d6fad4a6313e49053040595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a98154b94dd6f2d9831b22afca0d68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a12a98154b94dd6f2d9831b22afca0d68">MIS_TAE_LIM</a>&#160;&#160;&#160;70 /* No found TAE for %s between %.4lf and %.4lf. */</td></tr>
<tr class="separator:a12a98154b94dd6f2d9831b22afca0d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9926879ad391aec419a33632af96efcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a9926879ad391aec419a33632af96efcb">MIS_HIS_PRI</a>&#160;&#160;&#160;100 /* Missing historic bond price                     */</td></tr>
<tr class="separator:a9926879ad391aec419a33632af96efcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a84ca4ef1f19a22d775627266f3749440"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a84ca4ef1f19a22d775627266f3749440">lcMKTpriAddSpcToLdPri</a> (void *Ctx, void *LdSpc, void **LdPri)</td></tr>
<tr class="memdesc:a84ca4ef1f19a22d775627266f3749440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add LdSpc data to LdPri, and add bond yield curve name as well.  <a href="#a84ca4ef1f19a22d775627266f3749440"></a><br/></td></tr>
<tr class="separator:a84ca4ef1f19a22d775627266f3749440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da8e6fe5f9795d6fe00a330fa385688"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a4da8e6fe5f9795d6fe00a330fa385688">lcMKTpriCal</a> (void *Ctx, char *CalDat, void *LdPri, void *LdMkt)</td></tr>
<tr class="memdesc:a4da8e6fe5f9795d6fe00a330fa385688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out calculations on a list of prices.  <a href="#a4da8e6fe5f9795d6fe00a330fa385688"></a><br/></td></tr>
<tr class="separator:a4da8e6fe5f9795d6fe00a330fa385688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0e291c8f893d09324f9256751450cd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a6f0e291c8f893d09324f9256751450cd">lcMKTpriCalMduJoiSch</a> (void *LdCtr, char *Ctr, void **LdSch)</td></tr>
<tr class="memdesc:a6f0e291c8f893d09324f9256751450cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join periods of coupon schedule that have same payment date.  <a href="#a6f0e291c8f893d09324f9256751450cd"></a><br/></td></tr>
<tr class="separator:a6f0e291c8f893d09324f9256751450cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff398ffd5a7dfcb6281238893ebbd0ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aff398ffd5a7dfcb6281238893ebbd0ac">lcMKTpriCalMduTae</a> (void *LdCtr, char *Ctr, double Dpc, char *Dat, int Ord, double MinTae, double MaxTae, double *Tae)</td></tr>
<tr class="memdesc:aff398ffd5a7dfcb6281238893ebbd0ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate TAE (Tipo Anual Equivalente)  <a href="#aff398ffd5a7dfcb6281238893ebbd0ac"></a><br/></td></tr>
<tr class="separator:aff398ffd5a7dfcb6281238893ebbd0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ed2fec11158febfd46569ce2d3cad7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a55ed2fec11158febfd46569ce2d3cad7">lcMKTpriCalMduTaeVal</a> (void *LdSch, double Dpc, char *Dat, char *Mat, double Tae, double *Out)</td></tr>
<tr class="memdesc:a55ed2fec11158febfd46569ce2d3cad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value a set of flows with a TAE.  <a href="#a55ed2fec11158febfd46569ce2d3cad7"></a><br/></td></tr>
<tr class="separator:a55ed2fec11158febfd46569ce2d3cad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44f12d5c31474a8e2d9e9c22476b2b3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ab44f12d5c31474a8e2d9e9c22476b2b3">lcMKTpriCalSpr</a> (char *CalDat, char *Ctr, void *LdPri, void *LdCrv, void *LdCtr, double *Spr)</td></tr>
<tr class="memdesc:ab44f12d5c31474a8e2d9e9c22476b2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate spread for one contract.  <a href="#ab44f12d5c31474a8e2d9e9c22476b2b3"></a><br/></td></tr>
<tr class="separator:ab44f12d5c31474a8e2d9e9c22476b2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710c26fc1affcc64675da8dc6f4136ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a710c26fc1affcc64675da8dc6f4136ae">lcMKTpriCalStt</a> (void *LdCtr, int LinCtr, char *Dat, char *SttDat)</td></tr>
<tr class="memdesc:a710c26fc1affcc64675da8dc6f4136ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcul of the settlement date.  <a href="#a710c26fc1affcc64675da8dc6f4136ae"></a><br/></td></tr>
<tr class="separator:a710c26fc1affcc64675da8dc6f4136ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4364fc76c29e05eb9372d051efa689e3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a4364fc76c29e05eb9372d051efa689e3">lcMKTpriChk</a> (void *LdTra, int IsCur, int War, void *LdMkt)</td></tr>
<tr class="memdesc:a4364fc76c29e05eb9372d051efa689e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls bond prices list.  <a href="#a4364fc76c29e05eb9372d051efa689e3"></a><br/></td></tr>
<tr class="separator:a4364fc76c29e05eb9372d051efa689e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e203f3a572ad4deb175a092ec3714e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ac5e203f3a572ad4deb175a092ec3714e">lcMKTpriChkMul</a> (void *LdTra, void *LdMul, void *LdDat)</td></tr>
<tr class="memdesc:ac5e203f3a572ad4deb175a092ec3714e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check bond prices multidate list.  <a href="#ac5e203f3a572ad4deb175a092ec3714e"></a><br/></td></tr>
<tr class="separator:ac5e203f3a572ad4deb175a092ec3714e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f55214a116fc0ff96e7db417db9468a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a6f55214a116fc0ff96e7db417db9468a">lcMKTpriChkPriBpm</a> (void *LdTra, char *Dat, void *LdMkt)</td></tr>
<tr class="memdesc:a6f55214a116fc0ff96e7db417db9468a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare market prices with historic market prices for a date.  <a href="#a6f55214a116fc0ff96e7db417db9468a"></a><br/></td></tr>
<tr class="separator:a6f55214a116fc0ff96e7db417db9468a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3b6529aa17d11fa7b7215654a372de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#afd3b6529aa17d11fa7b7215654a372de">lcMKTpriGetAllValDat</a> (void *Ctx, char *Imc, void *LdAls, void **LdVal)</td></tr>
<tr class="memdesc:afd3b6529aa17d11fa7b7215654a372de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the distinct pairs of value-date for an IMC stored in a list of books.  <a href="#afd3b6529aa17d11fa7b7215654a372de"></a><br/></td></tr>
<tr class="separator:afd3b6529aa17d11fa7b7215654a372de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b5df5716caff3e7bd45e41eea10d71"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ad6b5df5716caff3e7bd45e41eea10d71">lcMKTpriGetDpcCtrCrv</a> (char *CalDat, char *Ctr, int MngCnv, void *LdCrv, void *LdCrvShf, void *LdCtr, double *Dpc, void *LdPri, void **LdFlw)</td></tr>
<tr class="memdesc:ad6b5df5716caff3e7bd45e41eea10d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Dpc with a Ctr and a curve.  <a href="#ad6b5df5716caff3e7bd45e41eea10d71"></a><br/></td></tr>
<tr class="separator:ad6b5df5716caff3e7bd45e41eea10d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176e8f6c026438133c4e6e03467d1f5d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a176e8f6c026438133c4e6e03467d1f5d">lcMKTpriGetLdDat</a> (char *Dat, void **LdDat)</td></tr>
<tr class="memdesc:a176e8f6c026438133c4e6e03467d1f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of dates for historic bonds.  <a href="#a176e8f6c026438133c4e6e03467d1f5d"></a><br/></td></tr>
<tr class="separator:a176e8f6c026438133c4e6e03467d1f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b07f1b3d0b00f77ba5a330ad0787b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a19b07f1b3d0b00f77ba5a330ad0787b2">lcMKTpriGetPriAs</a> (void *LdTra, void *LdPri, void **LdPriAs)</td></tr>
<tr class="memdesc:a19b07f1b3d0b00f77ba5a330ad0787b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the asset swap prices.  <a href="#a19b07f1b3d0b00f77ba5a330ad0787b2"></a><br/></td></tr>
<tr class="separator:a19b07f1b3d0b00f77ba5a330ad0787b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45a210b911eea156d9bab5fa0f611ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ab45a210b911eea156d9bab5fa0f611ae">lcMKTpriGetValDat</a> (void *Ctx, char *Imc, int His, int Aud, void **LdVal)</td></tr>
<tr class="memdesc:ab45a210b911eea156d9bab5fa0f611ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the distinct pairs of value-date for an IMC stored current book.  <a href="#ab45a210b911eea156d9bab5fa0f611ae"></a><br/></td></tr>
<tr class="separator:ab45a210b911eea156d9bab5fa0f611ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af942ecdf0791d117cce4f54ba6831401"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#af942ecdf0791d117cce4f54ba6831401">lcMKTpriSavDefPro</a> (void *Ctx, char *Pro, char *Dat)</td></tr>
<tr class="memdesc:af942ecdf0791d117cce4f54ba6831401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save default prices for bonds, futures and equities for a profile and book.  <a href="#af942ecdf0791d117cce4f54ba6831401"></a><br/></td></tr>
<tr class="separator:af942ecdf0791d117cce4f54ba6831401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05791140125dc6fb4ef7a207e6179fbe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a05791140125dc6fb4ef7a207e6179fbe">lcMKTpriTuneSpr</a> (char *Ctr, void *LdFlw, int Ord, double MinLim, double MaxLim, double *Spr)</td></tr>
<tr class="memdesc:a05791140125dc6fb4ef7a207e6179fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate spread of a bond from its dirty price.  <a href="#a05791140125dc6fb4ef7a207e6179fbe"></a><br/></td></tr>
<tr class="separator:a05791140125dc6fb4ef7a207e6179fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a3b3cd13b56d2de02a9ff93cee65de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a83a3b3cd13b56d2de02a9ff93cee65de">lcMKTpriUpdAllValDat</a> (void *Ctx, char *Imc, void *LdAls, void *LdVal)</td></tr>
<tr class="memdesc:a83a3b3cd13b56d2de02a9ff93cee65de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update market data values for an IMC in a set of books.  <a href="#a83a3b3cd13b56d2de02a9ff93cee65de"></a><br/></td></tr>
<tr class="separator:a83a3b3cd13b56d2de02a9ff93cee65de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f918d98c057df877c721074e46d0df9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a0f918d98c057df877c721074e46d0df9">lcMKTpriUpdQtp</a> (void *Ctx, char *Ctr, char *Qtp)</td></tr>
<tr class="memdesc:a0f918d98c057df877c721074e46d0df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the quotation type for a contract.  <a href="#a0f918d98c057df877c721074e46d0df9"></a><br/></td></tr>
<tr class="separator:a0f918d98c057df877c721074e46d0df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325b9f454087d463c3a7b8cfe053bf50"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a325b9f454087d463c3a7b8cfe053bf50">lcMKTpriUpdQtpAll</a> (void *Ctx, char *Ctr, char *Qtp, void *LdAls)</td></tr>
<tr class="memdesc:a325b9f454087d463c3a7b8cfe053bf50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the quotation type for a contract in GV and a set of trading books.  <a href="#a325b9f454087d463c3a7b8cfe053bf50"></a><br/></td></tr>
<tr class="separator:a325b9f454087d463c3a7b8cfe053bf50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dc945a1b8b174944b3c9624f3ee1ad"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a56dc945a1b8b174944b3c9624f3ee1ad">lcMKTpriUpdValDat</a> (void *Ctx, char *Imc, int His, int Aud, void *LdVal)</td></tr>
<tr class="memdesc:a56dc945a1b8b174944b3c9624f3ee1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update market data values for an IMC.  <a href="#a56dc945a1b8b174944b3c9624f3ee1ad"></a><br/></td></tr>
<tr class="separator:a56dc945a1b8b174944b3c9624f3ee1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919764900622c9a2c10f237fc413008f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a919764900622c9a2c10f237fc413008f">lcMKTpriValFlwDfc</a> (void *LdFlw, double Spr, double *Res)</td></tr>
<tr class="memdesc:a919764900622c9a2c10f237fc413008f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the current value of a list of flows with a fixed spread.  <a href="#a919764900622c9a2c10f237fc413008f"></a><br/></td></tr>
<tr class="separator:a919764900622c9a2c10f237fc413008f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c8fea8816dc5582674dcb7579e137d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a37c8fea8816dc5582674dcb7579e137d">MKTgetBndPrxDta</a> (void *Ctx, char *Prf, char *Inc, char *Pos, char *Dat, int ColNew, void **LdRes)</td></tr>
<tr class="memdesc:a37c8fea8816dc5582674dcb7579e137d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get bond prices data.  <a href="#a37c8fea8816dc5582674dcb7579e137d"></a><br/></td></tr>
<tr class="separator:a37c8fea8816dc5582674dcb7579e137d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab248b0468ffc63a9a397e8d6053539"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#adab248b0468ffc63a9a397e8d6053539">MKTgetBndPrxDtaDet</a> (void *Ctx, char *Prf, char *Dat, void **LdRes)</td></tr>
<tr class="memdesc:adab248b0468ffc63a9a397e8d6053539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get bond prices data detail.  <a href="#adab248b0468ffc63a9a397e8d6053539"></a><br/></td></tr>
<tr class="separator:adab248b0468ffc63a9a397e8d6053539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecc0448c59174efb7f3b1a363099c6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#acecc0448c59174efb7f3b1a363099c6d">MKTpriGetPri</a> (void *Ctx, char *Pro, void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:acecc0448c59174efb7f3b1a363099c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load bond prices into a single data structure, LdMkt.  <a href="#acecc0448c59174efb7f3b1a363099c6d"></a><br/></td></tr>
<tr class="separator:acecc0448c59174efb7f3b1a363099c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe80d570142830f12f11e75fbdc1ab5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#adfe80d570142830f12f11e75fbdc1ab5">MKTpriGetMul</a> (void *Ctx, char *Dat, char *Pro, void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:adfe80d570142830f12f11e75fbdc1ab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load bond prices multiple date into a single data structure, LdMkt.  <a href="#adfe80d570142830f12f11e75fbdc1ab5"></a><br/></td></tr>
<tr class="separator:adfe80d570142830f12f11e75fbdc1ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9629d99c3e24c0543dee60606fe4a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#adf9629d99c3e24c0543dee60606fe4a9">MKTpriGetPriZero</a> (void *LdTra, void **LdMkt)</td></tr>
<tr class="memdesc:adf9629d99c3e24c0543dee60606fe4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a price list for the BdE next date (useless)  <a href="#adf9629d99c3e24c0543dee60606fe4a9"></a><br/></td></tr>
<tr class="separator:adf9629d99c3e24c0543dee60606fe4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559e0d254e03566f1246875bafdfa66e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a559e0d254e03566f1246875bafdfa66e">MKTpriGetHis</a> (void *Ctx, char *Dat, char *Pro, char *Trt, int MktHis, void **LdMkt)</td></tr>
<tr class="memdesc:a559e0d254e03566f1246875bafdfa66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bond prices historic data retrieval.  <a href="#a559e0d254e03566f1246875bafdfa66e"></a><br/></td></tr>
<tr class="separator:a559e0d254e03566f1246875bafdfa66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79846747ba75d8681d352e918d5e62a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ae79846747ba75d8681d352e918d5e62a">MKTpriChk</a> (void *LdTra, int IsCur, void *LdMkt)</td></tr>
<tr class="memdesc:ae79846747ba75d8681d352e918d5e62a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls bond prices list, setting a warning if there is any missing price.  <a href="#ae79846747ba75d8681d352e918d5e62a"></a><br/></td></tr>
<tr class="separator:ae79846747ba75d8681d352e918d5e62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8d899a9e6c839f0342c4b9b85cd831"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a9d8d899a9e6c839f0342c4b9b85cd831">MKTpriChkInf</a> (void *LdTra, int IsCur, void *LdMkt)</td></tr>
<tr class="memdesc:a9d8d899a9e6c839f0342c4b9b85cd831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls bond prices list setting info type error messages.  <a href="#a9d8d899a9e6c839f0342c4b9b85cd831"></a><br/></td></tr>
<tr class="separator:a9d8d899a9e6c839f0342c4b9b85cd831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ff56f6f86957be6183488f17fdff2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#af7ff56f6f86957be6183488f17fdff2f">MKTpriFlt</a> (void *LdTra, int IsCur, void *LdMkt)</td></tr>
<tr class="memdesc:af7ff56f6f86957be6183488f17fdff2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter bond prices list getting only the necessary one. No controls are done.  <a href="#af7ff56f6f86957be6183488f17fdff2f"></a><br/></td></tr>
<tr class="separator:af7ff56f6f86957be6183488f17fdff2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a054b2e20f7077f38f3f55c18596d210c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a054b2e20f7077f38f3f55c18596d210c">MKTpriChkMul</a> (void *LdTra, char *Dat, void *LdMkt)</td></tr>
<tr class="memdesc:a054b2e20f7077f38f3f55c18596d210c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls bond multi-date prices list.  <a href="#a054b2e20f7077f38f3f55c18596d210c"></a><br/></td></tr>
<tr class="separator:a054b2e20f7077f38f3f55c18596d210c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcf66252567ed7e47f2dce3c2f8a181"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aabcf66252567ed7e47f2dce3c2f8a181">MKTpriFindBpmVal</a> (void *LdBpm, void *LdBpd, char *Ctr, int Month, int Year, double *Bpm)</td></tr>
<tr class="memdesc:aabcf66252567ed7e47f2dce3c2f8a181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a raw bond price in LdBpm.  <a href="#aabcf66252567ed7e47f2dce3c2f8a181"></a><br/></td></tr>
<tr class="separator:aabcf66252567ed7e47f2dce3c2f8a181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35cfc9ff413dcae9a12c98454f6c0bd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a35cfc9ff413dcae9a12c98454f6c0bd8">MKTpriFindBpmCpc</a> (void *LdBpm, void *LdBpd, char *Ctr, int Month, int Year, double *Bpm)</td></tr>
<tr class="memdesc:a35cfc9ff413dcae9a12c98454f6c0bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a clean bond price in LdBpm.  <a href="#a35cfc9ff413dcae9a12c98454f6c0bd8"></a><br/></td></tr>
<tr class="separator:a35cfc9ff413dcae9a12c98454f6c0bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff25c28127ff6f0d4146ec0428335617"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aff25c28127ff6f0d4146ec0428335617">MKTpriFindBpmDpc</a> (void *LdBpm, void *LdBpd, char *Ctr, int Month, int Year, double *Bpm)</td></tr>
<tr class="memdesc:aff25c28127ff6f0d4146ec0428335617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a dirty bond price in LdBpm.  <a href="#aff25c28127ff6f0d4146ec0428335617"></a><br/></td></tr>
<tr class="separator:aff25c28127ff6f0d4146ec0428335617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d841390fec7faa9124812c4a518ee6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a5d841390fec7faa9124812c4a518ee6c">MKTpriCal</a> (void *Ctx, char *CalDat, void *LdMkt)</td></tr>
<tr class="memdesc:a5d841390fec7faa9124812c4a518ee6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out calculations on LdPri.  <a href="#a5d841390fec7faa9124812c4a518ee6c"></a><br/></td></tr>
<tr class="separator:a5d841390fec7faa9124812c4a518ee6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bbc260ca62d2f18f257510c765b0df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aa6bbc260ca62d2f18f257510c765b0df">MKTpriCalMul</a> (void *Ctx, char *CalDat, void *LdMkt)</td></tr>
<tr class="memdesc:aa6bbc260ca62d2f18f257510c765b0df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out calculations on LdBpm.  <a href="#aa6bbc260ca62d2f18f257510c765b0df"></a><br/></td></tr>
<tr class="separator:aa6bbc260ca62d2f18f257510c765b0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060b556cf2f1da4d528261f223e59cb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a060b556cf2f1da4d528261f223e59cb8">MKTpriFindDpc</a> (void *LdPri, char *Ctr, double *Dpc)</td></tr>
<tr class="memdesc:a060b556cf2f1da4d528261f223e59cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a dirty price in LdPri.  <a href="#a060b556cf2f1da4d528261f223e59cb8"></a><br/></td></tr>
<tr class="separator:a060b556cf2f1da4d528261f223e59cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcffe86c92985f9fadf5742f2e71667"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aafcffe86c92985f9fadf5742f2e71667">MKTpriFindPri</a> (void *LdPri, char *Ctr, double *Pri)</td></tr>
<tr class="memdesc:aafcffe86c92985f9fadf5742f2e71667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a price in LdPri.  <a href="#aafcffe86c92985f9fadf5742f2e71667"></a><br/></td></tr>
<tr class="separator:aafcffe86c92985f9fadf5742f2e71667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf53467e35556bfff78c8d7c755e110"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#afbf53467e35556bfff78c8d7c755e110">MKTpriFndPriVld</a> (void *LdPri, char *Ctr, double *Cpc, short *Vld)</td></tr>
<tr class="memdesc:afbf53467e35556bfff78c8d7c755e110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find clean price and validity flag in LdPri for a contract.  <a href="#afbf53467e35556bfff78c8d7c755e110"></a><br/></td></tr>
<tr class="separator:afbf53467e35556bfff78c8d7c755e110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7339d35885ec57312dd9b833641fed3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a7339d35885ec57312dd9b833641fed3b">MKTpriFindSdt</a> (void *LdPri, char *Ctr, char **Sdt)</td></tr>
<tr class="memdesc:a7339d35885ec57312dd9b833641fed3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find settlement date in LdPri.  <a href="#a7339d35885ec57312dd9b833641fed3b"></a><br/></td></tr>
<tr class="separator:a7339d35885ec57312dd9b833641fed3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d7d1470697ae84a54b78da5eadede1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ab9d7d1470697ae84a54b78da5eadede1">MKTpriFindSsy</a> (void *LdPri, char *Ctr, double *Dlt, double *Cvx, double *Yld)</td></tr>
<tr class="memdesc:ab9d7d1470697ae84a54b78da5eadede1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a delta and yield of a bond contract.  <a href="#ab9d7d1470697ae84a54b78da5eadede1"></a><br/></td></tr>
<tr class="separator:ab9d7d1470697ae84a54b78da5eadede1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5928174e080ca3dec86f0497ed650ffa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a5928174e080ca3dec86f0497ed650ffa">MKTpriFindVal</a> (void *LdPri, char *Ctr, int ErrChk, double *Val)</td></tr>
<tr class="memdesc:a5928174e080ca3dec86f0497ed650ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a value in LdPri.  <a href="#a5928174e080ca3dec86f0497ed650ffa"></a><br/></td></tr>
<tr class="separator:a5928174e080ca3dec86f0497ed650ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d9340ff4f2dbd6328144339aac14a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a90d9340ff4f2dbd6328144339aac14a8">MKTpriGetStock</a> (void *Ctx, void *LdAls, char *Typ, char *Inc, void **LdPri)</td></tr>
<tr class="memdesc:a90d9340ff4f2dbd6328144339aac14a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve bond contracts required by the stock.  <a href="#a90d9340ff4f2dbd6328144339aac14a8"></a><br/></td></tr>
<tr class="separator:a90d9340ff4f2dbd6328144339aac14a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73854be86f712f3b9f3735e5eb6bef1f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a73854be86f712f3b9f3735e5eb6bef1f">MKTpriSavDef</a> (void *Ctx, void *LdAls, char *Dat)</td></tr>
<tr class="memdesc:a73854be86f712f3b9f3735e5eb6bef1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save default prices for bonds, futures and equities in a list of books.  <a href="#a73854be86f712f3b9f3735e5eb6bef1f"></a><br/></td></tr>
<tr class="separator:a73854be86f712f3b9f3735e5eb6bef1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdaec2f53b0b27649fbb600aa9ac3709"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#abdaec2f53b0b27649fbb600aa9ac3709">MKTpriCalSpr</a> (char *CalDat, char *Ctr, char *Crv, void *LdPri, void *LdYld, void *LdCtr, double *Spr)</td></tr>
<tr class="memdesc:abdaec2f53b0b27649fbb600aa9ac3709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the spread of each contract if it does not exist.  <a href="#abdaec2f53b0b27649fbb600aa9ac3709"></a><br/></td></tr>
<tr class="separator:abdaec2f53b0b27649fbb600aa9ac3709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ffdf18be742b57c8194aed0841fb45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a04ffdf18be742b57c8194aed0841fb45">MKTpriFindCrv</a> (void *LdPri, char *Ctr, char *Crv)</td></tr>
<tr class="memdesc:a04ffdf18be742b57c8194aed0841fb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a curve name in LdPri.  <a href="#a04ffdf18be742b57c8194aed0841fb45"></a><br/></td></tr>
<tr class="separator:a04ffdf18be742b57c8194aed0841fb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de5e2a7ce849aae5066762d81bbbd64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a1de5e2a7ce849aae5066762d81bbbd64">MKTpriFindSpc</a> (void *LdPri, char *Ctr, double *Spc)</td></tr>
<tr class="memdesc:a1de5e2a7ce849aae5066762d81bbbd64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a market spread in LdPri.  <a href="#a1de5e2a7ce849aae5066762d81bbbd64"></a><br/></td></tr>
<tr class="separator:a1de5e2a7ce849aae5066762d81bbbd64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2314da1547cdfb4049e51107bfa347"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a2b2314da1547cdfb4049e51107bfa347">MKTpriFindSpr</a> (void *LdPri, char *Ctr, double *Spr)</td></tr>
<tr class="memdesc:a2b2314da1547cdfb4049e51107bfa347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a spread in LdPri.  <a href="#a2b2314da1547cdfb4049e51107bfa347"></a><br/></td></tr>
<tr class="separator:a2b2314da1547cdfb4049e51107bfa347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d09a6bf6eec4d79c7bf1cfd73598353"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a6d09a6bf6eec4d79c7bf1cfd73598353">MKTpriGetCtr</a> (void *Ctx, void *LdAls, void **LdCtr)</td></tr>
<tr class="memdesc:a6d09a6bf6eec4d79c7bf1cfd73598353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all bond contracts without restrictions.  <a href="#a6d09a6bf6eec4d79c7bf1cfd73598353"></a><br/></td></tr>
<tr class="separator:a6d09a6bf6eec4d79c7bf1cfd73598353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29feedbb03c90c7bf438548e93c5c962"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a29feedbb03c90c7bf438548e93c5c962">MKTpriDelDta</a> (void *Ctx, void *LdPri, char *Pro, void *LdAls)</td></tr>
<tr class="memdesc:a29feedbb03c90c7bf438548e93c5c962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove mkt_dta from current book.  <a href="#a29feedbb03c90c7bf438548e93c5c962"></a><br/></td></tr>
<tr class="separator:a29feedbb03c90c7bf438548e93c5c962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945626c0623156521772f79420f90da1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a945626c0623156521772f79420f90da1">MKTpriDelHisDta</a> (void *Ctx, void *LdPri, char *Pro, char *Dat, void *LdAls)</td></tr>
<tr class="memdesc:a945626c0623156521772f79420f90da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove mkt_dta_his from current book.  <a href="#a945626c0623156521772f79420f90da1"></a><br/></td></tr>
<tr class="separator:a945626c0623156521772f79420f90da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746e41cd09497d559c9b76192ff20239"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a746e41cd09497d559c9b76192ff20239">MKTpriDelDtaFoxes</a> (void *Ctx, void *LdPri, char *Pro, void *LdAls)</td></tr>
<tr class="memdesc:a746e41cd09497d559c9b76192ff20239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove mkt_dta from all foxes in Date.  <a href="#a746e41cd09497d559c9b76192ff20239"></a><br/></td></tr>
<tr class="separator:a746e41cd09497d559c9b76192ff20239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba907896e0d6dcc8cc92c53142a30390"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aba907896e0d6dcc8cc92c53142a30390">MKTpriCalDpcSpr</a> (char *CalDat, char *Ctr, char *Crv, void *LdPri, void *LdYld, void *LdCtr, double Spr, double *Dpc)</td></tr>
<tr class="memdesc:aba907896e0d6dcc8cc92c53142a30390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the dirty price of each contract having its spread.  <a href="#aba907896e0d6dcc8cc92c53142a30390"></a><br/></td></tr>
<tr class="separator:aba907896e0d6dcc8cc92c53142a30390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f3ba78e0c0bc0b690c850b82f1a42d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a90f3ba78e0c0bc0b690c850b82f1a42d">MKTpriCerRfr</a> (void *Ctx, char *Dat, char *Cdt, char *Pro, int MngCnv, void *LdTraObj, void **LdCod, void **LdMkt)</td></tr>
<tr class="memdesc:a90f3ba78e0c0bc0b690c850b82f1a42d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spread pricer refresh.  <a href="#a90f3ba78e0c0bc0b690c850b82f1a42d"></a><br/></td></tr>
<tr class="separator:a90f3ba78e0c0bc0b690c850b82f1a42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61590ffa356c3c86aec53681eb390cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ac61590ffa356c3c86aec53681eb390cd">MKTpriCerSpr</a> (void *Ctx, int Line, char *Cdt, int MngCnv, void *LdMkt, void **LdCod)</td></tr>
<tr class="memdesc:ac61590ffa356c3c86aec53681eb390cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spread pricer.  <a href="#ac61590ffa356c3c86aec53681eb390cd"></a><br/></td></tr>
<tr class="separator:ac61590ffa356c3c86aec53681eb390cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2442f7e2ed22c3c69be343dd1fc62b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aeb2442f7e2ed22c3c69be343dd1fc62b">MKTpriFindDac</a> (void *LdPri, char *Ctr, double *Dac)</td></tr>
<tr class="memdesc:aeb2442f7e2ed22c3c69be343dd1fc62b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a accrued in calculation date in LdPri for a contract.  <a href="#aeb2442f7e2ed22c3c69be343dd1fc62b"></a><br/></td></tr>
<tr class="separator:aeb2442f7e2ed22c3c69be343dd1fc62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6ab0fb5666d492c4b7ddd80cb6638f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a5c6ab0fb5666d492c4b7ddd80cb6638f">MKTpriFindTac</a> (void *LdPri, char *Ctr, double *Tac)</td></tr>
<tr class="memdesc:a5c6ab0fb5666d492c4b7ddd80cb6638f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a accrued until tomorrow date for a contract in LdPri One important thing to be considered with this value is that on the previous date of the the coupon end, the accrued coupon amount will be 0.0. It is considered that 'tomorrow' is in the next coupon.  <a href="#a5c6ab0fb5666d492c4b7ddd80cb6638f"></a><br/></td></tr>
<tr class="separator:a5c6ab0fb5666d492c4b7ddd80cb6638f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5679992395b0e7ce5eebb00bb86739b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a5679992395b0e7ce5eebb00bb86739b5">MKTpriFindTaf</a> (void *LdPri, char *Ctr, double *Taf)</td></tr>
<tr class="memdesc:a5679992395b0e7ce5eebb00bb86739b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a 'full' accrued until tomorrow date for a contract in LdPri One important thing to be considered with this value is that on the previous date of the coupon end, the full coupon will be considered as accrued.  <a href="#a5679992395b0e7ce5eebb00bb86739b5"></a><br/></td></tr>
<tr class="separator:a5679992395b0e7ce5eebb00bb86739b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f41f33e183edbf38eb29f64f6da979"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ad5f41f33e183edbf38eb29f64f6da979">MKTpriFindVac</a> (void *LdPri, char *Ctr, double *Vac)</td></tr>
<tr class="memdesc:ad5f41f33e183edbf38eb29f64f6da979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a accrued in value date in LdPri.  <a href="#ad5f41f33e183edbf38eb29f64f6da979"></a><br/></td></tr>
<tr class="separator:ad5f41f33e183edbf38eb29f64f6da979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b39b2cb5b33d385ddd132a465bb567"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#af9b39b2cb5b33d385ddd132a465bb567">MKTpriFindMulLine</a> (void *LdMul, void *LdDat, char *Ctr, int Month, int Year, int *Line)</td></tr>
<tr class="memdesc:af9b39b2cb5b33d385ddd132a465bb567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the line of multidate bond list for a contract and a date.  <a href="#af9b39b2cb5b33d385ddd132a465bb567"></a><br/></td></tr>
<tr class="separator:af9b39b2cb5b33d385ddd132a465bb567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab9e946b45b139b044f7192f0ca9e4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a8ab9e946b45b139b044f7192f0ca9e4c">MKTpriCerSprGetMkt</a> (void *Ctx, char *Dat, char *Cdt, char *Pro, void **LdDta)</td></tr>
<tr class="memdesc:a8ab9e946b45b139b044f7192f0ca9e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the market spreads for spread pricers.  <a href="#a8ab9e946b45b139b044f7192f0ca9e4c"></a><br/></td></tr>
<tr class="separator:a8ab9e946b45b139b044f7192f0ca9e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba888e0e39d9b15186997c82f9f1c6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a9ba888e0e39d9b15186997c82f9f1c6c">MKTpriSetDpc</a> (void *LdPri, char *Ctr, double Dpc)</td></tr>
<tr class="memdesc:a9ba888e0e39d9b15186997c82f9f1c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a dirty price in LdPri.  <a href="#a9ba888e0e39d9b15186997c82f9f1c6c"></a><br/></td></tr>
<tr class="separator:a9ba888e0e39d9b15186997c82f9f1c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6fd5b1502305f46eb6f026443fa559c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ac6fd5b1502305f46eb6f026443fa559c">MKTpriSetPri</a> (void *LdPri, char *Ctr, double Pri)</td></tr>
<tr class="memdesc:ac6fd5b1502305f46eb6f026443fa559c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a clean price in LdPri.  <a href="#ac6fd5b1502305f46eb6f026443fa559c"></a><br/></td></tr>
<tr class="separator:ac6fd5b1502305f46eb6f026443fa559c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550b2e1bc94ac9b172878eacb5bc7ed4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a550b2e1bc94ac9b172878eacb5bc7ed4">MKTpriSetVal</a> (void *LdPri, char *Ctr, double Val)</td></tr>
<tr class="memdesc:a550b2e1bc94ac9b172878eacb5bc7ed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a clean price in LdPri in 'val' column.  <a href="#a550b2e1bc94ac9b172878eacb5bc7ed4"></a><br/></td></tr>
<tr class="separator:a550b2e1bc94ac9b172878eacb5bc7ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bb1a5dad77d8de55881a0f0c23f9ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a79bb1a5dad77d8de55881a0f0c23f9ff">MKTpriFindSpcVld</a> (void *LdPri, char *Ctr, short *Vld)</td></tr>
<tr class="memdesc:a79bb1a5dad77d8de55881a0f0c23f9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the validity flag of a market spread in LdPri.  <a href="#a79bb1a5dad77d8de55881a0f0c23f9ff"></a><br/></td></tr>
<tr class="separator:a79bb1a5dad77d8de55881a0f0c23f9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12449ce7042ca437850711fc6846930"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ad12449ce7042ca437850711fc6846930">MKTpriDelSpc</a> (void *LdPri)</td></tr>
<tr class="memdesc:ad12449ce7042ca437850711fc6846930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the spread data in LdPri.  <a href="#ad12449ce7042ca437850711fc6846930"></a><br/></td></tr>
<tr class="separator:ad12449ce7042ca437850711fc6846930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45eab9a77bc169bc802a30b03d89e5f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a45eab9a77bc169bc802a30b03d89e5f4">MKTpriDelSpr</a> (void *LdPri)</td></tr>
<tr class="memdesc:a45eab9a77bc169bc802a30b03d89e5f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the spread data in LdPri.  <a href="#a45eab9a77bc169bc802a30b03d89e5f4"></a><br/></td></tr>
<tr class="separator:a45eab9a77bc169bc802a30b03d89e5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348014383f4c33e91b99096128dafb2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a348014383f4c33e91b99096128dafb2e">MKTpriUpdQuo</a> (void *Ctx, void *LdCod)</td></tr>
<tr class="memdesc:a348014383f4c33e91b99096128dafb2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update existing market data whose quotation has changed.  <a href="#a348014383f4c33e91b99096128dafb2e"></a><br/></td></tr>
<tr class="separator:a348014383f4c33e91b99096128dafb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab270fa4d0a7fbf6ca380ba29b19a0860"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#ab270fa4d0a7fbf6ca380ba29b19a0860">MKTpriCalMdfDur</a> (void *LdPri, void *LdCtr, char *Dat, char *Ctr, double *Dur)</td></tr>
<tr class="memdesc:ab270fa4d0a7fbf6ca380ba29b19a0860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule duration of one bond.  <a href="#ab270fa4d0a7fbf6ca380ba29b19a0860"></a><br/></td></tr>
<tr class="separator:ab270fa4d0a7fbf6ca380ba29b19a0860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b01a0ee28e794008ca4f51a65b1d4ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a8b01a0ee28e794008ca4f51a65b1d4ad">MKTpriCalMdrWthDpc</a> (void *LdCtr, char *Dat, char *Ctr, double Dpc, double *Dur)</td></tr>
<tr class="memdesc:a8b01a0ee28e794008ca4f51a65b1d4ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule duration of one bond.  <a href="#a8b01a0ee28e794008ca4f51a65b1d4ad"></a><br/></td></tr>
<tr class="separator:a8b01a0ee28e794008ca4f51a65b1d4ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e04ecd14c7976378b63aa3feb7dc2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#aa5e04ecd14c7976378b63aa3feb7dc2b">MKTpriPrcCalCco</a> (void *Ctx, void *LdCtr, char *DatCal, double RndPrx, int Typ, void **LdRes)</td></tr>
<tr class="memdesc:aa5e04ecd14c7976378b63aa3feb7dc2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific calculations of bond pricers 'Yield from price' or 'Price from yield'.  <a href="#aa5e04ecd14c7976378b63aa3feb7dc2b"></a><br/></td></tr>
<tr class="separator:aa5e04ecd14c7976378b63aa3feb7dc2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bc47be0166847dee29b26d2696aefb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a07bc47be0166847dee29b26d2696aefb">MKTpriAddPrxQuo</a> (void *Ctx, void **LdDta)</td></tr>
<tr class="memdesc:a07bc47be0166847dee29b26d2696aefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add different bond prices according the quotation mode.  <a href="#a07bc47be0166847dee29b26d2696aefb"></a><br/></td></tr>
<tr class="separator:a07bc47be0166847dee29b26d2696aefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6f1dc978133d5b324cfefb377df545"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_pri_8c.html#a7c6f1dc978133d5b324cfefb377df545">MKTpriFindValVld</a> (void *LdPri, char *Ctr, double *Val, short *Vld)</td></tr>
<tr class="memdesc:a7c6f1dc978133d5b324cfefb377df545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a value in LdPri.  <a href="#a7c6f1dc978133d5b324cfefb377df545"></a><br/></td></tr>
<tr class="separator:a7c6f1dc978133d5b324cfefb377df545"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Market data - Bond prices. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MKTpri (MarKeT Data bond PRIces)</dd></dl>
<dl class="section user"><dt>Library</dt><dd>mkt</dd></dl>
<p>Market data - Bond prices. See <a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> for details.</p>
<ul>
<li>- Must remember that the MKTpriCal function needs the curves and contracts to make calcules. This means that MKTyldCal must be done before calling this function. In order to avoid managging not needed curves MKTpriChk should be called before MKTyldChk.</li>
<li></li>
<li>Object: Pri, list of bond prices. Sorted by cod (ctr) <hr/>
</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>cod CTR_TYPE mkt_mcd.cod Bond contract</li>
<li>val DBL_TYPE mkt_dta.val, Typ = 'Bnd' Price</li>
<li>cpc DBL_TYPE MKTpriCal () Clean price</li>
<li>dpc DBL_TYPE MKTpriCal () Dirty price</li>
<li>mrk ITR_TYPE MKTpriChk () Mark</li>
<li>stt MRG_TYPE MKTpriCal () Settlement mode</li>
<li>sdt CDA_TYPE MKTpriCal () Settlement date</li>
<li>dlt DBL_TYPE MKTpriCal () Delta (sensitivity)</li>
<li>cvx DBL_TYPE MKTpriCal () Convexity</li>
<li>yld DBL_TYPE MKTpriCal () Yield (rendement)</li>
<li>vac DBL_TYPE MKTpriCal () Accrued in value date</li>
<li>dac DBL_TYPE MKTpriCal () Accrued in date</li>
<li>spr DBL_TYPE MKTpriCalSpr () Spread (from Zcp)</li>
<li>spc DBL_TYPE mkt_dta.val, Typ = 'Spc' Spread (from Crv)</li>
<li>sst ITR_TYPE mkt_dta.sta, Typ = 'Spc' Spread status</li>
<li>tac DBL_TYPE MKTpriCal () Accrued of tomorrow. When 'tomorrow' is equal to a coupon end date, it is considered that it is in the next coupon, and the accrued will be 0.0. See 'taf' field.</li>
<li>taf DBL_TYPE MKTpriCal () Accrued of tomorrow. It is the same value as 'tac' but with the difference that when 'tomorrow' is equal to a coupon end date, it is considered that it is in the current period and the total (full) coupon is returned. See 'tac' field.</li>
<li></li>
<li>For the RDDbndcBdeMatDealsToRea () function we create a simpler structure</li>
<li></li>
<li>Name Type Origin Description <hr/>
</li>
<li>cod CTR_TYPE LdBndcBde Bond contract</li>
<li><p class="startli">cpc DBL_TYPE MKTpriGetPriZero () Clean price</p>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Phylosophy</dt><dd></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_8c.html" title="Market data general functions.">mkt.c</a> </dd></dl>
</li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afa327717d8a596c1a07e2144a36115ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADDED_PRI&#160;&#160;&#160;40 /* Added default price                             */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9926879ad391aec419a33632af96efcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIS_HIS_PRI&#160;&#160;&#160;100 /* Missing historic bond price                     */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3724fae44ada9002aef793e4a08f1425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIS_SPR_LIM&#160;&#160;&#160;30 /* No found spread for %s between %.4lf and %.4lf. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a12a98154b94dd6f2d9831b22afca0d68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIS_TAE_LIM&#160;&#160;&#160;70 /* No found TAE for %s between %.4lf and %.4lf. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a43cca932d03d5bbbf8c408a660007b45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MISSING_CTR&#160;&#160;&#160;20 /* Missing contract.                               */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa22cf9e64e68ee5801349ab4a709dbd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MISSING_PRI&#160;&#160;&#160;10 /* Missing bond price.                             */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c85105a37e1892c138946bebd4d6adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MKT_PRI_TRT&#160;&#160;&#160;7004</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6288c2f48de3bb06ab41e2f59633c2ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_FUT_PRI&#160;&#160;&#160;50 /* Date is future. There are not <a class="el" href="afu__def_8h.html#a858b401d3b9343434c874882e79749d4a18fe78d2aa5307ae7bd2a9e2b04a3470">future</a> prices     */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad6ea4c680d6fad4a6313e49053040595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRI_BPM_DIST&#160;&#160;&#160;60 /* Bond prices different in Fox and Gv-historic.   */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a84ca4ef1f19a22d775627266f3749440"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriAddSpcToLdPri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdPri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add LdSpc data to LdPri, and add bond yield curve name as well. </p>
<p>Add LdSpc data to LdPri, and add bond yield curve name as well</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DB connection </td></tr>
    <tr><td class="paramname">LdSpc</td><td>Spread prices data list </td></tr>
    <tr><td class="paramname">LdPri</td><td>(in/out) Bond prices data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 06/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 21/Jan/2002: Allways add crv column</li>
<li>Gotzon ETXEBERRIA - 16/Jul/2004: Add sst (spread status) column</li>
<li>Gotzon ETXEBERRIA - 16/Jul/2004: Fix bug (create column sst if doesn't exist)</li>
<li>Ruben GIL - 23/Apr/2009: Add always curve in LdPri</li>
<li>Josune BIKUNA - 30/Apr/2009: When adding the spread, add also the imc and the source of the spread</li>
<li>Alex RODRIGUEZ - 16/Jun/2009: Add Ctx parameter to MKTmcdSetImc function.</li>
</ul>
<div class="fragment"><div class="line">ERRchk (<a class="code" href="mkt_pri_8c.html#a84ca4ef1f19a22d775627266f3749440" title="Add LdSpc data to LdPri, and add bond yield curve name as well.">lcMKTpriAddSpcToLdPri</a> (Ctx, LdSpc, &amp;LdPri)</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a4da8e6fe5f9795d6fe00a330fa385688"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Carry out calculations on a list of prices. </p>
<p>Carry out calculations on a list of prices passed as parameter. Field calculated: stt: Settlement type sdt: Settlement date cpc: Clean price dpc: Dirty price dlt: Delta cvx: Convexity yld: Yield vac: Accrued in value date dac: Accrued in calculation date tac: Accrued of tomorrow. When 'tomorrow' is equal to a coupon end date, it is considered that it is in the next coupon, and the accrued will be 0.0. See 'taf' field. taf: Accrued of tomorrow. It is the same value as 'tac' but with the difference that when 'tomorrow' is equal to a coupon end date, it is considered that it is in the current period and the total (full) coupon is returned. See 'tac' field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdPri</td><td>(in/out) List of market data where the calculations must be done </td></tr>
    <tr><td class="paramname">LdMkt</td><td>List of market data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 09/JUL/1999: Substitute a CalcCours by CVTprice.</li>
<li>Gotzon ETXEBERRIA - 19/Apr/2000: Add "vac" (accrued in value date) and dac (accrued in date) values to list</li>
<li>Isma ETXEBERRIA - 16/May/2000: Convexity/yield added</li>
<li>David IGLESIAS - 12/Jul/2002: add ERRchk to CTRfinSensGen function.</li>
<li>Josune BIKUNA - 13/Nov/2002. Calculate the bond prices and multi-date bond prices in FOX units</li>
<li>Josune BIKUNA - 19/Nov/2002. Do NOT calculate the bond prices in FOX units</li>
<li>Josune BIKUNA - 19/Nov/2002. Do it static</li>
<li>Josune BIKUNA - 17/Nov/2004. When calculating the yield from the spread, the calculated yield must be multiplicated by 100 because the CTRrendementGen function returns the yield in %/100 format</li>
<li>Basilio TAMAYO - 12/May/2005: new parameter Ctr in CVTprice and Ctr and Nat in TYPEcotation. Add parameter nature in CTRfinSensGen</li>
<li>Lorea NAVARRO - 17/Oct/2006: Removed the call get_dev_enu function and add Ctx parameter.<ul>
<li>Lorea NAVARRO - 14/Mar/2007: Correct that the line does not have more than 100 character.</li>
</ul>
</li>
<li>Basilio TAMAYO - 25/Apr/2008: Correct some mistakes in calculating yield when the price is in spread format.</li>
<li>Basilio TAMAYO - 07/Oct/2008:</li>
<li>Alex RODRIGUEZ - 28/Oct/2009: Add Country ("") parameter to GETmrgCash.</li>
<li>Basilio TAMAYO - 15/Jun/2012: Bond in dam (dirty amount) have same accrued until calculation date than until settlement date so the prices are both the same.</li>
<li>Basilio TAMAYO - 14/Dec/2012: Add calculation of tomorrow accrued: field tac</li>
<li>Josune BIKUNA - 04/Sep/2014: Add calculation of tomorrow accrued full: field taf </li>
</ul>

</div>
</div>
<a class="anchor" id="a6f0e291c8f893d09324f9256751450cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCalMduJoiSch </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Join periods of coupon schedule that have same payment date. </p>
<p>Join periods of coupon schedule that have same payment date.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of flows of the contract until maturity as obtained in lcMKTpriGetDpcCtrCrv. </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">LdSch</td><td>(in/out) List of schedules.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Nov/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 10/Jun/2011: Carried from FIT applocation and changed name (previous name was lcFDPjoiSch).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Moved from FIT FdpFcn.c file </dd></dl>

</div>
</div>
<a class="anchor" id="aff398ffd5a7dfcb6281238893ebbd0ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCalMduTae </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>MinTae</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>MaxTae</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Tae</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate TAE (Tipo Anual Equivalente) </p>
<p>Calculate TAE (Tipo Anual Equivalente)</p>
<ul>
<li>The TAE is calculated with the method of "try, error, try".</li>
<li>Consider an initial gap where the TAE is supposed to be.</li>
<li>Starting with that gap, try to find a TAE that makes the current value of flows 0.0.</li>
<li>Get the current valuation for a TAE smaller than the targeted (Min) and for a greater one (Max). The value for Min (ResMin) is always greater than 0.0 and the value for Max (MaxRes) is always smaller than 0.0.</li>
<li>If any of previous conditions is not true, the initial limits are badly located and cannot find the correct spread.</li>
<li>Enter a loop to limit the gap until we find a TAE whose valuation of the flows is 0.0:</li>
<li>+ Get an intermediate TAE between Max and Min and valuate the flows with it.</li>
<li>+ If this valuation is greater than 0.0 the targeted TAE will be between this point and Max</li>
<li>+ If it is smaller than 0.0 the targeted TAE will be between Min and this point.</li>
<li>There are two methods to get the intermediate point</li>
<li>+ Bisection: the intermediate value is in the middle between Max and Min: X2 = (X1 + X0) / 2</li>
<li>+ Secant method: the intermediate value is calculated according to the slope of the secant line of the curve</li>
<li>X1 - X0</li>
<li>X2 = X1 - ------------&mdash; * f(X1)</li>
<li>f(X1) - f(X0)</li>
<li>Every Ord iterations we change the method.</li>
<li>The secant mehtod gives a faster approaching to the solution when the limits are very close to the solution. But when that is not the case it can be very slow or even it may not find it.</li>
<li><p class="startli">The bisection method is slower but you can be sure that it will find the solution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Dpc</td><td>Dirty price in calculation price </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ord</td><td>Number of iterations to try every method. </td></tr>
    <tr><td class="paramname">MinTae</td><td>Minimum value of the gap of spreads where we search the spread. </td></tr>
    <tr><td class="paramname">MaxTae</td><td>Maximum value of the gap of spreads where we search the spread. </td></tr>
    <tr><td class="paramname">Tae</td><td>(out) calculated TAE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Nov/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 12/Apr/2011: If medium TAE is smaller than -1.0, go back to the bisectrix method.</li>
<li>Alex RODRIGUEZ - 10/Jun/2011: Carried from FIT applocation and changed name (previous name was lcFDPcalTae).</li>
<li>Basilio TAMAYO - 25/Aug/2011: Use standard method to set a warning message.</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Moved from FIT FdpFcn.c file </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a55ed2fec11158febfd46569ce2d3cad7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCalMduTaeVal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Tae</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value a set of flows with a TAE. </p>
<p>Value a set of flows with a TAE. The close the result is to 0.0, the more exact is the TAE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>List of flows of a contract until maturity. Fields: pdt, cpn, rmb. </td></tr>
    <tr><td class="paramname">Dpc</td><td>Dirty price in calculation price </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Mat</td><td>Bond maturity date </td></tr>
    <tr><td class="paramname">Tae</td><td>Estimated TAE </td></tr>
    <tr><td class="paramname">Out</td><td>Measure of the estimated TAE. The nearer to 0.0, the more exact the TAE is.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Nov/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 10/Jun/2011: Carried from FIT applocation and changed name (previous name was lcFDPtaeVal).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Moved from FIT FdpFcn.c file </dd></dl>

</div>
</div>
<a class="anchor" id="ab44f12d5c31474a8e2d9e9c22476b2b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCalSpr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Spr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate spread for one contract. </p>
<p>Calculate spread for one contract</p>
<ul>
<li>Construct the list of flows until the maturity of the contract</li>
<li><p class="startli">Find the spread that makes the current value of future flows equal to 0.0</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">LdPri</td><td>List of bond prices </td></tr>
    <tr><td class="paramname">LdCrv</td><td>Curve to discount the flows of the contract </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts, including the calculed one. </td></tr>
    <tr><td class="paramname">Spr</td><td>(out) Spread of the bond</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Oct/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 28/Oct/2003. Use lcMKTpriGetDpcCtrCrv function instead of lcMKTpriGetLdSpr to calculate the spread</li>
<li>Josune BIKUNA - 24/Nov/2003. Use the value of the constant 'MKTmaxSpc' to get the maximum value for a bond spread.</li>
<li>Basilio TAMAYO - 08/May/2007: Add all parameters to header. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a710c26fc1affcc64675da8dc6f4136ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriCalStt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>LinCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SttDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calcul of the settlement date. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract data list (standard contracts list, constructed with CTRinit) </td></tr>
    <tr><td class="paramname">LinCtr</td><td>Treated line of the contract data list </td></tr>
    <tr><td class="paramname">Dat</td><td>Treated date </td></tr>
    <tr><td class="paramname">SttDat</td><td>(out). Calculated settlement date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/May/2013 </dd></dl>

</div>
</div>
<a class="anchor" id="a4364fc76c29e05eb9372d051efa689e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriChk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>War</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Controls bond prices list. </p>
<p>Controls bond prices list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historical data (datCur: Current, datHis: Historic) </td></tr>
    <tr><td class="paramname">War</td><td>Flag to indicate if the error messages are warnings (1), infos (0), nothing (-1). The last value 'nothing' (-1) is useful for only filtering the needed data but to not do the checking. </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 25/Jun/1999: Add LdBndo</li>
<li>Mikel ARETXAGA - 26/Aug/1999: Ctr always readed even if no LdPri.</li>
<li>Gotzon ETXEBERRIA - 12/Nov/2001: fix param order in DYNseqSearch</li>
<li>Josune BIKUNA - 14/Nov/2002. Add currency in bond prices list</li>
<li>Josune BIKUNA - 19/Nov/2002. Remove currency in bond prices list</li>
<li>Josune BIKUNA - 27/Dec/2002. Check also prices with LdBndcBdeNotAs, LdBndcBdeAs</li>
<li>Alex RODRIGUEZ - 29/Jul/2003. Avoid lint warnings. Initialise Vble. 'ColPriMrk', 'ColPriCod'</li>
<li>Edurne GORDOA - 30/Sep/2003: Check also prices in cdo cash</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add IsCur parameter and give MIS_HIS_PRI warning.</li>
<li>Ruben GIL - 17/Jul/2007: Remove cdo contract from LdBnd list</li>
<li>Basilio TAMAYO - 27/Apr/2009: If there are not needed bonds, delete the object "Pri"</li>
<li>Lorea NAVARRO - 26/Oct/2011: Add LdBndVer list</li>
<li>Josune BIKUNA - 03/Feb/2015: Add the posibility to set -1 value in 'War' parameter. See parameters </li>
</ul>

</div>
</div>
<a class="anchor" id="ac5e203f3a572ad4deb175a092ec3714e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriChkMul </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check bond prices multidate list. </p>
<p>Check bond prices multidate list Get the first date for each bond contract For all later dates, check there is a value for each contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>List of deals (ctr and dev) </td></tr>
    <tr><td class="paramname">LdMul</td><td>List of multidate prices </td></tr>
    <tr><td class="paramname">LdDat</td><td>List of dates</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 14/Nov/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="a6f55214a116fc0ff96e7db417db9468a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriChkPriBpm </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare market prices with historic market prices for a date. </p>
<p>Compare market prices with historic market prices for a date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">Dat</td><td>Historic date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 14/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 27/Dec/2002. Check also multi-date prices with LdBndcBdeNotAs</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Gotzon ETXEBERRIA - 07/Nov/2014: Fix Sonar: Suspicious condition (assignment + comparison); Clarify expression with parentheses. </li>
</ul>

</div>
</div>
<a class="anchor" id="afd3b6529aa17d11fa7b7215654a372de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriGetAllValDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Imc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the distinct pairs of value-date for an IMC stored in a list of books. </p>
<p>Get the distinct pairs of value-date for an IMC stored in a list of books</p>
<ul>
<li>For each book, get the list of distinct pairs value-date</li>
<li><p class="startli">Make a single list with the lists of all books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Imc</td><td>Internal market code </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to search in. Current book excluded </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) List of different pairs of value-date in market data tables with Imc in the list of books. Columns: val, dat</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/May/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 21/Jul/2008: Check if LdAls exits </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ad6b5df5716caff3e7bd45e41eea10d71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriGetDpcCtrCrv </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MngCnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrvShf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdFlw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Dpc with a Ctr and a curve. </p>
<p>Get Dpc with a Ctr and a (shifted) curve</p>
<ul>
<li>Add the Dfc of each coupon in future dates. Estimate unfixed flows.</li>
<li>The date for which the dirty price must be calculated is the settlement date, this is, the discount factor for updating the future flows must be the discount factor for the settlement date and not for the calculation date. The reason for it that a bond price has always its value in the settlement date.</li>
<li>When a we have a conversion (call/put) in contract's LdAmo calendar, we may calcule all the flows, or take only flows including this date, locating the rmb on this flow too.</li>
<li>Create a list of flows to simulate the live of a bond since CalDat until maturity. First is a flow of buying the bond at dirty price in the settlement date. Then add the flows of the bond with the coupon plus reimbursement. All these flows will be discounted with the shifted curve.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">MngCnv</td><td>Flag to see how to calculate the flows:<ul>
<li>0 Ignore conversions (call/put) taking allways all coupons</li>
<li>1 Manage conversions (call/put) taking coupons till first conversion date </li>
</ul>
</td></tr>
    <tr><td class="paramname">LdCrv</td><td>Curve to calculate forward types, and estimate unfixed flows </td></tr>
    <tr><td class="paramname">LdCrvShf</td><td>Curve, shifted the spread, do discount flows </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List of contracts </td></tr>
    <tr><td class="paramname">Dpc</td><td>(out) Discount factor </td></tr>
    <tr><td class="paramname">LdPri</td><td>Bond prices list. Used only when calculating the spread from the price </td></tr>
    <tr><td class="paramname">LdFlw</td><td>(OUT) List of flows to simulate the live of a bond since CalDat until maturity. Used to calcule spread from price. Columns: dat, nby, flw, dfc, nom.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA 11/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA 28/Jan/2002: Estimate unfixed variable flows</li>
<li>Gotzon ETXEBERRIA 05/FEB/2002: Temporarily set Bas = "ACT/ACT"</li>
<li>Josune BIKUNA - 19/May/2003. Treat correctly the first bond amortization if it is required. The correct amortization type (cty) to treat is 'A' (normal or option) instead of 'C' (conversion), and with a valid value in option type (oty) field: 'C' (call) or 'P' (put)</li>
<li>Josune BIKUNA - 18/Jun/2003. The date for which the dirty price must be calculated is the settlement date, this is, the discount factor for updating the future flows must be the discount factor for the settlement date and not for the calculation date. The reason for it is that a bond price has always its value in the settlement date.</li>
<li>Alex RODRIGUEZ - 29/Jul/2003. Avoid lint warnings. Initialise Vbles: 'LdMrg', 'LdEchWrk' and 'VldAmoBdt'.</li>
<li>Josune BIKUNA - 28/Oct/2003. This function is also used to calculate the spread from the price, so for this case, the LdPri and LdFlw parameters have been added</li>
<li>Josune BIKUNA - 18/Dec/2003. When calculating the spread from the price, the discount factors for each period must be calculated from the end of the period until the calculation date and not until settlement date.</li>
<li>Gotzon ETXEBERRIA - 19/Dec/2003: Check amortisation date allways (also if flow is not pending)</li>
<li>Josune BIKUNA - 17/Feb/2004. In case the settlement dat is greater than the last period end date, the dirty price is the last coupon flow + rembonsant</li>
<li>Ismael SERRANO - 22/Aug/2006. Use LdCtr + Line instead of LdCtr0</li>
<li>Basilio TAMAYO - 22/Jun/2007: Added new parameter to CTRfxgCalFlw</li>
<li>Alex RODRIGUEZ - 28/Oct/2009: Add Country ("") parameter to GETmrgCash.</li>
<li>Basilio TAMAYO - 25/Aug/2011: Use column index</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a176e8f6c026438133c4e6e03467d1f5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriGetLdDat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of dates for historic bonds. </p>
<p>Get the list of dates for historic bonds These dates will be the last open date (for account currenty) of each month of current year</p>
<ul>
<li>the last open date (for account currenty) of last year</li>
<li>the current date These date are used for BdE revaluation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Reference date </td></tr>
    <tr><td class="paramname">LdDat</td><td>(out) list of dates to keep</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 07/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 06/Jan/2012: Compilation warning, cast Year as int </li>
</ul>

</div>
</div>
<a class="anchor" id="a19b07f1b3d0b00f77ba5a330ad0787b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriGetPriAs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdPriAs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the asset swap prices. </p>
<p>Get the asset swap prices. The market data for asset swap contracts are the same that for bond contracts.</p>
<ul>
<li>Each asset swap price must correspond to an asset swap deal, this is, each asset swap deal has its own price that will be different from the other asset swaps deals, this is why the name of the asset swap price will be different. The name of the asset swap prices will be formed by the characteres '}{' followed by the num of the deal.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdPri</td><td>Bond prices </td></tr>
    <tr><td class="paramname">LdPriAs</td><td>(OUT) Asset swap prices</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 16/Jul/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 27/Dec/2002. Get also prices for assetswap in LdBndcBdeAs list</li>
<li>Josune BIKUNA - 13/Jun/2003. Update the curve for calculating the asset swap prices with the curve defined in the LdBndcAs list, which is the curve of the swap leg.</li>
<li>Josune BIKUNA - 19/Jun/2003. Do not get prices for assetswap in LdBndcBdeAs list. The LdBndcAs list must be exist always </li>
</ul>

</div>
</div>
<a class="anchor" id="ab45a210b911eea156d9bab5fa0f611ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriGetValDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Imc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>His</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Aud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the distinct pairs of value-date for an IMC stored current book. </p>
<p>Get the distinct pairs of value-date for an IMC stored current book</p>
<ul>
<li><p class="startli">Get the distinct values and date in current market data (with application date), historic market data and audited market data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Imc</td><td>Internal market code </td></tr>
    <tr><td class="paramname">His</td><td>Flag to search in historic market data or not </td></tr>
    <tr><td class="paramname">Aud</td><td>Flag to search in audited market data or not </td></tr>
    <tr><td class="paramname">LdVal</td><td>(out) List of different pairs of val-dat in market data tables with Imc. Cols: val, dat</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/May/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL -09/Nov/2006: Add AppDat variable in CSTreadDatDB function</li>
<li>Basilio TAMAYO - 03/Oct/2007: Get data from mkt_dta_his_arc</li>
<li>Ruben GIL - 22/Feb/2010: ALU impacts: Add new variable in CSTreadDatDB function</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="af942ecdf0791d117cce4f54ba6831401"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriSavDefPro </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save default prices for bonds, futures and equities for a profile and book. </p>
<p>Save default prices for bonds, futures and equities for a profile and book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to save data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 29/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 25/Oct/2000. Add an info for each new price</li>
<li>Basilio TAMAYO - 12/May/2005: Add parameters Ctr and Nat into TypeCote</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a05791140125dc6fb4ef7a207e6179fbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriTuneSpr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFlw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>MinLim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>MaxLim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Spr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate spread of a bond from its dirty price. </p>
<p>Calculate spread of a bond from its dirty price.</p>
<ul>
<li>The spread is calculated with the method of "try, error, try".</li>
<li>Consider an initial gap where the spread is supposed to be.</li>
<li>Starting with that gap, try to find a spread that makes the current value of flows 0.0.</li>
<li>We know that the function that calculates the current value of flow with a given spread is continuos and decreasing:</li>
<li>Get the current valuation for a spread smaller than the targeted (Min) and for a greater one (Max). The value for Min (ResMin) is always greater than 0.0 and the value for Max (MaxRes) is always smaller than 0.0.</li>
<li>If any of previous conditions is not true, the initial limits are badly located and cannot find the correct spread.</li>
<li>Enter a loop to limit the gap until we find a spread whose valuation of the flows is 0.0:</li>
<li>+ Get an intermediate spread between Max and Min and valuate the flows with it.</li>
<li>+ If this valuation is greater than 0.0 the targeted spread will be between this point and Max</li>
<li>+ If it is smaller than 0.0 the targeted spread will be between Min and this point.</li>
<li>There are two methods to get the intermediate point</li>
<li>+ Bisection: the intermediate value is in the middle between Max and Min: X2 = (X1 + X0) / 2</li>
<li>+ Secant method: the intermediate value is calculated according to the slope of the secant line of the curve</li>
<li>X1 - X0</li>
<li>X2 = X1 - ------------&mdash; * f(X1)</li>
<li>f(X1) - f(X0)</li>
<li>Every Ord iterations we change the method.</li>
<li>The secant mehtod gives a faster approaching to the solution when the limits are very close to the solution. But when that is not the case it can be very slow or even it may not find it.</li>
<li><p class="startli">The bisection method is slower but you can be sure that it will find the solution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">LdFlw</td><td>List of flows of the contract until maturity as obtained in lcMKTpriGetDpcCtrCrv. </td></tr>
    <tr><td class="paramname">Ord</td><td>Number of iterations to try every method. </td></tr>
    <tr><td class="paramname">MinLim</td><td>Minimum value of the gap of spreads where we search the spread. </td></tr>
    <tr><td class="paramname">MaxLim</td><td>Maximum value of the gap of spreads where we search the spread. </td></tr>
    <tr><td class="paramname">Spr</td><td>(out) calculated spread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Oct/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 10/May/2007: Alternate bisection and secant methods to get the next spread to try.</li>
<li>Basilio TAMAYO - 25/Aug/2011: Use standard method to set a warning message. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a83a3b3cd13b56d2de02a9ff93cee65de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriUpdAllValDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Imc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update market data values for an IMC in a set of books. </p>
<p>Update market data values for an IMC in a set of books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Imc</td><td>Internal market code </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to save data in </td></tr>
    <tr><td class="paramname">LdVal</td><td>List of different pairs of val-dat with new value to update in market date. Columns: val, dat, new</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/May/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 22/Jul/2008: Check if LdAls exist </li>
</ul>

</div>
</div>
<a class="anchor" id="a0f918d98c057df877c721074e46d0df9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriUpdQtp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Qtp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the quotation type for a contract. </p>
<p>Update the quotation type for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Qtp</td><td>Quotation type to update</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 22/Jun/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jose M.NUNEZ - 29/May/2008: Use gb_lck_exc instead of syb_lck_exclusive</li>
<li>Ruben GIL - 01/Feb/2012: Call to GBdmdLckTab function with ERRchkGb instead of ERRchk</li>
<li>Ruben GIL - 02/Feb/2012: Use ERRchkGb function correctly</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a325b9f454087d463c3a7b8cfe053bf50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriUpdQtpAll </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Qtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the quotation type for a contract in GV and a set of trading books. </p>
<p>Update the quotation type for a contract in GV and a set of trading books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Qtp</td><td>Quotation type to update </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to save data in besides MO book</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 22/Jun/2006 </dd></dl>

</div>
</div>
<a class="anchor" id="a56dc945a1b8b174944b3c9624f3ee1ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriUpdValDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Imc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>His</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Aud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update market data values for an IMC. </p>
<p>Update market data values for an IMC</p>
<ul>
<li>Get the list of values that have current date and save them in mkt_dta table</li>
<li><p class="startli">Update the historic and audited market data with value and date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">Imc</td><td>Internal market code </td></tr>
    <tr><td class="paramname">His</td><td>Update historic market data or not </td></tr>
    <tr><td class="paramname">Aud</td><td>Update audited market data or not </td></tr>
    <tr><td class="paramname">LdVal</td><td>List of different pairs of val-dat with new value to update in market date. Columns: val, dat, new, Mrk</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/May/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL -09/Nov/2006: Add AppDat variable in CSTreadDatDB function</li>
<li>Basilio TAMAYO - 03/Oct/2007: Update also table mkt_dta_his_arc</li>
<li>Jose M.NUNEZ - 29/May/2008: Use gb_lck_exc instead of syb_lck_exclusive</li>
<li>Ruben GIL - 22/Feb/2010: ALU impacts: Add new variable in CSTreadDatDB function</li>
<li>Basilio TAMAYO - 22/Feb/2012: Call GBdmdLckTab with ERRchkGb instead of ERRchk </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a919764900622c9a2c10f237fc413008f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTpriValFlwDfc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFlw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Spr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the current value of a list of flows with a fixed spread. </p>
<p>Calculate the current value of a list of flows with a fixed spread.</p>
<ul>
<li>Summatory in LdFlw of "Nom * e (-Spr * Nby)"</li>
<li>To calculate the spread equivalent to a price there must find the the value that makes this summatory equal to 0.0</li>
<li><p class="startli">Note that this function is strictly decreasing, the bigger the spread, the smaller the result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdFlw</td><td>List of flows of a contract until maturity. Ass obtained in lcMKTpriGetDpcCtrCrv. </td></tr>
    <tr><td class="paramname">Spr</td><td>Spread to check its accurcity. </td></tr>
    <tr><td class="paramname">Res</td><td>(out) Measure of the proximity of the spread to price. The nearer to 0.0 the more exact the spread will be.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Oct/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 08/May/2007: Rename function. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a37c8fea8816dc5582674dcb7579e137d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTgetBndPrxDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Prf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get bond prices data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Prf</td><td>Profile </td></tr>
    <tr><td class="paramname">Inc</td><td>Include deals </td></tr>
    <tr><td class="paramname">Pos</td><td>Flat position </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">ColNew</td><td>'1' to create a new column, '0' to don't create it </td></tr>
    <tr><td class="paramname">LdRes</td><td>(in/out) Bond prices data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Urko PINEDA - 07/Dec/2016</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ander REMENTERIA - 19/Jun/2018: Modified to contemplate the arrival from TB. </li>
</ul>

</div>
</div>
<a class="anchor" id="adab248b0468ffc63a9a397e8d6053539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTgetBndPrxDtaDet </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Prf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get bond prices data detail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Prf</td><td>Profile </td></tr>
    <tr><td class="paramname">Dat</td><td>Data </td></tr>
    <tr><td class="paramname">LdRes</td><td>(in/out) Bond prices data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Urko PINEDA - 07/Dec/2016</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ander REMENTERIA - 07/Jun/2018: Use of memory fixed </li>
</ul>

</div>
</div>
<a class="anchor" id="a07bc47be0166847dee29b26d2696aefb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriAddPrxQuo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add different bond prices according the quotation mode. </p>
<p>Add bond prices according the quotation mode for each contract, dat combination. This function only can be used for bond prices market data It adds colums to save clean price (BndPriCpc), dirty price until settlement date (BndPriDpc), dirty price until current date (BndPriDac), dirty price until following date (BndPriTac)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdDta</td><td>(IN/OUT) List with the market data values (bond prices). The list must have these columns:<ul>
<li>typ : market data type</li>
<li>ctr : contract code</li>
<li>dat : generation date</li>
<li>val : price And following columns are added:</li>
<li>BndPriCpc : (OUT) clean price</li>
<li>BndPriDpc : (OUT) dirty price with accrued till settlement date</li>
<li>BndPriDac : (OUT) dirty price with accrued till generation date</li>
<li>BndPriTac : (OUT) dirty price with accrued till next date</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 27/May/2013</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jesus Maria GARCIA - 30/May/2013: Check if there are not bond contracts </li>
</ul>

</div>
</div>
<a class="anchor" id="a5d841390fec7faa9124812c4a518ee6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out calculations on LdPri. </p>
<p>Carry out calculations on LdPri</p>
<ul>
<li><p class="startli">To calculate the price from the spread yield curves are necessary, so make sure that the yield curves are calculated (MKTyldCal) before the call to this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) List of market data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 25/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter in this function and lcMKTpriCal function </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aba907896e0d6dcc8cc92c53142a30390"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCalDpcSpr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Crv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdYld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Spr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the dirty price of each contract having its spread. </p>
<p>Calculate the dirty price of each contract having its spread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>contract </td></tr>
    <tr><td class="paramname">Crv</td><td>curve of the contract </td></tr>
    <tr><td class="paramname">LdPri</td><td>(in/out) list of bond prices </td></tr>
    <tr><td class="paramname">LdYld</td><td>list of curves </td></tr>
    <tr><td class="paramname">LdCtr</td><td>list of contracts </td></tr>
    <tr><td class="paramname">Spr</td><td>spread </td></tr>
    <tr><td class="paramname">Dpc</td><td>(out) Calculated dirty price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 12/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 18/Dec/2003. When shifting the curve, this is, adding the spread value to the curve points, add it to the zero coupon curve.</li>
<li>Jon BARRUTIA - 07/Nov/2007: MISSING_CRV is an MKT_TRT error (generic for all MKT files) </li>
</ul>

</div>
</div>
<a class="anchor" id="ab270fa4d0a7fbf6ca380ba29b19a0860"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCalMdfDur </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcule duration of one bond. </p>
<p>Calcule duration of one bond.</p>
<ul>
<li>Duracion</li>
<li>Duracion modificada = ------------&mdash;</li>
<li>(1 + TAE)</li>
<li></li>
<li>SUM ((Nby * Flw) / pow ((1 + TAE), Nby))</li>
<li>Duracion = --------------------------------------&mdash;</li>
<li>SUM (Flw / pow ((1 + TAE), Nby))</li>
<li></li>
<li></li>
<li>Duracion</li>
<li>Duracion modificada = ------------&mdash;</li>
<li>(1 + Yld)</li>
<li></li>
<li>SUM ((Nby * Flw) / pow ((1 + Yld), Nby))</li>
<li>Duracion = --------------------------------------&mdash;</li>
<li>SUM (Flw / pow ((1 + Yld), Nby))</li>
<li>Where:</li>
<li>+ SUM = Summatory of all flows</li>
<li>+ Nby = Time in years from the flow payment date until date Dat.</li>
<li>+ Flw = Flow.</li>
<li>+ Yld = Yield from the market data price.</li>
<li><p class="startli">For frns, duration is sensitivity divided into dirty price (both calculated with only the current period).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>List of bond market data </td></tr>
    <tr><td class="paramname">LdCtr</td><td>Contract list. </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Dur</td><td>(out) Duration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 10/Feb/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 17/Nov/2010: Get the dirty price with the accrued of calculation date.</li>
<li>Basilio TAMAYO - 17/Nov/2010: Make calculations with TAE, not yield.</li>
<li>Basilio TAMAYO - 10/Feb/2011: Change maximum TAE as 1000.0</li>
<li>Alex RODRIGUEZ - 10/Jun/2011: Carried from FIT applocation and changed name (previous name was FDPcalDurBnd). Also Ctx and Yld180 parameters have been removed.</li>
<li>Alex RODRIGUEZ - 16/Jun/2011: Desglose it in two functions (MKTpriCalMdfDur and MKTpriCalMdrWthDpc)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>moved from FdpCmp.c. Re-moved from FIT FdpFcn.c. See MKTpriCalMdrWthDpc </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a8b01a0ee28e794008ca4f51a65b1d4ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCalMdrWthDpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcule duration of one bond. </p>
<p>Calcule duration of one bond.</p>
<ul>
<li>Duracion</li>
<li>Duracion modificada = ------------&mdash;</li>
<li>(1 + TAE)</li>
<li></li>
<li>SUM ((Nby * Flw) / pow ((1 + TAE), Nby))</li>
<li>Duracion = --------------------------------------&mdash;</li>
<li>SUM (Flw / pow ((1 + TAE), Nby))</li>
<li></li>
<li></li>
<li>Duracion</li>
<li>Duracion modificada = ------------&mdash;</li>
<li>(1 + Yld)</li>
<li></li>
<li>SUM ((Nby * Flw) / pow ((1 + Yld), Nby))</li>
<li>Duracion = --------------------------------------&mdash;</li>
<li>SUM (Flw / pow ((1 + Yld), Nby))</li>
<li>Where:</li>
<li>+ SUM = Summatory of all flows</li>
<li>+ Nby = Time in years from the flow payment date until date Dat.</li>
<li>+ Flw = Flow.</li>
<li>+ Yld = Yield from the market data price.</li>
<li><p class="startli">For frns, duration is sensitivity divided into dirty price (both calculated with only the current period).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>Contract list. </td></tr>
    <tr><td class="paramname">Dat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Dpc</td><td>Dirty price </td></tr>
    <tr><td class="paramname">Dur</td><td>(out) Duration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 16/Jun/2011:</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>moved from FdpCmp.c. Re-moved from FIT FdpFcn.c. Desglose it in two functions: (MKTpriCalMdfDur and MKTpriCalMdrWthDpc) </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aa6bbc260ca62d2f18f257510c765b0df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCalMul </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out calculations on LdBpm. </p>
<p>Carry out calculations on LdBpm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">CalDat</td><td>Calculation date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) List of market data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 25/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 24/Oct/2006: Add Ctx parameter in this function and lcMKTpriCal function </li>
</ul>

</div>
</div>
<a class="anchor" id="abdaec2f53b0b27649fbb600aa9ac3709"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCalSpr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CalDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Crv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdYld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Spr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the spread of each contract if it does not exist. </p>
<p>Calculate the spread of each contract if it does not exist If spread is already calculated, return its value else calculate it</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CalDat</td><td>calculation date </td></tr>
    <tr><td class="paramname">Ctr</td><td>contract </td></tr>
    <tr><td class="paramname">Crv</td><td>curve of the contract </td></tr>
    <tr><td class="paramname">LdPri</td><td>(in/out) list of bond prices </td></tr>
    <tr><td class="paramname">LdYld</td><td>lixt of curves </td></tr>
    <tr><td class="paramname">LdCtr</td><td>list of contracts </td></tr>
    <tr><td class="paramname">Spr</td><td>(out) calculated spread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Oct/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 07/Nov/2007: MISSING_CRV is an MKT_TRT error (generic for all MKT files) </li>
</ul>

</div>
</div>
<a class="anchor" id="a90f3ba78e0c0bc0b690c850b82f1a42d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCerRfr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Cdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MngCnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTraObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spread pricer refresh. </p>
<p>Calculates the price having a date, calculation date, curve, profile, for a list of contracts</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>DB context </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Cdt</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile to get the curve </td></tr>
    <tr><td class="paramname">MngCnv</td><td>Manage conversion. Flag to see how to calculate the flows:<ul>
<li>0 Ignore conversions (call/put) taking allways all coupons</li>
<li>1 Manage conversions (call/put) taking coupons till first conversion date </li>
</ul>
</td></tr>
    <tr><td class="paramname">LdTraObj</td><td>Object of lists of deals. It can be NULL. If it is NULL, the object of deals will be generated with the contract list LdCod passed as parameter </td></tr>
    <tr><td class="paramname">LdCod</td><td>(in/out) Contract list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(out) Market data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 07/Jan/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 28/Jan/2002: If Dat is in the past take market data from GV mkt_dta_his</li>
<li>Basilio TAMAYO - 08/Jul/2002. Added parameter to MKTyldChk</li>
<li>Josune BIKUNA - 06/Mar/2003. Add LdTraObj parameter. It can be NULL</li>
<li>Josune BIKUNA - 18/Jun/2003. When getting historic market data, change to hook database only if the application is not GV</li>
<li>Josune BIKUNA - 18/Jun/2003. Do checking and calculation treatments form bond prices also. This is to keep only in the price list the necessary prices.</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add parameter to MKTyldChk.</li>
<li>Lorea NAVARRO - 23/Nov/2006. Add Ctx parameter in this function.</li>
<li>Josune BIKUNA - 01/Nov/2007: Add treatment parameter when calling to MKTyldGetHis and MKTpriGetHis functions</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="ac61590ffa356c3c86aec53681eb390cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCerSpr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Cdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MngCnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spread pricer. </p>
<p>Recalculates the price. For each contract, take its curve, and shift it. Estimate unfixed flows with the original curve and calculate contract's price using the the shifted curve to discount every flow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Line</td><td>Line to recalculate </td></tr>
    <tr><td class="paramname">Cdt</td><td>Calculation date </td></tr>
    <tr><td class="paramname">MngCnv</td><td>Manage conversion. Flag to see how to calculate the flows:<ul>
<li>0 Ignore conversions (call/put) taking allways all coupons</li>
<li>1 Manage conversions (call/put) taking coupons till first conversion date </li>
</ul>
</td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data </td></tr>
    <tr><td class="paramname">LdCod</td><td>(in/out) Contract list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 07/Jan/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 18/Dec/2003. When shifting the curve, this is, adding the spread value to the curve points, add it to the zero coupon curve.</li>
<li>Basilio TAMAYO - 12/May/2005: new parameter Ctr in CVTprice and Ctr and Nat in TYPEcotation</li>
<li>Lorea NAVARRO - 17/Oct/2006: Removed the call get_dev_enu function and add Ctx paramter.</li>
<li>Jon BARRUTIA - 07/Nov/2007: MISSING_CRV is an MKT_TRT error (generic for all MKT files)</li>
<li>Basilio TAMAYO - 14/Oct/2008: Use centralised function to convert prices from one quotation to another: AFUprdQuoCnvPrx</li>
<li>Alex RODRIGUEZ - 28/Oct/2009: Add Country ("") parameter to GETmrgCash. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8ab9e946b45b139b044f7192f0ca9e4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriCerSprGetMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Cdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the market spreads for spread pricers. </p>
<p>Recover the market spreads for spread pricers. Depending on the date and where we are, take market data from mkt_dta or hook.mkt_dta_his</p>
<ul>
<li>The resultant list has the columns: ctr, prd, spr</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Cdt</td><td>Calculation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdDta</td><td>(OUT) Market spreads</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 06/Mar/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 11/May/2006. Get also the currency in the resultant list of market spreads, and sort it correctly by currency, product and contract. It was sorted by thses three elements but ina wrong way.<ul>
<li>Gema ACHA - 09/Apr/2008: Convert sentences with left/right joins to SQL-Ansi</li>
<li>Gema ACHA - 29/May/2008: Correct SQL-Ansi conversion</li>
<li>Josune BIKUNA - 10/Dec/2009: Correct the left/right joins sentences for past dates</li>
<li>Basilio TAMAYO - 25/Aug/2011: Use standard method to set a warning message.</li>
<li>Josune BIKUNA - 22/Feb/2012: Use ERRchkGb with GB functions </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ae79846747ba75d8681d352e918d5e62a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriChk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls bond prices list, setting a warning if there is any missing price. </p>
<p>Controls bond prices list, setting a warning if there is any missing price.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historical data (datCur: Current, datHis: Historic) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 25/Jun/1999: Add LdBndo</li>
<li>Mikel ARETXAGA - 26/Aug/1999: Ctr always readed even if no LdPri.</li>
<li>Gotzon ETXEBERRIA - 12/Nov/2001: fix param order in DYNseqSearch</li>
<li>Josune BIKUNA - 14/Nov/2002. Add currency in bond prices list</li>
<li>Josune BIKUNA - 19/Nov/2002. Remove currency in bond prices list</li>
<li>Josune BIKUNA - 27/Dec/2002. Check also prices with LdBndcBdeNotAs, LdBndcBdeAs</li>
<li>Alex RODRIGUEZ - 29/Jul/2003. Avoid lint warnings. Initialise Vble. 'ColPriMrk', 'ColPriCod'</li>
<li>Edurne GORDOA - 30/Sep/2003: Check also prices in cdo cash</li>
<li>Iker ZURIARRAIN - 12/Oct/2005. Add IsCur parameter and give MIS_HIS_PRI warning.</li>
<li>Ruben GIL - 17/Jul/2007: Remove cdo contract from LdBnd list</li>
<li>Basilio TAMAYO - 27/Apr/2009: If there are not needed bonds, delete the object "Pri"</li>
<li>Basilio TAMAYO - 04/May/2011: Call to lcMKTpriChk </li>
</ul>

</div>
</div>
<a class="anchor" id="a9d8d899a9e6c839f0342c4b9b85cd831"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriChkInf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls bond prices list setting info type error messages. </p>
<p>Controls bond prices list setting info type error messages</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historic data (datCur: Current, datHis: Historic) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/May/2011 </dd></dl>

</div>
</div>
<a class="anchor" id="a054b2e20f7077f38f3f55c18596d210c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriChkMul </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls bond multi-date prices list. </p>
<p>Controls bond multi-date prices list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">Dat</td><td>Historisation Date </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 14/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 27/Dec/2002. Check also multi-date prices with LdBndcBdeNotAs </li>
</ul>

</div>
</div>
<a class="anchor" id="a29feedbb03c90c7bf438548e93c5c962"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriDelDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove mkt_dta from current book. </p>
<p>Remove mkt_dta from current book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdPri</td><td>List of imcs to be deleted </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile to be deleted </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of diffusion books to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 11/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 10/Feb/2009: Add parameter LdAls</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a746e41cd09497d559c9b76192ff20239"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriDelDtaFoxes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove mkt_dta from all foxes in Date. </p>
<p>Remove mkt_dta from all foxes in Date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdPri</td><td>List of imcs to be deleted </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile to be deleted </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of terminal books.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 11/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 08/Jun/2004. Use MKTgetDffAls instead of MBOOKgetMktAls</li>
<li>Jon BARRUTIA - 08/Jun/2004: Check if LdAls exists</li>
<li>Jon BARRUTIA - 14/May/2008: Take diffusion books depending on diffusion books type, call to MKTgetDffTypAls</li>
<li>Basilio TAMAYO - 10/Feb/2009: Add parameter LdAls.</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a945626c0623156521772f79420f90da1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriDelHisDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove mkt_dta_his from current book. </p>
<p>Remove mkt_dta_his from current book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdPri</td><td>List of imcs to be deleted </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile to be deleted </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to be deleted </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of diffusion books to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 11/Dec/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 10/Feb/2009: Add parameter LdAls</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="ad12449ce7042ca437850711fc6846930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriDelSpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the spread data in LdPri. </p>
<p>Delete the spread data in LdPri for all contracts, this is, set not valid all the 'spc' column.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Nov/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="a45eab9a77bc169bc802a30b03d89e5f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriDelSpr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the spread data in LdPri. </p>
<p>Delete the spread data in LdPri for all contracts, this is, set not valid all the 'spr' column.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Nov/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="a35cfc9ff413dcae9a12c98454f6c0bd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindBpmCpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Bpm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a clean bond price in LdBpm. </p>
<p>Find a clean bond price in LdBpm for a contract and a date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdBpm</td><td>Bond price list multidate </td></tr>
    <tr><td class="paramname">LdBpd</td><td>List of bond prices dates </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Month</td><td>Month </td></tr>
    <tr><td class="paramname">Year</td><td>Year </td></tr>
    <tr><td class="paramname">Bpm</td><td>(out) Bond clean price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 25/Nov/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="aff25c28127ff6f0d4146ec0428335617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindBpmDpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Bpm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a dirty bond price in LdBpm. </p>
<p>Find a dirty bond price in LdBpm for a contract and a date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdBpm</td><td>Bond price list multidate </td></tr>
    <tr><td class="paramname">LdBpd</td><td>List of bond prices dates </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Month</td><td>Month </td></tr>
    <tr><td class="paramname">Year</td><td>Year </td></tr>
    <tr><td class="paramname">Bpm</td><td>(out) Bond dirty price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 25/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 13/Oct/2009: Return correctly the dirty price (dpc) </li>
</ul>

</div>
</div>
<a class="anchor" id="aabcf66252567ed7e47f2dce3c2f8a181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindBpmVal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Bpm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a raw bond price in LdBpm. </p>
<p>Find a raw bond price in LdBpm for a contract and a date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdBpm</td><td>Bond price list multidate </td></tr>
    <tr><td class="paramname">LdBpd</td><td>List of bond prices dates </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Month</td><td>Month </td></tr>
    <tr><td class="paramname">Year</td><td>Year </td></tr>
    <tr><td class="paramname">Bpm</td><td>(out) Bond price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 14/Nov/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="a04ffdf18be742b57c8194aed0841fb45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindCrv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Crv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a curve name in LdPri. </p>
<p>Find a curve name in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Crv</td><td>(OUT) Curve. The return value is a copy of the value in the list, so the string must be reserved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 21/Oct/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 03/Nov/2003. Modify description </li>
</ul>

</div>
</div>
<a class="anchor" id="aeb2442f7e2ed22c3c69be343dd1fc62b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindDac </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a accrued in calculation date in LdPri for a contract. </p>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTION MKTpriGetPriZero ().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Dac</td><td>(out) Bond accrued</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Nov/2010 </dd></dl>

</div>
</div>
<a class="anchor" id="a060b556cf2f1da4d528261f223e59cb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindDpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a dirty price in LdPri. </p>
<p>Find a dirty price in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Dpc</td><td>(out) Bond dirty price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTION MKTpriGetPriZero ().</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 07/Sep/2000. Add warning </li>
</ul>

</div>
</div>
<a class="anchor" id="af9b39b2cb5b33d385ddd132a465bb567"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindMulLine </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the line of multidate bond list for a contract and a date. </p>
<p>Find the line of multidate bond list for a contract and a date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMul</td><td>Bond price list multidate </td></tr>
    <tr><td class="paramname">LdDat</td><td>List of bond dates </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Month</td><td>Month </td></tr>
    <tr><td class="paramname">Year</td><td>Year </td></tr>
    <tr><td class="paramname">Line</td><td>(out) Line of LdMul where the price is</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 13/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 29/Jul/2003. Avoid lint warnings. Initialise Vble. 'Dat'. </li>
</ul>

</div>
</div>
<a class="anchor" id="aafcffe86c92985f9fadf5742f2e71667"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindPri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a price in LdPri. </p>
<p>Find a price in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Pri</td><td>(out) Bond price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTION MKTpriGetPriZero ().</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 07/Sep/2000. Add warning </li>
</ul>

</div>
</div>
<a class="anchor" id="a7339d35885ec57312dd9b833641fed3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindSdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Sdt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find settlement date in LdPri. </p>
<p>Find settlement date in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Sdt</td><td>(out) Settlement date. Pointer to the date in LdPri.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 07/Sep/2000. Add warning </li>
</ul>

</div>
</div>
<a class="anchor" id="a1de5e2a7ce849aae5066762d81bbbd64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindSpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Spc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a market spread in LdPri. </p>
<p>Find a market spread in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Spc</td><td>(OUT) Contract spread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 21/Oct/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="a79bb1a5dad77d8de55881a0f0c23f9ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindSpcVld </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>Vld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the validity flag of a market spread in LdPri. </p>
<p>Find the validity flag of a market spread in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Vld</td><td>(OUT) Validity flag</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 21/Oct/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a2b2314da1547cdfb4049e51107bfa347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindSpr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Spr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a spread in LdPri. </p>
<p>Find a spread in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Spr</td><td>(out) Contract spread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 31/Oct/2000 </dd></dl>

</div>
</div>
<a class="anchor" id="ab9d7d1470697ae84a54b78da5eadede1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindSsy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Dlt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cvx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Yld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a delta and yield of a bond contract. </p>
<p>Find a delta and yield of a bond contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Dlt</td><td>(out) Delta. </td></tr>
    <tr><td class="paramname">Cvx</td><td>(out) Convexity </td></tr>
    <tr><td class="paramname">Yld</td><td>(out) Yield in % format.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 22/Jul/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Isma ETXEBERRIA &amp;&amp; Edurne GORDOA - 17/May/2000. MKTpriFindDlt renamed to MKTpriFindSsy</li>
<li>Basilio TAMAYO - 07/Sep/2000. Add warning</li>
<li>Basilio TAMAYO - 11/Sep/2000. Also return convexity </li>
</ul>

</div>
</div>
<a class="anchor" id="a5c6ab0fb5666d492c4b7ddd80cb6638f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindTac </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Tac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a accrued until tomorrow date for a contract in LdPri One important thing to be considered with this value is that on the previous date of the the coupon end, the accrued coupon amount will be 0.0. It is considered that 'tomorrow' is in the next coupon. </p>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTION MKTpriGetPriZero ().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Tac</td><td>(out) Accrued of tomorrow</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 14/Dec/2012 </dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 08/Oct/2013: Set a DYNcbnChk to detect easier a possible error if any column does not exist </li>
</ul>

</div>
</div>
<a class="anchor" id="a5679992395b0e7ce5eebb00bb86739b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindTaf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Taf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a 'full' accrued until tomorrow date for a contract in LdPri One important thing to be considered with this value is that on the previous date of the coupon end, the full coupon will be considered as accrued. </p>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTION MKTpriGetPriZero ().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract code </td></tr>
    <tr><td class="paramname">Taf</td><td>(out) Tomorrow accrued full</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 04/Sep/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="ad5f41f33e183edbf38eb29f64f6da979"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindVac </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Vac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a accrued in value date in LdPri. </p>
<p>Find a accured in value date in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Vac</td><td>(out) Bond accrued</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 15/May/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="a5928174e080ca3dec86f0497ed650ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindVal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ErrChk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a value in LdPri. </p>
<p>Find a value in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">ErrChk</td><td>Flag that indicates if errors must be taken in account (0:no; 1:yes) </td></tr>
    <tr><td class="paramname">Val</td><td>(out) Bond value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code 0: Ok -1: Not found</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ramon MARTINEZ - 24/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 29/Sep/2000. Added the ErrChk parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a7c6f1dc978133d5b324cfefb377df545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFindValVld </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>Vld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a value in LdPri. </p>
<p>Find a value in LdPri for a contract and returns also the validity flag. If the contract is not found it returns -1 in the validity flag</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Val</td><td>(out) Bond value </td></tr>
    <tr><td class="paramname">Vld</td><td>(out) Validity flag (0 if OK)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 15/Mar/2016 </dd></dl>

</div>
</div>
<a class="anchor" id="af7ff56f6f86957be6183488f17fdff2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFlt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IsCur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter bond prices list getting only the necessary one. No controls are done. </p>
<p>Filter bond prices list getting only the necessary one. No controls are done</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">IsCur</td><td>Current or historic data (datCur: Current, datHis: Historic) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 03/Feb/2014 </dd></dl>

</div>
</div>
<a class="anchor" id="afbf53467e35556bfff78c8d7c755e110"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriFndPriVld </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Cpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>Vld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find clean price and validity flag in LdPri for a contract. </p>
<p>Find clean price and validity flag in LdPri for a contract. If the contract is missing in the list of prices, indicate it with validity flag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Cpc</td><td>(out) Bond clean price </td></tr>
    <tr><td class="paramname">Vld</td><td>(out) Validity flag (0 if OK)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/May/2011 </dd></dl>

</div>
</div>
<a class="anchor" id="a6d09a6bf6eec4d79c7bf1cfd73598353"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetCtr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all bond contracts without restrictions. </p>
<p>Get the list of all bond contracts without restrictions</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias (NULL, current connection) </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(out) List of bond contracts (cod, prd, dev, ech)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0:Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Dec/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>David IGLESIAS - 10/Jul/2002: delete the condicion "cc_act = 1" because there can be contracts closed but with pending actions.</li>
<li>Basilio TAMAYO - 01/Dec/2009: Add isin code in new column isn.</li>
<li>Lorea NAVARRO - 29/Oct/2012: Modification in header to avoid doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a559e0d254e03566f1246875bafdfa66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetHis </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktHis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bond prices historic data retrieval. </p>
<p>Bond prices historic data retrieval</p>
<ul>
<li>If the database connection is MO, it will take historic market data</li>
<li>If the database connection is FO, it will take historic market data for the given treatment, for example, revaluation</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Historisation date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">Trt</td><td>Treatment for which the historic market data must be recovered in case of FO book. if it is empty or NULL, revaluation treatment will be used. </td></tr>
    <tr><td class="paramname">MktHis</td><td>Flag to get all market data (mkt_his_all) or only used prices (mkt_his_use) </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 26/Jul/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 06/Aug/1999</li>
<li>Josune BIKUNA - 26/Aug/1999: Sort by 'cod' column</li>
<li>Basilio TAMAYO - 15/Sep/2000. Get also column src</li>
<li>Gotzon ETXEBERRIA - 07/Mar/2002: Free LdSpc</li>
<li>Edurne GORDOA - 27/Feb/2002. Modifications to get historic data from correct table depending on if we are in FOX or GV</li>
<li>Gotzon ETXEBERRIA - 14/Mar/2002: use mkt_dta_trt_aud</li>
<li>Basilio TAMAYO - 16/May/2006: Add parameter MktHis</li>
<li>Basilio TAMAYO - 17/Oct/2007: Get also prices from mkt_dta_his_arc table.</li>
<li>Josune BIKUNA - 01/Nov/2007: Add treatment parameter (Trt) for indicating which is the treatment the market data must be recovered for</li>
<li>Basilio TAMAYO - 16/Feb/2012: Use standard function MKTgetHisDta </li>
</ul>

</div>
</div>
<a class="anchor" id="adfe80d570142830f12f11e75fbdc1ab5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetMul </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load bond prices multiple date into a single data structure, LdMkt. </p>
<p>Load bond prices multiple date into a single data structure, LdMkt Load in market data structure two objects</p>
<ul>
<li>Bpm: list of market data for above dates</li>
<li>Bpd: list of historic dates</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 07/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 25/Nov/2002: Add spread and yield curve for each market data</li>
<li>Josune BIKUNA - 27/Dec/2002. Get also multi-date prices for LdBndcBdeNotAs</li>
<li>Alex RODRIGUEZ - 29/Jul/2003. Initialise Vble. 'IsGv' at the init of function, to avoid lint warnings.</li>
<li>Ruben GIL -09/Nov/2006: Add Pas variable in CSTreadPasDB function</li>
<li>Basilio TAMAYO - 16/Feb/2012: Add fields Idx and Vdt. </li>
</ul>

</div>
</div>
<a class="anchor" id="acecc0448c59174efb7f3b1a363099c6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetPri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load bond prices into a single data structure, LdMkt. </p>
<p>Load bond prices into a single data structure, LdMkt</p>
<ul>
<li>Get also the prices for asset swap deals in the same price list. These prices will correspond to synthetic bond contracts formed from the information of the bond and swap contracts of the asset swap deals, this is, they will be similar to the bond contract but with the swap schedule which is not matched, so each price will correspond to an asset swap deal.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Pro</td><td>Profile </td></tr>
    <tr><td class="paramname">LdTra</td><td>Deals object </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>MODIFICATIONS ON THIS FUNCTION MUST TAKE INTO ACCOUNT THE FUNCTIONS MKTpriGetPriZero (), MKTpriGetHis ().</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 16/Mar/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 25/Jun/1999: Add LdBndo</li>
<li>Isma ETXEBERRIA &amp; Mikel ARETXAGA - 30/Aug/1999: Add LdFutc and LdFuto</li>
<li>Josune BIKUNA - 24/Jul/2002. In the prices list, add the prices for asset swap deals. Each asset swap deal will have a different price although the bond contract is the same, as it depends on the swap contract.</li>
<li>Josune BIKUNA - 27/Dec/2002. Get also proces for LdBndcBdeNotAs, LdBndcBdeAs</li>
<li>Edurne GORDOA - 30/Sep/2003: Get also prices for cdo cash</li>
<li>Manuel SANMARTIN - 19/Jul/2007: Remove cdo, dont need get bond price for cdo. </li>
</ul>

</div>
</div>
<a class="anchor" id="adf9629d99c3e24c0543dee60606fe4a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetPriZero </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a price list for the BdE next date (useless) </p>
<p>Create a price list for the BdE next date (useless).</p>
<ul>
<li>This list is created to ensure that all prices are available with a value of 0.0 because it's used for matured deals.</li>
<li>Get also the prices for asset swap deals in the same price list. These prices will correspond to synthetic bond contracts formed from the information of the bond and swap contracts of the asset swap deals, this is, they will be similar to the bond contract but with the swap schedule which is not matched, so each price will correspond to an asset swap deal.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTra</td><td>Deal list </td></tr>
    <tr><td class="paramname">LdMkt</td><td>(in/out) Market data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 29/Jun/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 27/Oct/2003. Add the 'spc' (market spread) column in the price list</li>
<li>Gema ACHA - 30/Jun/2006: Set LdTra as parameter. Get the prices for asset swap deals</li>
<li>Josune BIKUNA - 06/Jul/2006: Add the management of LdBndcBdeNotAs, LdBndcBdeAs lists</li>
<li>Jon BARRUTIA - 08/Oct/2013: Add dac and tac columns</li>
<li>Josune BIKUNA - 04/Sep/2014: Add taf column (tomorrow accrued full) </li>
</ul>

</div>
</div>
<a class="anchor" id="a90d9340ff4f2dbd6328144339aac14a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriGetStock </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Typ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdPri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve bond contracts required by the stock. </p>
<p>Retrieve bond contracts required by the stock</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias (NULL, current connection) </td></tr>
    <tr><td class="paramname">Typ</td><td>mkt typ: 'Bnd' or 'Spc' </td></tr>
    <tr><td class="paramname">Inc</td><td>Include deals: "All", "Cash" or "Repo" </td></tr>
    <tr><td class="paramname">LdPri</td><td>(out) List of bond stock (cod, prd, dev, ech, isn) sorted by prd, ctr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 28/Apr/1999</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 19/Aug/1999. Substitute DYNlookUpInfo with DYNlookUp</li>
<li>Basilio TAMAYO - 15/Jun/2000. Bug using LdPri</li>
<li>Basilio TAMAYO - 15/Sep/2000. Get also column src</li>
<li>Basilio TAMAYO - 26/Jan/2001. Parameter Inc instead of Rep</li>
<li>Alex RODRIGUEZ - 29/Jul/2003. Avoid lint warnings. Initialise Vbles: 'WheCsh', 'WheRep' and 'WheNat'.</li>
<li>Basilio TAMAYO - 22/Aug/2003: Parameter Inc is not well treated in case of 'Repo'</li>
<li>Basilio TAMAYO - 01/Dec/2009: Use standard JOINs.</li>
<li>Basilio TAMAYO - 01/Dec/2009: Add isin code in new column isn.</li>
<li>Ruben GIL - 05/Jun/2012: Take into account future position </li>
</ul>

</div>
</div>
<a class="anchor" id="aa5e04ecd14c7976378b63aa3feb7dc2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriPrcCalCco </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>DatCal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>RndPrx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Typ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific calculations of bond pricers 'Yield from price' or 'Price from yield'. </p>
<p>Specific calculations of bond pricers 'Yield from price' ou 'Price from yield' to calculate the accrued coupon. The results are returned if a list. Depending on the value of the calculation type the results will be different:</p>
<ul>
<li>If the calculation type is 1, this is, 'Accrued', the returned list will have the columns:</li>
<li>- 'CalVal': accrued</li>
<li>- 'Sns' : nb days of accrued</li>
</ul>
<ul>
<li>If the calculation type is 2 or 3, this is, 'Price form yield' or 'Yield from price', the returned list will have the columns:</li>
<li>- 'CalVal': price if 'price from yield' and yield if 'yield from price'</li>
<li>- 'Sns' : sensibilite</li>
<li>- 'Cnv' : convexite</li>
<li>- 'Drt' : duration</li>
<li>- 'Cpr' : cpc (Clean price)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdCtr</td><td>List with the contrat information </td></tr>
    <tr><td class="paramname">DatCal</td><td>Calculation date </td></tr>
    <tr><td class="paramname">RndPrx</td><td>Bond contract price (always in dirty price) </td></tr>
    <tr><td class="paramname">Typ</td><td>Calculation type. 1: Accrued; 2: Price form yield; 3: Yield from price </td></tr>
    <tr><td class="paramname">LdRes</td><td>(OUT) Result list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Obtained from ContFin.c file of FIT project.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 16/Jun/2011:</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 13/Jul/2011: Reorganice funtion to manage Typ == 2 and Typ == 3 cases. </li>
</ul>

</div>
</div>
<a class="anchor" id="a73854be86f712f3b9f3735e5eb6bef1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriSavDef </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save default prices for bonds, futures and equities in a list of books. </p>
<p>Save default prices for bonds, futures and equities in a list of books In each als, get the list of bond, future and equities without prices for each official profile and set its val to 100.0 or 10.0, according to the quotation type, in current and historic data tables</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to save data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 29/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 21/Dec/2016. Use MKTgetOffPro to get list of profiles. </li>
</ul>

</div>
</div>
<a class="anchor" id="a9ba888e0e39d9b15186997c82f9f1c6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriSetDpc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Dpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a dirty price in LdPri. </p>
<p>Set a dirty price in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Dpc</td><td>Bond dirty price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Oct/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="ac6fd5b1502305f46eb6f026443fa559c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriSetPri </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a clean price in LdPri. </p>
<p>Set a clean price in LdPri for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Pri</td><td>Bond clean price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Oct/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="a550b2e1bc94ac9b172878eacb5bc7ed4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriSetVal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a clean price in LdPri in 'val' column. </p>
<p>Set a clean price in LdPri in 'val' column for a contract</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdPri</td><td>Bond price list </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract </td></tr>
    <tr><td class="paramname">Val</td><td>Bond price</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 28/Oct/2003 </dd></dl>

</div>
</div>
<a class="anchor" id="a348014383f4c33e91b99096128dafb2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTpriUpdQuo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update existing market data whose quotation has changed. </p>
<p>Update existing market data whose quotation has changed.</p>
<ul>
<li>In current book update the current and historic market data for the list of codes</li>
<li>In the books to diffuse, update only the current market data.</li>
<li><p class="startli">If the quoation type of a contract has changed, besides updating market data, the contract has to be updated. The contract has a field (cb_typ) which stores this information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database conexion. </td></tr>
    <tr><td class="paramname">LdCod</td><td>List of codes with change of quotation: cod, imc, OldQuo, NewQuo, OldQtp, NewQtp</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 16/May/2005</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 25/May/2005: Get all distinct pairs of val-dat for each imc.</li>
<li>Josune BIKUNA - 22/Jun/2006: If the quoation type ('price', 'yield') of a contract has been changed (price -&gt; yield or yield -&gt; price), the contract has to be update. The contract has a field (cb_typ) which stores this information.</li>
<li>Ismael SERRANO - 22/Aug/2006: Use AluDff instead of MktDff</li>
<li>Basilio TAMAYO - 17/Oct/2008: Add new parameter Dev in AFUprdQuoCnvPrx </li>
</ul>
</li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mkt_pri_8c.html">mktPri.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:50 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
