<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/mktXch.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mkt_xch_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mktXch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Specific functions for import/export of market data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;alu_types.h&gt;</code><br/>
<code>#include &lt;bookAccess.h&gt;</code><br/>
<code>#include &lt;carDef.h&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;chaine.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;fmt_def.h&gt;</code><br/>
<code>#include &lt;fmtNum_def.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;gut_def.h&gt;</code><br/>
<code>#include &lt;itf_def.h&gt;</code><br/>
<code>#include &lt;mb_def.h&gt;</code><br/>
<code>#include &lt;osd_def.h&gt;</code><br/>
<code>#include &lt;osdDef.h&gt;</code><br/>
<code>#include &lt;str_def.h&gt;</code><br/>
<code>#include &lt;systeme.h&gt;</code><br/>
<code>#include &lt;tm_def.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu__types_8h_source.html">afu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="afu_blb_def_8h_source.html">afuBlbDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mkt__def_8h_source.html">mkt_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5a4c573d0a52dc3bce6330971b808f93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a5a4c573d0a52dc3bce6330971b808f93">MKT_XCH_TRT</a>&#160;&#160;&#160;7015</td></tr>
<tr class="separator:a5a4c573d0a52dc3bce6330971b808f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ffaa17a80b3c859760754947aee753"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#ac8ffaa17a80b3c859760754947aee753">SCH_NOT_FOUND</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ac8ffaa17a80b3c859760754947aee753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbed0bac44c7b6e9ebc8373d1cd50870"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#afbed0bac44c7b6e9ebc8373d1cd50870">NO_MATCH_UMC</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:afbed0bac44c7b6e9ebc8373d1cd50870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e56afaeca9cfb0b5cc40fededd3d6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a62e56afaeca9cfb0b5cc40fededd3d6a">SCH_KO</a>&#160;&#160;&#160;21</td></tr>
<tr class="separator:a62e56afaeca9cfb0b5cc40fededd3d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8ec2f3d6d20c3ed1f45b77ddf0027a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a1d8ec2f3d6d20c3ed1f45b77ddf0027a">FIL_NOT_FOUND</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:a1d8ec2f3d6d20c3ed1f45b77ddf0027a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f14b3faae853d3daddf4e51264ebfc2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a2f14b3faae853d3daddf4e51264ebfc2">NOT_DTA</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:a2f14b3faae853d3daddf4e51264ebfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b8761150d76d366bc0ac2d20635bc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a24b8761150d76d366bc0ac2d20635bc6">NO_MATCH_BLB</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a24b8761150d76d366bc0ac2d20635bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0484f39b28c547d6588857da84225fe6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a0484f39b28c547d6588857da84225fe6">NO_PRX_DEF</a>&#160;&#160;&#160;25</td></tr>
<tr class="separator:a0484f39b28c547d6588857da84225fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7ce86e4e66aeda9703e95a06099c7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#abe7ce86e4e66aeda9703e95a06099c7d">BLB_MKT_NOT_CFG</a>&#160;&#160;&#160;26</td></tr>
<tr class="separator:abe7ce86e4e66aeda9703e95a06099c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9e14fe32116fab8ed48b0c8d9ebdb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a4f9e14fe32116fab8ed48b0c8d9ebdb4">BLB_HIS_MKT_FRQ_UNK</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:a4f9e14fe32116fab8ed48b0c8d9ebdb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907f603deec525f15176d2dee52a8a2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a907f603deec525f15176d2dee52a8a2c">XCH_MSG_DAT</a>&#160;&#160;&#160;40</td></tr>
<tr class="separator:a907f603deec525f15176d2dee52a8a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061471e289e90a17a0cf9dd6324f65fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a061471e289e90a17a0cf9dd6324f65fc">NO_MATCH_DAT</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a061471e289e90a17a0cf9dd6324f65fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3794ad0d64b2fc9568d11b241ec11146"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a3794ad0d64b2fc9568d11b241ec11146">FUT_MKT_DAT</a>&#160;&#160;&#160;60</td></tr>
<tr class="separator:a3794ad0d64b2fc9568d11b241ec11146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41c6a1815ad7c80f2c1dd999cd54847"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#ad41c6a1815ad7c80f2c1dd999cd54847">IMP_SCHEMA_NAME</a>&#160;&#160;&#160;&quot;mkt_imp0_schema&quot;</td></tr>
<tr class="separator:ad41c6a1815ad7c80f2c1dd999cd54847"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a95ee8c03e40210c1b571753ffb228a53"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a95ee8c03e40210c1b571753ffb228a53">lcMKTxchBlbAddKeyCod</a> (void *LdMcd, void *LdDta)</td></tr>
<tr class="memdesc:a95ee8c03e40210c1b571753ffb228a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the Bloomberg code to every market datum.  <a href="#a95ee8c03e40210c1b571753ffb228a53"></a><br/></td></tr>
<tr class="separator:a95ee8c03e40210c1b571753ffb228a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d251a99ff2bc2891b8b03f4684eb6f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a3d251a99ff2bc2891b8b03f4684eb6f7">lcMKTxchBlbHisRqtWriHea</a> (FILE *Fd, int BlbTsk, char *BlbUsr, char *LnkUsr, char *LnkSnb, char *LnkWks, char *AnsFil, char *Bdt, char *Edt, int PrxFrq, int MktPrxTyp, int ExcSrc, char *PrxSrc)</td></tr>
<tr class="memdesc:a3d251a99ff2bc2891b8b03f4684eb6f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header of Bloomberg historic request filename.  <a href="#a3d251a99ff2bc2891b8b03f4684eb6f7"></a><br/></td></tr>
<tr class="separator:a3d251a99ff2bc2891b8b03f4684eb6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59228253243c491aaa2930a40822d760"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a59228253243c491aaa2930a40822d760">lcMKTxchBlbRqtWriHea</a> (FILE *Fd, int BlbTsk, char *BlbUsr, char *LnkUsr, char *LnkSnb, char *LnkWks, char *AnsFil, int MktDatTyp, int MktPrxTyp, int ExcSrc, char *Dat)</td></tr>
<tr class="memdesc:a59228253243c491aaa2930a40822d760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header of Bloomberg request filename.  <a href="#a59228253243c491aaa2930a40822d760"></a><br/></td></tr>
<tr class="separator:a59228253243c491aaa2930a40822d760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecc6f0e5b43771fb2a85e9e4549646d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#afecc6f0e5b43771fb2a85e9e4549646d">lcMKTxchImpGen</a> (void *Ctx, void *LdMkt, int SavTyp, void *LdAlsNdf, void *LdAlsTdb, void *LdPro)</td></tr>
<tr class="memdesc:afecc6f0e5b43771fb2a85e9e4549646d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard import of general market data.  <a href="#afecc6f0e5b43771fb2a85e9e4549646d"></a><br/></td></tr>
<tr class="separator:afecc6f0e5b43771fb2a85e9e4549646d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5ab6aafc1a6337843491213488e0b1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a2e5ab6aafc1a6337843491213488e0b1">lcMKTxchImpSpo</a> (void *Ctx, void *LdSpo, void *LdAls, int SavTyp)</td></tr>
<tr class="memdesc:a2e5ab6aafc1a6337843491213488e0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard import of spots.  <a href="#a2e5ab6aafc1a6337843491213488e0b1"></a><br/></td></tr>
<tr class="separator:a2e5ab6aafc1a6337843491213488e0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512c5b251618231b3d3cf5eff80ffb70"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a512c5b251618231b3d3cf5eff80ffb70">lcMKTxchImpFxg</a> (void *Ctx, void *LdFxg, void *LdAls)</td></tr>
<tr class="memdesc:a512c5b251618231b3d3cf5eff80ffb70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard import of fixing market data.  <a href="#a512c5b251618231b3d3cf5eff80ffb70"></a><br/></td></tr>
<tr class="separator:a512c5b251618231b3d3cf5eff80ffb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519fe0f163d24d3551ec760bb00c03f1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a519fe0f163d24d3551ec760bb00c03f1">lcMKTxchCnvDev</a> (void *Ctx, void **LdDta)</td></tr>
<tr class="memdesc:a519fe0f163d24d3551ec760bb00c03f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert market data values that depend on the currency.  <a href="#a519fe0f163d24d3551ec760bb00c03f1"></a><br/></td></tr>
<tr class="separator:a519fe0f163d24d3551ec760bb00c03f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85ba9c72ee777507f736d9b6e483a96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#af85ba9c72ee777507f736d9b6e483a96">lcMKTxchCnvDevTyp</a> (void *Ctx, char *MktTyp, void **LdDta)</td></tr>
<tr class="memdesc:af85ba9c72ee777507f736d9b6e483a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert market data values that depend on the currency.  <a href="#af85ba9c72ee777507f736d9b6e483a96"></a><br/></td></tr>
<tr class="separator:af85ba9c72ee777507f736d9b6e483a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc6dbe54bc60322107572536c020171"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a5dc6dbe54bc60322107572536c020171">lcMKTxchCnvMod</a> (void **LdDta)</td></tr>
<tr class="memdesc:a5dc6dbe54bc60322107572536c020171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert market data from decimal mode into the corresponding mode.  <a href="#a5dc6dbe54bc60322107572536c020171"></a><br/></td></tr>
<tr class="separator:a5dc6dbe54bc60322107572536c020171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68761c60e79c3c84866e45ffa642cd84"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a68761c60e79c3c84866e45ffa642cd84">lcMKTxchBlbCloPrx</a> (void *Ctx, void *LdMcd, void **LdMcdClo, void **LdMcdLst)</td></tr>
<tr class="memdesc:a68761c60e79c3c84866e45ffa642cd84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Separate market data with closed prices and those that only have last price.  <a href="#a68761c60e79c3c84866e45ffa642cd84"></a><br/></td></tr>
<tr class="separator:a68761c60e79c3c84866e45ffa642cd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30f9f21a452eb5110cd2ac6e597ddf7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#aa30f9f21a452eb5110cd2ac6e597ddf7">lcMKTxchBlbSepTyp</a> (void *Ctx, void *LdMcd, char *MktTyp, void **LdMcdAll, void **LdMcdTyp)</td></tr>
<tr class="memdesc:aa30f9f21a452eb5110cd2ac6e597ddf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Separate market data of one type and that are valid to get from Bloomberg.  <a href="#aa30f9f21a452eb5110cd2ac6e597ddf7"></a><br/></td></tr>
<tr class="separator:aa30f9f21a452eb5110cd2ac6e597ddf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a6ecac32335dc03e5ce44cb6c5b31a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a44a6ecac32335dc03e5ce44cb6c5b31a">lcMKTxchBlbGetCurDta</a> (void *Ctx, char *BlbAcc, int BlbTsk, int *RqtKey, int *Ord, void *LdMcd, int MktDatTyp, int MktPrxTyp, int ExcSrc, char *Dat, void **LdDta)</td></tr>
<tr class="memdesc:a44a6ecac32335dc03e5ce44cb6c5b31a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask a set of current prices to Bloomberg Data License.  <a href="#a44a6ecac32335dc03e5ce44cb6c5b31a"></a><br/></td></tr>
<tr class="separator:a44a6ecac32335dc03e5ce44cb6c5b31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b350c448288d13dcd504844a128b109"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a9b350c448288d13dcd504844a128b109">lcMKTxchBlbGetHisDta</a> (void *Ctx, char *BlbAcc, int BlbTsk, int *RqtKey, int *Ord, void *LdMcd, char *Bdt, char *Edt, int PrxFrq, int MktPrxTyp, int ExcSrc, char *PrxSrc, void **LdDta)</td></tr>
<tr class="memdesc:a9b350c448288d13dcd504844a128b109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask a set of past prices to Bloomberg Data License.  <a href="#a9b350c448288d13dcd504844a128b109"></a><br/></td></tr>
<tr class="separator:a9b350c448288d13dcd504844a128b109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1df1f62f88b17d6f1e0d6f17eaf0e0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a7b1df1f62f88b17d6f1e0d6f17eaf0e0">lcMKTxchImpSetInf</a> (void *LdInf, char *Dat, int Src, int InfCod)</td></tr>
<tr class="memdesc:a7b1df1f62f88b17d6f1e0d6f17eaf0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an info message code for a list of keys.  <a href="#a7b1df1f62f88b17d6f1e0d6f17eaf0e0"></a><br/></td></tr>
<tr class="separator:a7b1df1f62f88b17d6f1e0d6f17eaf0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add35d472f018b491161d0d741d98bb09"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#add35d472f018b491161d0d741d98bb09">lcMKTxchBlbAddPrfSrc</a> (void *LdDta)</td></tr>
<tr class="memdesc:add35d472f018b491161d0d741d98bb09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the prefix "BLB-" to the pricing source of Bloomberg market data files.  <a href="#add35d472f018b491161d0d741d98bb09"></a><br/></td></tr>
<tr class="separator:add35d472f018b491161d0d741d98bb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25597f4ee92f4bb3e6158b87e9ed138"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#aa25597f4ee92f4bb3e6158b87e9ed138">lcMKTxchRmvCloSpo</a> (void *Ctx, int SavTyp, char *Dat, void *LdMkt)</td></tr>
<tr class="memdesc:aa25597f4ee92f4bb3e6158b87e9ed138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove spot market data that are already with close status.  <a href="#aa25597f4ee92f4bb3e6158b87e9ed138"></a><br/></td></tr>
<tr class="separator:aa25597f4ee92f4bb3e6158b87e9ed138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1ed8abac303068890cb7ef7e741809"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#abd1ed8abac303068890cb7ef7e741809">MKTxchImpReaMkt</a> (char *FulFil, void **LdImp)</td></tr>
<tr class="memdesc:abd1ed8abac303068890cb7ef7e741809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read prices from a import file.  <a href="#abd1ed8abac303068890cb7ef7e741809"></a><br/></td></tr>
<tr class="separator:abd1ed8abac303068890cb7ef7e741809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672360cc8648ca1f188b6ce2964fd89e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a672360cc8648ca1f188b6ce2964fd89e">MKTxchImpMkt</a> (void *Ctx, char *Dat, void *LdPro, int Src, int Mis, int PrvInf, void *LdAsk, void *LdImp, int SavTyp, int UpdFxgSpo)</td></tr>
<tr class="memdesc:a672360cc8648ca1f188b6ce2964fd89e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard import of market data.  <a href="#a672360cc8648ca1f188b6ce2964fd89e"></a><br/></td></tr>
<tr class="separator:a672360cc8648ca1f188b6ce2964fd89e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9daa473183055f349d3ec80c204d755d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a9daa473183055f349d3ec80c204d755d">MKTxchChkImpMkt</a> (void *Ctx, void **LdErr)</td></tr>
<tr class="memdesc:a9daa473183055f349d3ec80c204d755d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the valid market data lines.  <a href="#a9daa473183055f349d3ec80c204d755d"></a><br/></td></tr>
<tr class="separator:a9daa473183055f349d3ec80c204d755d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256e603f6ef356d3f78606cdf3cec7a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a256e603f6ef356d3f78606cdf3cec7a0">MKTxchMveMktFil</a> (char *Pth)</td></tr>
<tr class="memdesc:a256e603f6ef356d3f78606cdf3cec7a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the market data file to avoid reading it more than once.  <a href="#a256e603f6ef356d3f78606cdf3cec7a0"></a><br/></td></tr>
<tr class="separator:a256e603f6ef356d3f78606cdf3cec7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31f4e5d8042d3f44a61ee6808a37380"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#ab31f4e5d8042d3f44a61ee6808a37380">MKTxchBlbDevGetCtr</a> (void *Ctx, char *Mpr, void **LdCtr)</td></tr>
<tr class="memdesc:ab31f4e5d8042d3f44a61ee6808a37380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all contracts that have a currency non-ISO.  <a href="#ab31f4e5d8042d3f44a61ee6808a37380"></a><br/></td></tr>
<tr class="separator:ab31f4e5d8042d3f44a61ee6808a37380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c37b0eed7bb0de34da94b004262ed00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a1c37b0eed7bb0de34da94b004262ed00">MKTxchBlbDevFct</a> (void *LdCtr, char *Ctr, double *Fct)</td></tr>
<tr class="memdesc:a1c37b0eed7bb0de34da94b004262ed00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get factor to convert a value from non-ISO currency into standard ISO currency of contract.  <a href="#a1c37b0eed7bb0de34da94b004262ed00"></a><br/></td></tr>
<tr class="separator:a1c37b0eed7bb0de34da94b004262ed00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365294e07c42d12242819700d140c573"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a365294e07c42d12242819700d140c573">MKTxchGetImpPth</a> (void *Ctx, char *ImpPth)</td></tr>
<tr class="memdesc:a365294e07c42d12242819700d140c573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the path of directory where import files for market data exchange are located.  <a href="#a365294e07c42d12242819700d140c573"></a><br/></td></tr>
<tr class="separator:a365294e07c42d12242819700d140c573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d1776158d5da180ba11dd72dcbc541"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#ad9d1776158d5da180ba11dd72dcbc541">MKTxchBlbGetMkt</a> (void *Ctx, int BlbTsk, int *RqtKey, int *Ord, char *Dat, int BlbMktPrx, void *LdMcd, void **LdDta)</td></tr>
<tr class="memdesc:ad9d1776158d5da180ba11dd72dcbc541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current market data values from Bloomberg data license.  <a href="#ad9d1776158d5da180ba11dd72dcbc541"></a><br/></td></tr>
<tr class="separator:ad9d1776158d5da180ba11dd72dcbc541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890c332937274bfc2feae07d29fee68c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a890c332937274bfc2feae07d29fee68c">MKTxchBlbGetAllMcd</a> (void *Ctx, void **LdMcd)</td></tr>
<tr class="memdesc:a890c332937274bfc2feae07d29fee68c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the market data codes (FIT and Bloomberg) to ask Bloomberg for.  <a href="#a890c332937274bfc2feae07d29fee68c"></a><br/></td></tr>
<tr class="separator:a890c332937274bfc2feae07d29fee68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95417c76b0d06fee13f9ce32b447522"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#ab95417c76b0d06fee13f9ce32b447522">MKTxchBlbRqtFil</a> (int BlbTsk, char *RqtFil, char *BlbUsr, char *LnkUsr, char *LnkSnb, char *LnkWks, char *AnsFil, void *LdMcd, int MktDatTyp, int MktPrxTyp, int ExcSrc, char *Dat)</td></tr>
<tr class="memdesc:ab95417c76b0d06fee13f9ce32b447522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new request file with the market data codes that must read from Bloomberg.  <a href="#ab95417c76b0d06fee13f9ce32b447522"></a><br/></td></tr>
<tr class="separator:ab95417c76b0d06fee13f9ce32b447522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1427cf0605d3c75630d732829e1458ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a1427cf0605d3c75630d732829e1458ef">MKTxchBlbHisRqtFil</a> (int BlbTsk, char *RqtFil, char *BlbUsr, char *LnkUsr, char *LnkSnb, char *LnkWks, char *AnsFil, void *LdMcd, char *Bdt, char *Edt, int PrxFrq, int MktPrxTyp, int ExcSrc, char *PrxSrc)</td></tr>
<tr class="memdesc:a1427cf0605d3c75630d732829e1458ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new request file with historic market data codes to read from Bloomberg.  <a href="#a1427cf0605d3c75630d732829e1458ef"></a><br/></td></tr>
<tr class="separator:a1427cf0605d3c75630d732829e1458ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d232dbcca0349a323f6a51b6fc1540"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a66d232dbcca0349a323f6a51b6fc1540">MKTxchBlbGetDta</a> (char *FilNam, int MktDatTyp, char *Dat, void *LdMcd, void **LdDta)</td></tr>
<tr class="memdesc:a66d232dbcca0349a323f6a51b6fc1540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the market data values from the Bloomberg answer file.  <a href="#a66d232dbcca0349a323f6a51b6fc1540"></a><br/></td></tr>
<tr class="separator:a66d232dbcca0349a323f6a51b6fc1540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603197a9b1c6f01820a42b09b55b02e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a603197a9b1c6f01820a42b09b55b02e1">MKTxchBlbGetHisDta</a> (char *FilNam, void *LdMcd, void **LdDta)</td></tr>
<tr class="memdesc:a603197a9b1c6f01820a42b09b55b02e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the historic market data values from the Bloomberg answer file.  <a href="#a603197a9b1c6f01820a42b09b55b02e1"></a><br/></td></tr>
<tr class="separator:a603197a9b1c6f01820a42b09b55b02e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af284ce9bd627e55246cca32ba44fbfdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#af284ce9bd627e55246cca32ba44fbfdf">MKTxchBlbGetHisMkt</a> (void *Ctx, int BlbTsk, int *RqtKey, int *Ord, void *LdImc, char *Bdt, char *Edt, int PrxFrq, void **LdDta)</td></tr>
<tr class="memdesc:af284ce9bd627e55246cca32ba44fbfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get historic market data values within a period of dates from Bloomberg data license.  <a href="#af284ce9bd627e55246cca32ba44fbfdf"></a><br/></td></tr>
<tr class="separator:af284ce9bd627e55246cca32ba44fbfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3bfc8f172ba622365deecb2631273a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#adb3bfc8f172ba622365deecb2631273a">MKTxchBlbCnf</a> (void *Ctx, int BlbTsk, void *LdImc, void *LdPro, char *Dat, int BlbTyp, int MisDay, int PrvInf, int UpdFxgSpo)</td></tr>
<tr class="memdesc:adb3bfc8f172ba622365deecb2631273a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm of historic bloomberg market data.  <a href="#adb3bfc8f172ba622365deecb2631273a"></a><br/></td></tr>
<tr class="separator:adb3bfc8f172ba622365deecb2631273a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab5882607e9d69d8a8346d9b3101db48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#aab5882607e9d69d8a8346d9b3101db48">MKTxchBlbHisCnf</a> (void *Ctx, int BlbTsk, void *LdImc, void *LdPro, char *Bdt, char *Edt, int PrxFrq, int PrvInf, int UpdFxgSpo)</td></tr>
<tr class="memdesc:aab5882607e9d69d8a8346d9b3101db48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm of historic bloomberg market data.  <a href="#aab5882607e9d69d8a8346d9b3101db48"></a><br/></td></tr>
<tr class="separator:aab5882607e9d69d8a8346d9b3101db48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9493a88ed76e59945176557f59464a05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mkt_xch_8c.html#a9493a88ed76e59945176557f59464a05">MKTxchSavMisMkt</a> (void *Ctx, int BlbTsk, char *Src, int AskDay)</td></tr>
<tr class="memdesc:a9493a88ed76e59945176557f59464a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save market data that were missing in previous requests.  <a href="#a9493a88ed76e59945176557f59464a05"></a><br/></td></tr>
<tr class="separator:a9493a88ed76e59945176557f59464a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Specific functions for import/export of market data. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>MKTxch (MaKeT data eXCHange)</dd></dl>
<p>Specific functions for import/export of market data</p>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 01/Nov/2002 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4f9e14fe32116fab8ed48b0c8d9ebdb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLB_HIS_MKT_FRQ_UNK&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abe7ce86e4e66aeda9703e95a06099c7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLB_MKT_NOT_CFG&#160;&#160;&#160;26</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1d8ec2f3d6d20c3ed1f45b77ddf0027a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FIL_NOT_FOUND&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3794ad0d64b2fc9568d11b241ec11146"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FUT_MKT_DAT&#160;&#160;&#160;60</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad41c6a1815ad7c80f2c1dd999cd54847"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMP_SCHEMA_NAME&#160;&#160;&#160;&quot;mkt_imp0_schema&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5a4c573d0a52dc3bce6330971b808f93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MKT_XCH_TRT&#160;&#160;&#160;7015</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a24b8761150d76d366bc0ac2d20635bc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_MATCH_BLB&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a061471e289e90a17a0cf9dd6324f65fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_MATCH_DAT&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afbed0bac44c7b6e9ebc8373d1cd50870"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_MATCH_UMC&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0484f39b28c547d6588857da84225fe6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_PRX_DEF&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2f14b3faae853d3daddf4e51264ebfc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_DTA&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a62e56afaeca9cfb0b5cc40fededd3d6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCH_KO&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8ffaa17a80b3c859760754947aee753"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCH_NOT_FOUND&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a907f603deec525f15176d2dee52a8a2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XCH_MSG_DAT&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a95ee8c03e40210c1b571753ffb228a53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbAddKeyCod </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add the Bloomberg code to every market datum. </p>
<p>Add the Bloomberg code to every market datum.</p>
<ul>
<li><p class="startli">For every market datum, get the key returned by Bloomberg. Find this key in the different Bloomberg codes required (it may not be exactly the same key).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdMcd</td><td>List of market data Bloomberg codes. Column BlbCod. </td></tr>
    <tr><td class="paramname">LdDta</td><td>(in/out) List of market data values. Columns: Key. Add column BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 12/Jul/2010 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="add35d472f018b491161d0d741d98bb09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbAddPrfSrc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add the prefix "BLB-" to the pricing source of Bloomberg market data files. </p>
<p>Add the prefix "BLB-" to the pricing source of Bloomberg market data files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDta</td><td>(in/out) List of market data values. Columns: PrxSrc.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Sep/2010 </dd></dl>

</div>
</div>
<a class="anchor" id="a68761c60e79c3c84866e45ffa642cd84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbCloPrx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMcdClo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMcdLst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Separate market data with closed prices and those that only have last price. </p>
<p>Separate market data with closed prices and those that only have last price.</p>
<ul>
<li><p class="startli">In BLB there are some indexes that have not closed prices and must always ask for last traded price.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of all market data to ask Bloomberg for; imc, BlbCod </td></tr>
    <tr><td class="paramname">LdMcdClo</td><td>(out) Sublist of LdMcd that may be asked for closing price. </td></tr>
    <tr><td class="paramname">LdMcdLst</td><td>(out) Sublist of LdMcd that only have last price, never closed price.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Feb/2010 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a44a6ecac32335dc03e5ce44cb6c5b31a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbGetCurDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbAcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RqtKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktDatTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ask a set of current prices to Bloomberg Data License. </p>
<p>Ask a set of current prices to Bloomberg Data License.</p>
<ul>
<li><p class="startli">To ask for past/historic prices, use lcMKTxchBlbGetHisDta.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbAcc</td><td>Bloomberg account name. </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtKey</td><td>(in/out) Key of the request block. If unknown, set -1 </td></tr>
    <tr><td class="paramname">Ord</td><td>(in/out) Order of current request file in the request block. </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data codes to read from Bloomberg: BlbCod </td></tr>
    <tr><td class="paramname">MktDatTyp</td><td>Type of price to get from Bloomberg according to the date. See mkt_blb_prx_dat_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to request: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Flag to use exclusive sources </td></tr>
    <tr><td class="paramname">Dat</td><td>Date the market data is requested for. </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data values. Columns: Key, Ret, NbFld, val, dat, BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Apr/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 30/Jul/2010: Add parameter MktPrxTyp to request ask, bid or medium price.</li>
<li>Basilio TAMAYO - 23/Sep/2010: Obtain parameters to connect to Bloomberg from the Bloomberg acount name.</li>
<li>Basilio TAMAYO - 24/Nov/2010: Add parameter ExcSrc</li>
<li>Basilio TAMAYO - 30/Mar/2012: Do not duplicate request if there are several IMCs with the same Bloomberg code.</li>
<li>Basilio TAMAYO - 13/Nov/2012: Call to BLBcmmRmvErrLin to remove lines with error code</li>
<li>Basilio TAMAYO - 27/Jan/2016: Manage FTP and SFTP protocols.</li>
<li>Basilio TAMAYO - 20/Jul/2016:</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk to know if must set a request, get an answer or both at the same time.</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameter RqtFil and AnsFil in call to BLBcmmNewFilNam</li>
<li>Basilio TAMAYO - 10/Nov/2017: Audit the request. Add parameters RqtKey and Ord</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a9b350c448288d13dcd504844a128b109" title="Ask a set of past prices to Bloomberg Data License.">lcMKTxchBlbGetHisDta</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a9b350c448288d13dcd504844a128b109"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbGetHisDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbAcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RqtKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrxFrq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>PrxSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ask a set of past prices to Bloomberg Data License. </p>
<p>Ask a set of past prices to Bloomberg Data License.</p>
<ul>
<li><p class="startli">To ask for current prices, use lcMKTxchBlbGetCurDta.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbAcc</td><td>Bloomberg account name. </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtKey</td><td>(in/out) Key of the request block. If unknown, set -1 </td></tr>
    <tr><td class="paramname">Ord</td><td>(in/out) Order of current request file in the request block. </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data codes to read from Bloomberg: BlbCod, typ, imc </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date the market data is requested for. </td></tr>
    <tr><td class="paramname">Edt</td><td>End date the market data is requested for. </td></tr>
    <tr><td class="paramname">PrxFrq</td><td>Price frequency. See enum mkt_blb_frq_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to request: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Exclusive source flag. </td></tr>
    <tr><td class="paramname">PrxSrc</td><td>Price source code. It may be NULL </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data values. Columns: Key, Ret, NbFld, val, dat, BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Apr/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 23/Sep/2010: Obtain parameters to connect to Bloomberg from the Bloomberg acount name.</li>
<li>Basilio TAMAYO - 04/Jan/2012: Add parameters ExcSrc and PrxSrc.</li>
<li>Basilio TAMAYO - 30/Mar/2012: Do not duplicate request if there are several IMCs with the same Bloomberg code.</li>
<li>Basilio TAMAYO - 13/Nov/2012: Call to BLBcmmRmvErrLin to remove lines with error code</li>
<li>Basilio TAMAYO - 27/Ene/2016: Manage FTP and SFTP protocols.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk to know if must set a request, get an answer or both at the same time.</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameter RqtFil and AnsFil in call to BLBcmmNewFilNam</li>
<li>Basilio TAMAYO - 10/Nov/2017: Audit the request. Add parameters RqtKey and Ord</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a44a6ecac32335dc03e5ce44cb6c5b31a" title="Ask a set of current prices to Bloomberg Data License.">lcMKTxchBlbGetCurDta</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a3d251a99ff2bc2891b8b03f4684eb6f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbHisRqtWriHea </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>Fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkSnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkWks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AnsFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrxFrq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>PrxSrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header of Bloomberg historic request filename. </p>
<p>Write the header of Bloomberg historic request filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fd</td><td>Open file stream to write the header in. </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">BlbUsr</td><td>Bloomberg Data license user </td></tr>
    <tr><td class="paramname">LnkUsr</td><td>Bloomberg Terminal account's user to link request to. It can be NULL. </td></tr>
    <tr><td class="paramname">LnkSnb</td><td>Bloomberg Terminal account's serial number to link request to. </td></tr>
    <tr><td class="paramname">LnkWks</td><td>Bloomberg Terminal account's workstation number to link request to. </td></tr>
    <tr><td class="paramname">AnsFil</td><td>Complete name of the Bloomberg answer filename </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the historic prices </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the historic prices </td></tr>
    <tr><td class="paramname">PrxFrq</td><td>Price frequency. See enum mkt_blb_frq_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to ask for: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Exclusive source flag. </td></tr>
    <tr><td class="paramname">PrxSrc</td><td>Price source code. It may be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 02/Mar/2010: Add PrxFrq: price frequency.</li>
<li>Basilio TAMAYO - 22/Jul/2010: Add default pricing source if the AO has a value.</li>
<li>Basilio TAMAYO - 23/Jul/2010: Get field to get also pricing source.</li>
<li>Basilio TAMAYO - 30/Jul/2010: Add parameter MktPrxTyp to get ask, bid or medium price.</li>
<li>Basilio TAMAYO - 03/Aug/2010: Delete field PRICING_SOURCE and add flag DISPLAY_PRICING_SRC</li>
<li>Basilio TAMAYO - 23/Sep/2010: Add a second field for prices in case the first field returns no price. If ask for medium prices, add also the bid price; if ask for bid or ask prices, add also the medium price.</li>
<li>Basilio TAMAYO - 03/Jan/2012: Remove second market data price.</li>
<li>Basilio TAMAYO - 04/Jan/2012: Add parameters ExcSrc and PrxSrc</li>
<li>Basilio TAMAYO - 17/Jan/2012: Use BLBcmmRqtWriHeaLnk to link to terminal account.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk and check if the Data License account is of type MDS to decide what programflag should use.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a59228253243c491aaa2930a40822d760" title="Write the header of Bloomberg request filename.">lcMKTxchBlbRqtWriHea</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a59228253243c491aaa2930a40822d760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbRqtWriHea </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>Fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkSnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkWks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AnsFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktDatTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header of Bloomberg request filename. </p>
<p>Write the header of Bloomberg request filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fd</td><td>Open file stream to write the header in. </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">BlbUsr</td><td>Bloomberg user </td></tr>
    <tr><td class="paramname">LnkUsr</td><td>Bloomberg Terminal account's user to link request to. It can be NULL. </td></tr>
    <tr><td class="paramname">LnkSnb</td><td>Bloomberg Terminal account's serial number to link request to. </td></tr>
    <tr><td class="paramname">LnkWks</td><td>Bloomberg Terminal account's workstation number to link request to. </td></tr>
    <tr><td class="paramname">AnsFil</td><td>Complete name of the Bloomberg answer filename </td></tr>
    <tr><td class="paramname">MktDatTyp</td><td>Price to get from Bloomberg. See mkt_blb_prx_dat_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to request: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Flag of exclusive source </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to get the prices for. Only used for mkt_blb_prx_his prices.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jun/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Aug/2009: Add a field for the date of prices.</li>
<li>Basilio TAMAYO - 29/Jan/2010: Change field to get close prices: PX_YEST_CLOSE.</li>
<li>Basilio TAMAYO - 19/Mar/2010: Add parameter LnkUsr, LnkSnb and LnkWks.</li>
<li>Basilio TAMAYO - 22/Jul/2010: Add default pricing source if the AO has a value.</li>
<li>Basilio TAMAYO - 23/Jul/2010: Get field to get also pricing source.</li>
<li>Basilio TAMAYO - 30/Jul/2010: Add parameter MktPrxTyp to get ask, bid or medium price.</li>
<li>Basilio TAMAYO - 23/Sep/2010: Add a second field for prices in case the first field returns no price. If ask for medium prices, add also the bid price; if ask for bid or ask prices, add also the medium price.</li>
<li>Basilio TAMAYO - 24/Nov/2010: Not add generic pricing source because to make exclusive source it must be an overwrite of pricing source.</li>
<li>Basilio TAMAYO - 03/Jan/2012: Remove second market data price.</li>
<li>Basilio TAMAYO - 17/Jan/2012: Use BLBcmmRqtWriHeaLnk to link to terminal account.</li>
<li>Basilio TAMAYO - 20/Apr/2012: In case of last price, get the date in exchange time, and if it does not exist, the date in local time. Date in exchange time is only valid for equity.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk and check if the Data License account is of type MDS to decide what programflag should use.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a3d251a99ff2bc2891b8b03f4684eb6f7" title="Write the header of Bloomberg historic request filename.">lcMKTxchBlbHisRqtWriHea</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa30f9f21a452eb5110cd2ac6e597ddf7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchBlbSepTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MktTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMcdAll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMcdTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Separate market data of one type and that are valid to get from Bloomberg. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of all market data to ask Bloomberg for; imc, BlbCod </td></tr>
    <tr><td class="paramname">MktTyp</td><td>Market data type to separate. See macro MKT_TYP (<a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a>) for details </td></tr>
    <tr><td class="paramname">LdMcdAll</td><td>(out) Sublist of LdMcd with market data type different from the specified </td></tr>
    <tr><td class="paramname">LdMcdTyp</td><td>(out) Sublist of LdMcd of specified type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Apr/2010 </dd></dl>

</div>
</div>
<a class="anchor" id="a519fe0f163d24d3551ec760bb00c03f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchCnvDev </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert market data values that depend on the currency. </p>
<p>Convert market data values that depend on the currency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdDta</td><td>(in/out) Market data list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Nov/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="af85ba9c72ee777507f736d9b6e483a96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchCnvDevTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>MktTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert market data values that depend on the currency. </p>
<p>Convert market data values that depend on the currency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">MktTyp</td><td>Market data type </td></tr>
    <tr><td class="paramname">LdDta</td><td>(in/out) Market data list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Nov/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 25/Nov/2009: Bloomberg currency is in field cf_pay.</li>
<li>Basilio TAMAYO - 09/Dec/2009: Only when the equivalent currency is the contract currency.</li>
<li>Basilio TAMAYO - 10/Dec/2009: Only convert price if the value is valid.</li>
<li>Basilio TAMAYO - 14/Dec/2009: Only convert price if the value is valid. </li>
</ul>

</div>
</div>
<a class="anchor" id="a5dc6dbe54bc60322107572536c020171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchCnvMod </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert market data from decimal mode into the corresponding mode. </p>
<p>Convert market data from decimal mode into the corresponding mode</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDta</td><td>(in/out) Market data list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 29/Apr/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 04/May/2011: Correct compilation warning </li>
</ul>

</div>
</div>
<a class="anchor" id="a512c5b251618231b3d3cf5eff80ffb70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchImpFxg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFxg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Standard import of fixing market data. </p>
<p>Standard import of fixing market data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdFxg</td><td>Fixing market data list </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to diffuse, terminal and intermediary books.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 06/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 18/Dec/2002: Sort list of fixing by imc before calling MKTfxgCalSav</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk] </li>
</ul>

</div>
</div>
<a class="anchor" id="afecc6f0e5b43771fb2a85e9e4549646d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchImpGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAlsNdf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAlsTdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPro</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Standard import of general market data. </p>
<p>Standard import of general market data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMkt</td><td>Market data list </td></tr>
    <tr><td class="paramname">SavTyp</td><td>Type of saving. See mkt_sav_typ in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a> </td></tr>
    <tr><td class="paramname">LdAlsNdf</td><td>List of books with other books in diffusion </td></tr>
    <tr><td class="paramname">LdAlsTdb</td><td>List of terminal diffusion books </td></tr>
    <tr><td class="paramname">LdPro</td><td>List of market data profiles</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 11/Feb/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 7/Apr/2003: MKT_SAV_SNG -&gt; MKT_SAV_DTA to save data also for the secondary profiles * when the selected profile is the main one.</li>
<li>Alex RODRIGUEZ - 11/Jul/2003. MKT_SAV_DTA &ndash;&gt; MKT_SAV_SNG, to not save data for the secondary profiles.</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Basilio TAMAYO - 06/Feb/2009: Divide books to diffuse between terminal and intermediary ones.</li>
<li>Basilio TAMAYO - 18/Nov/2009: Change parameter Pro with LdPro</li>
<li>Basilio TAMAYO - 11/Dec/2009: Remove parameter Src. Same behaviour for all.</li>
<li>Basilio TAMAYO - 22/Sep/2011: Add parameter SavTyp.</li>
<li>Basilio TAMAYO - 24/Aug/2012: Add market data dictionary in before saving market data not to have so many entries in dictionary table.</li>
<li>Basilio TAMAYO - 07/Nov/2012: If market date is after application date, set an info.</li>
<li>Basilio TAMAYO - 20/Sep/2013: Not set an info for dates after application date, it is already done before the call to this function. Remove argument AppDat.</li>
<li>Basilio TAMAYO - 20/Sep/2013: Case that column "val" is already renamed as "new" </li>
</ul>

</div>
</div>
<a class="anchor" id="a7b1df1f62f88b17d6f1e0d6f17eaf0e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchImpSetInf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdInf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>InfCod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an info message code for a list of keys. </p>
<p>Set an info message code for a list of keys.</p>
<ul>
<li><p class="startli">Join the key (umc for standard source and BlbCod for market data from Bloomberg) and the code And set both as the description of the info message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdInf</td><td>List of info keys. </td></tr>
    <tr><td class="paramname">Dat</td><td>Date the prices are for. </td></tr>
    <tr><td class="paramname">Src</td><td>Source type: See enum mkt_src in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a> for details. </td></tr>
    <tr><td class="paramname">InfCod</td><td>Info message code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Nov/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Sep/2013. Add date of market data in the message too </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a2e5ab6aafc1a6337843491213488e0b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchImpSpo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSpo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Standard import of spots. </p>
<p>Standard import of spots</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdSpo</td><td>List of spot market data </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of alias </td></tr>
    <tr><td class="paramname">SavTyp</td><td>Type of saving. See mkt_sav_typ in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 11/Feb/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Basilio TAMAYO - 20/Sep/2013: Remove argument AppDat</li>
<li>Basilio TAMAYO - 16/Mar/2016: Add parameter SavTyp: remove spot that are already stored as close market data. </li>
</ul>

</div>
</div>
<a class="anchor" id="aa25597f4ee92f4bb3e6158b87e9ed138"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcMKTxchRmvCloSpo </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove spot market data that are already with close status. </p>
<p>Remove spot market data that are already with close status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">SavTyp</td><td>Type of saving. See mkt_sav_typ in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a> </td></tr>
    <tr><td class="paramname">Dat</td><td>Date to save spots for </td></tr>
    <tr><td class="paramname">LdMkt</td><td>List of spot market data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 16/Mar/2016</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="adb3bfc8f172ba622365deecb2631273a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdImc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MisDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrvInf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>UpdFxgSpo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm of historic bloomberg market data. </p>
<p>Confirm of historic bloomberg market data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">LdImc</td><td>List of imcs to get from Bloomberg. </td></tr>
    <tr><td class="paramname">LdPro</td><td>Lit of profiles to save market data for. </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">BlbTyp</td><td>Type of price to get from Bloomberg. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">MisDay</td><td>Number of dates to ask missing market data for. Also enum mkt_mis_ask_typ. </td></tr>
    <tr><td class="paramname">PrvInf</td><td>Set an info of market data previous to Dat. </td></tr>
    <tr><td class="paramname">UpdFxgSpo</td><td>if there are spot prices update also the fixing spots (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 29/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 30/Oct/2009: Set begin date when market data have not date.</li>
<li>Basilio TAMAYO - 07/Nov/2009: New parameter in MKTxchImpMkt to indicate that we are not managing missing market data.</li>
<li>Basilio TAMAYO - 20/Nov/2009: MKTxchImpMkt, parameter list of profiles.</li>
<li>Basilio TAMAYO - 19/Mar/2010: Add parameter Lnk.</li>
<li>Basilio TAMAYO - 21/Apr/2010: Added paramter Dat in call to MKTxchBlbGetMkt</li>
<li>Basilio TAMAYO - 07/Jun/2010: New parameter LdAsk in MKTxchImpMkt</li>
<li>Basilio TAMAYO - 23/Sep/2010: Remove parameter Lnk.</li>
<li>Basilio TAMAYO - 12/Nov/2010: Change parameter UpdMis with MisDay</li>
<li>Basilio TAMAYO - 20/Jan/2011: New parameter (PrvInf) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 01/Mar/2011: Add new parameter PrvInf</li>
<li>Basilio TAMAYO - 22/Sep/2011: New parameter (SavTyp) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t</li>
<li>Basilio TAMAYO - 15/Mar/2016: Manage closing prices.</li>
<li>Basilio TAMAYO - 07/Apr/2017: Add parameter UpdFxgSpo</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameters RqtKey and Ord in call to MKTxchBlbGetMkt</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#aab5882607e9d69d8a8346d9b3101db48" title="Confirm of historic bloomberg market data.">MKTxchBlbHisCnf</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1c37b0eed7bb0de34da94b004262ed00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbDevFct </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Ctr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Fct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get factor to convert a value from non-ISO currency into standard ISO currency of contract. </p>
<p>Get factor to convert a value from non-ISO currency into standard ISO currency of contract. If contract has not a non-ISO currency, the factor will be 1.0</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdCtr</td><td>List of contracts with a non-ISO currency as obtained as with lcMKTxchBlbDevGetCtr. </td></tr>
    <tr><td class="paramname">Ctr</td><td>Contract the value is for. </td></tr>
    <tr><td class="paramname">Fct</td><td>(out) Factor to convert a value into the equivalent ISO currency.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jan/2010 </dd></dl>

</div>
</div>
<a class="anchor" id="ab31f4e5d8042d3f44a61ee6808a37380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbDevGetCtr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mpr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all contracts that have a currency non-ISO. </p>
<p>Get the list of all contracts that have a currency non-ISO; for instance GBp (British penny).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Mpr</td><td>Metaproduct to get contracts for. NULL for all. </td></tr>
    <tr><td class="paramname">LdCtr</td><td>(out) List of contracts with a non-ISO currency: cc_ctr, cc_dev, cf_pay.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jan/2010 </dd></dl>

</div>
</div>
<a class="anchor" id="a890c332937274bfc2feae07d29fee68c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbGetAllMcd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdMcd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the market data codes (FIT and Bloomberg) to ask Bloomberg for. </p>
<p>Get the market data codes (FIT and Bloomberg) to ask Bloomberg for.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdMcd</td><td>(out) List of market data codes to read from Bloomberg. Columns: imc, BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 22/Jun/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 28/Jul/2010: Add field PrxSrc </li>
</ul>

</div>
</div>
<a class="anchor" id="a66d232dbcca0349a323f6a51b6fc1540"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbGetDta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktDatTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the market data values from the Bloomberg answer file. </p>
<p>Read the market data values from the Bloomberg answer file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilNam</td><td>Bloomberg answer filename. </td></tr>
    <tr><td class="paramname">MktDatTyp</td><td>type of Bloomberg price. See enum mkt_blb_prx_dat_typ. </td></tr>
    <tr><td class="paramname">Dat</td><td>Market data date. </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data Bloomberg codes. Column BlbCod. </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data values. Columns: Key, Ret, NbFld, val, dat, PrxSrc, Vdt, BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jun/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Aug/2009: Get also the date of the price.</li>
<li>Basilio TAMAYO - 21/Apr/2010: Add parameter MktDatTyp and Dat. New price type mkt_blb_prx_his: it does not get the date of the price, add it manually.</li>
<li>Basilio TAMAYO - 23/Jul/2010: Read the new field of pricing source.</li>
<li>Basilio TAMAYO - 22/Sep/2010: Set the prefix BLB- to the pricing source.</li>
<li>Basilio TAMAYO - 23/Sep/2010: There is an extra field (Sec) with a second price in case that the main price (val) is not valid.</li>
<li>Basilio TAMAYO - 03/Jan/2012: Remove second market data price.</li>
<li>Basilio TAMAYO - 06/Feb/2012: Set new field Vdt (Valid date)</li>
<li>Basilio TAMAYO - 20/Apr/2012: If get last price, there are two date fields: the first one with date of exchange time and the second with date in local time.</li>
<li>Basilio TAMAYO - 23/Feb/2015: If close file, set pointer as NULL</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a603197a9b1c6f01820a42b09b55b02e1" title="Read the historic market data values from the Bloomberg answer file.">MKTxchBlbGetHisDta</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a603197a9b1c6f01820a42b09b55b02e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbGetHisDta </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the historic market data values from the Bloomberg answer file. </p>
<p>Read the historic market data values from the Bloomberg answer file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilNam</td><td>Bloomberg answer filename. </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data Bloomberg codes. Column BlbCod. </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data values. Columns: Key, Ret, NbFld, PrxSrc, dat, val, Vdt, BlbCod.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 04/Mar/2010: Do not change LdMcd.</li>
<li>Basilio TAMAYO - 13/Jul/2010: New function lcMKTxchBlbAddKeyCod to add the Bloomberg code to every datum.</li>
<li>Basilio TAMAYO - 23/Jul/2010: Read the new field of pricing source.</li>
<li>Basilio TAMAYO - 03/Aug/2010: Pricing source field is in first position.</li>
<li>Basilio TAMAYO - 22/Sep/2010: Set the prefix BLB- to the pricing source.</li>
<li>Basilio TAMAYO - 23/Sep/2010: There is an extra field (Sec) with a second price in case that the main price (val) is not valid.</li>
<li>Basilio TAMAYO - 03/Jan/2012: Remove second market data price.</li>
<li>Basilio TAMAYO - 06/Feb/2012: Set new field Vdt (Valid date)</li>
<li>Basilio TAMAYO - 23/Feb/2015: If close file, set pointer as NULL</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a66d232dbcca0349a323f6a51b6fc1540" title="Read the market data values from the Bloomberg answer file.">MKTxchBlbGetDta</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af284ce9bd627e55246cca32ba44fbfdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbGetHisMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RqtKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdImc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrxFrq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get historic market data values within a period of dates from Bloomberg data license. </p>
<p>Get historic market data values within a period of dates from Bloomberg data license.</p>
<ul>
<li>Generate a new request file with the market data codes that must read from Bloomberg.</li>
<li>Send to Bloomberg host the request filename and get the answer file. Read it in a list.</li>
<li>Sort the list by date and Bloomberg code.</li>
<li>If there is only one date to ask prices for, use the getdata program with single point history fields.</li>
<li>If there are more than one date, use the gethistoroy progrma.</li>
<li><p class="startli">Exception: fund prices are not informed in "single point history"</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtKey</td><td>(in/out) Key of the request block. If unknown, set -1 </td></tr>
    <tr><td class="paramname">Ord</td><td>(in/out) Order of current request file in the request block. </td></tr>
    <tr><td class="paramname">LdImc</td><td>List of market data identifiers to ask prices for. Columns: imc, BlbCod </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the prices </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the prices. </td></tr>
    <tr><td class="paramname">PrxFrq</td><td>Price frequency. See enum mkt_blb_his_frq_typ (<a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a>) for details. </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 02/Mar/2010: Add PrxFrq parameter</li>
<li>Basilio TAMAYO - 22/Apr/2010: Add posibility to link request with a terminal user.</li>
<li>Basilio TAMAYO - 01/Jul/2010: Add parameters LnkUsr, LnkSnb and LnkWks in call to lcMKTxchBlbGetCurDta</li>
<li>Basilio TAMAYO - 23/Sep/2010: remove parameter Lnk.</li>
<li>Basilio TAMAYO - 04/Jan/2012: Include source per fixed income prices.<ul>
<li>Basilio TAMAYO - 12/Jan/2017: Use AO BlbBndPty to know if requeste prices for fixed income will be bid prices or medium prices.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk to know if must set a request to BLB, get the answer or both at the same time</li>
<li>Basilio TAMAYO - 10/Nov./2017: Add parameters RqtKey and Ord </li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ad9d1776158d5da180ba11dd72dcbc541"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbGetMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>RqtKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbMktPrx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current market data values from Bloomberg data license. </p>
<p>Get current market data values from Bloomberg data license.</p>
<ul>
<li>If date of market data is more than one day past, ask for historic prices.</li>
<li>Generate a new request file with the market data codes that must read from Bloomberg.</li>
<li><p class="startli">Send to Bloomberg host the request filename and get the answer file. Read it in a list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtKey</td><td>(in/out) Key of the request block. If unknown, set -1 </td></tr>
    <tr><td class="paramname">Ord</td><td>(in/out) Order of current request file in the request block. </td></tr>
    <tr><td class="paramname">Dat</td><td>Market data date. </td></tr>
    <tr><td class="paramname">BlbMktPrx</td><td>Price to get from Bloomberg. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data to ask Bloomberg for; typ, imc, BlbCod, PrxSrc </td></tr>
    <tr><td class="paramname">LdDta</td><td>(out) List of market data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jun/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 10/Sep/2009: check AO BLBmkt to read or not market data from Bloomberg.</li>
<li>Basilio TAMAYO - 15/Oct/2009: New parameters in call to MKTxchBlbRqtFil</li>
<li>Basilio TAMAYO - 19/Mar/2010: Add parameter Lnk.</li>
<li>Basilio TAMAYO - 21/Apr/2010: Add paramter Dat. Make historic request if Dat is a past date.</li>
<li>Basilio TAMAYO - 23/Sep/2010: Get data for different accounts depending on the type of data to ask for.</li>
<li>Basilio TAMAYO - 23/Sep/2010: Remove parameter Lnk</li>
<li>Basilio TAMAYO - 24/Nov/2010: Set the pricing source as exclusive</li>
<li>Basilio TAMAYO - 12/Jan/2017: Use AO BlbBndPty to know if requested prices for fixed income will be bid prices or medium prices.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk to know if must set a request to BLB, get the answer or both at the same time</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameters RqtKey and Ord </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aab5882607e9d69d8a8346d9b3101db48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbHisCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdImc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrxFrq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrvInf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>UpdFxgSpo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm of historic bloomberg market data. </p>
<p>Confirm of historic bloomberg market data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">LdImc</td><td>List of imcs to get from Bloomberg. </td></tr>
    <tr><td class="paramname">LdPro</td><td>Lit of profiles to save market data for. </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date </td></tr>
    <tr><td class="paramname">Edt</td><td>End date </td></tr>
    <tr><td class="paramname">PrxFrq</td><td>Price frequency. See enum mkt_blb_his_frq_typ (<a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a>) for details. </td></tr>
    <tr><td class="paramname">PrvInf</td><td>Set an info of market data previous to Dat. </td></tr>
    <tr><td class="paramname">UpdFxgSpo</td><td>if there are spot prices update also the fixing spots (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 29/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 30/Oct/2009: Set begin date when market data have not date.</li>
<li>Basilio TAMAYO - 07/Nov/2009: New parameter in MKTxchImpMkt to indicate that we are not managing missing market data.</li>
<li>Basilio TAMAYO - 20/Nov/2009: MKTxchImpMkt, parameter list of profiles.</li>
<li>Basilio TAMAYO - 02/Mar/2010: Add PrxFrq parameter</li>
<li>Basilio TAMAYO - 22/Apr/2010: Add parameter Lnk in call to MKTxchBlbGetHisMkt.</li>
<li>Basilio TAMAYO - 08/Jun/2010: Add parameter LdAsk in call to MKTxchImpMkt.</li>
<li>Basilio TAMAYO - 23/Sep/2010: Remove parameter Lnk in call to MKTxchBlbGetHisMkt.</li>
<li>Basilio TAMAYO - 20/Jan/2011: Set info for every market datum with a date previous to date (if there is only one date to get prices for).</li>
<li>Basilio TAMAYO - 02/Mar/2011: Add parameter PrvInf.</li>
<li>Basilio TAMAYO - 22/Sep/2011: New parameter (SavTyp) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 07/Apr/2017: Add parameter UpdFxgSpo</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameters RqtKey and Ord in call to MKTxchBlbGetHisMkt</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#adb3bfc8f172ba622365deecb2631273a" title="Confirm of historic bloomberg market data.">MKTxchBlbCnf</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1427cf0605d3c75630d732829e1458ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbHisRqtFil </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RqtFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkSnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkWks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AnsFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Edt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrxFrq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>PrxSrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a new request file with historic market data codes to read from Bloomberg. </p>
<p>Generate a new request file with historic market data codes to read from Bloomberg.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtFil</td><td>Full name of the file that is going to be generated with the requested codes. </td></tr>
    <tr><td class="paramname">BlbUsr</td><td>Bloomberg user </td></tr>
    <tr><td class="paramname">LnkUsr</td><td>Bloomberg Terminal account's user to link request to. It can be NULL. </td></tr>
    <tr><td class="paramname">LnkSnb</td><td>Bloomberg Terminal account's serial number to link request to. </td></tr>
    <tr><td class="paramname">LnkWks</td><td>Bloomberg Terminal account's workstation number to link request to. </td></tr>
    <tr><td class="paramname">AnsFil</td><td>Complete name of the Bloomberg answer filename </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data codes to read from Bloomberg. </td></tr>
    <tr><td class="paramname">Bdt</td><td>Begin date of the historic prices </td></tr>
    <tr><td class="paramname">Edt</td><td>End date of the historic prices </td></tr>
    <tr><td class="paramname">PrxFrq</td><td>Price frequency. See enum mkt_blb_frq_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to request: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Exclusive source flag. </td></tr>
    <tr><td class="paramname">PrxSrc</td><td>Price source code. It may be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 20/Mar/2010: Add PrxFrq parameter</li>
<li>Basilio TAMAYO - 22/Apr/2010: Add parameters LnkUsr, LnkSnb and LnkWks.</li>
<li>Basilio TAMAYO - 20/May/2010: Use new function BLBcmmRqtWriBlbCod.</li>
<li>Basilio TAMAYO - 30/Jul/2010: Add parameter MktPrxTyp to get ask, bid or medium price.</li>
<li>Basilio TAMAYO - 02/Aug/2010: Add parameter AddSrc in call to BLBcmmRqtWriBlbCod. Not add</li>
<li>Basilio TAMAYO - 04/Jan/2012: Add parameters ExcSrc and PrxSrc.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#ab95417c76b0d06fee13f9ce32b447522" title="Generate a new request file with the market data codes that must read from Bloomberg.">MKTxchBlbRqtFil</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab95417c76b0d06fee13f9ce32b447522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchBlbRqtFil </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RqtFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BlbUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkSnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>LnkWks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AnsFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdMcd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktDatTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MktPrxTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExcSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a new request file with the market data codes that must read from Bloomberg. </p>
<p>Generate a new request file with the market data codes that must read from Bloomberg.</p>
<ul>
<li><p class="startli">If the terminal account user number is NULL, do not link the request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">RqtFil</td><td>Full name of the file that is going to be generated with the requested codes. </td></tr>
    <tr><td class="paramname">BlbUsr</td><td>Bloomberg Data License user </td></tr>
    <tr><td class="paramname">LnkUsr</td><td>Bloomberg Terminal account's user to link request to. It can be NULL. </td></tr>
    <tr><td class="paramname">LnkSnb</td><td>Bloomberg Terminal account's serial number to link request to. </td></tr>
    <tr><td class="paramname">LnkWks</td><td>Bloomberg Terminal account's workstation number to link request to. </td></tr>
    <tr><td class="paramname">AnsFil</td><td>Complete name of the Bloomberg answer filename </td></tr>
    <tr><td class="paramname">LdMcd</td><td>List of market data codes to read from Bloomberg. </td></tr>
    <tr><td class="paramname">MktDatTyp</td><td>Type of price to get from Bloomberg according to the date. See mkt_blb_prx_dat_typ for details. </td></tr>
    <tr><td class="paramname">MktPrxTyp</td><td>Type of price to request: ask, bid or medium. See mkt_blb_prx_typ for details. </td></tr>
    <tr><td class="paramname">ExcSrc</td><td>Flag of exclusive source </td></tr>
    <tr><td class="paramname">Dat</td><td>Date.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 19/Jun/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 19/Mar/2010: Add parameter LnkUsr, LnkSnb and LnkWks.</li>
<li>Basilio TAMAYO - 21/Apr/2010: Add parameter Dat.</li>
<li>Basilio TAMAYO - 20/May/2010: Use new function BLBcmmRqtWriBlbCod.</li>
<li>Basilio TAMAYO - 30/Jul/2010: Add parameter MktPrxTyp to request ask, bid or medium price.</li>
<li>Basilio TAMAYO - 02/Aug/2010: Add parameter AddSrc in call to BLBcmmRqtWriBlbCod.</li>
<li>Basilio TAMAYO - 09/Nov/2017: Add parameter BlbTsk</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="mkt_xch_8c.html#a1427cf0605d3c75630d732829e1458ef" title="Generate a new request file with historic market data codes to read from Bloomberg.">MKTxchBlbHisRqtFil</a> </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a9daa473183055f349d3ec80c204d755d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchChkImpMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdErr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the valid market data lines. </p>
<p>Check the valid market data lines and return the invalid ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdErr</td><td>(in/out) Market data list with invalid data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Urko PINEDA - 14/Nov/2016 </dd></dl>

</div>
</div>
<a class="anchor" id="a365294e07c42d12242819700d140c573"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchGetImpPth </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ImpPth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the path of directory where import files for market data exchange are located. </p>
<p>Get the path of directory where import files for market data exchange are located. First, it will search for a specific path management, and if it is not valid, the directory will be subdirectory "mkt" inside FXT_IMPORT directory</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">ImpPth</td><td>(out) Path of directory. Reserve memory with OSD_STR_TYP</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 05/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL -09/Nov/2006: Reserve the size of returned variable in OSDgetFullFilNam function</li>
<li>Josune BIKUNA - 21/Dec/2009: Add Ctx parameter. First, search for a specific path management </li>
</ul>

</div>
</div>
<a class="anchor" id="a672360cc8648ca1f188b6ce2964fd89e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchImpMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdPro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PrvInf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdImp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>SavTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>UpdFxgSpo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard import of market data. </p>
<p>Standard import of market data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Date the prices are for. Only used if the source is Bloomberg. </td></tr>
    <tr><td class="paramname">LdPro</td><td>List of profiles: column "pro" </td></tr>
    <tr><td class="paramname">Src</td><td>Source type: See enum mkt_src in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a> for details. </td></tr>
    <tr><td class="paramname">Mis</td><td>Flag to indicate that market data to save are missing market data. (1 or 0) </td></tr>
    <tr><td class="paramname">PrvInf</td><td>Set an info of market data previous to Dat. </td></tr>
    <tr><td class="paramname">LdAsk</td><td>List of all imc and date whose price is requested. If a pair (imc, dat) of this list is not included in the list of market data (LdImp) add the imc to ask later. </td></tr>
    <tr><td class="paramname">LdImp</td><td>(in/out) Market data list. Columns: val, dat. According to Src: 0, "umc"; 1, "BlbCod" </td></tr>
    <tr><td class="paramname">SavTyp</td><td>Type of saving. See mkt_sav_typ in <a class="el" href="mkt__def_8h.html" title="Header file for all MKT functions and types.">mkt_def.h</a> </td></tr>
    <tr><td class="paramname">UpdFxgSpo</td><td>if there are spot prices update also the fixing spots (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 01/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 19/Nov/2002. Do not remove the spot prices from LdPrx</li>
<li>Basilio TAMAYO - 20/Feb/2003: Set an info message for each line that does not match with a market datum in database.</li>
<li>Basilio TAMAYO - 21/Mar/2003: Only set info messages when there are unrecognised codes</li>
<li>Jon BARRUTIA - 09/Apr/2003: Do nothing if no list or no lines into it.</li>
<li>Gotzon ETXEBERRIA - 27/May/2004: Use ERRchk instead of ERRass when calling to DYNcbn[Chk]</li>
<li>Ismael SERRANO - 22/Aug/2006: Use AluDff instead of MktDff</li>
<li>Basilio TAMAYO - 06/Feb/2009: Divide the list of diffusion books between those that are terminal diffusion and those that have another books to diffuse.</li>
<li>Basilio TAMAYO - 05/Mar/2009: Do not limit the terminal diffusion books by the market date.</li>
<li>Basilio TAMAYO - 27/Apr/2009: Get application date, the one selected by the user.</li>
<li>Basilio TAMAYO - 22/Jun/2009: Adapt to admit Bloomberg market data too. Add parameter Src</li>
<li>Basilio TAMAYO - 20/Aug/2009: Order of list destruction</li>
<li>Basilio TAMAYO - 16/Sep/2009: Add parameter Src in lcMKTxchImpGen</li>
<li>Basilio TAMAYO - 30/Oct/2009: Save in DB missing market data.</li>
<li>Basilio TAMAYO - 07/Nov/2009: Add parameter Mis.</li>
<li>Basilio TAMAYO - 18/Nov/2009: Change parameter Pro with LdPro</li>
<li>Basilio TAMAYO - 11/Dec/2009: Delete parameter Src in lcMKTxchImpGen</li>
<li>Basilio TAMAYO - 16/Feb/2010: Add parameter Dat. If source is Bloomberg, add in the table of missing market data those that have a valid price but for a date different to Dat.</li>
<li>Basilio TAMAYO - 15/Mar/2010: Indicate date before messages.</li>
<li>Basilio TAMAYO - 07/Jun/2010: Add parameter LdAsk to include missing market values in MktMis</li>
<li>Iosu ETXEBARRIA - 09/Feb/2011: Set an info message for every price with a future date.</li>
<li>Basilio TAMAYO - 22/Sep/2011: Add parameter SavTyp</li>
<li>Basilio TAMAYO - 08/May/2012: New output parameter in call to MKTmcdUmcSetImc</li>
<li>Ruben GIL - 17/Sep/2013: Correct list that use in future price list. LdImp&ndash;&gt;LdVal</li>
<li>Basilio TAMAYO - 20/Sep/2013: Only set an info if the date of market data is after application date</li>
<li>Basilio TAMAYO - 20/Sep/2013: removed parameter AppDat in calls to lcMKTxchImpFxg, lcMKTxchImpSpo and lcMKTxchImpGen</li>
<li>Basilio TAMAYO - 07/Apr/2017: Add parameter UpdFxgSpo </li>
</ul>

</div>
</div>
<a class="anchor" id="abd1ed8abac303068890cb7ef7e741809"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchImpReaMkt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FulFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdImp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read prices from a import file. </p>
<p>Read prices from a import file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FulFil</td><td>Full filename (including path) </td></tr>
    <tr><td class="paramname">LdImp</td><td>(out) Resultant list (umc, val, dat)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 01/Nov/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 09/Apr/2003: Do some verifications to avoid the crash of the treatment if there isn't any file</li>
<li>Ruben GIL -09/Nov/2006: Add FulPat variable in ITFgetDatFilePath function</li>
<li>Basilio TAMAYO - 12/Feb/2007: Use new type OSD_STR_TYPE.</li>
<li>Josune BIKUNA - 07/May/2009: OSD_STR_TYPE -&gt; OSD_STR_TYP</li>
<li>Basilio TAMAYO - 28/Jul/2010: Add pricing source as filename.</li>
<li>Ruben GIL - 13/Jan/2012: ALU Impacts: Call to DYNgetDescr with ERRchkDyn</li>
<li>Basilio TAMAYO - 06/Feb/2012: Add valid date (Vdt) column</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNaddColumns and DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a256e603f6ef356d3f78606cdf3cec7a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchMveMktFil </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Pth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the market data file to avoid reading it more than once. </p>
<p>Move the market data file to avoid reading it more than once</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pth</td><td>Path of the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Urko PINEDA - 7/Dic/2016 </dd></dl>

</div>
</div>
<a class="anchor" id="a9493a88ed76e59945176557f59464a05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MKTxchSavMisMkt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>BlbTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>AskDay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save market data that were missing in previous requests. </p>
<p>Save market data that were missing in previous requests.</p>
<ul>
<li>Get all market data that are missing from previous market data requests.</li>
<li>In case of Bloomberg source:</li>
<li>* for every date when there is any missing market date.</li>
<li>+ Ask for all market data prices of that date</li>
<li><p class="startli">+ Separate market data for every profile and save them (during the saving, if any market datum is not recovered from source, keep it in the table of missing market data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Src</td><td>Source string code. </td></tr>
    <tr><td class="paramname">BlbTsk</td><td>Flag to set a request, get an anser or both. See enum afu_blb_tsk_typ. </td></tr>
    <tr><td class="paramname">AskDay</td><td>Number of missing dates to ask for: </td></tr>
    <tr><td class="paramname">+</td><td>mkt_mis_ask_all to ask for all dates </td></tr>
    <tr><td class="paramname">+</td><td>mkt_mis_no_ask not ask for any date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Oct/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 07/Nov/2009: New parameter in MKTxchImpMkt to indicate that we are managing missing market data.</li>
<li>Basilio TAMAYO - 20/Nov/2009: MKTxchImpMkt, parameter list of profiles.</li>
<li>Basilio TAMAYO - 28/Jan/2010: Bloomberg source, not ask for data without a Bloomberg code.</li>
<li>Basilio TAMAYO - 22/Apr/2010: Add parameter Lnk in call to MKTxchBlbGetHisMkt.</li>
<li>Basilio TAMAYO - 08/Jun/2010: Add paramter LdAsk in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 23/Sep/2010: Remove parameter Lnk in call to MKTxchBlbGetHisMkt.</li>
<li>Basilio TAMAYO - 12/Nov/2010: Add parameter AskDay.</li>
<li>Basilio TAMAYO - 20/Jan/2011: New parameter (PrvInf) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 22/Sep/2011: New parameter (SavTyp) in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 27/Dec/2012: Separate fund market data, they are requested to Bloomberg all days together. So we reduce the number of request files and make treatment faster.</li>
<li>Basilio TAMAYO - 07/Apr/2017: Add new parameter UpdFxgSpo in call to MKTxchImpMkt</li>
<li>Basilio TAMAYO - 10/Nov/2017: Add parameters RqtKey and Ord in call to MKTxchBlbGetHisMkt </li>
</ul>
</li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mkt_xch_8c.html">mktXch.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:50 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
