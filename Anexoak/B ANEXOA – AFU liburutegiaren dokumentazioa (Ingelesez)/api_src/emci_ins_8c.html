<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AFU: src/emciIns.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFU
   &#160;<span id="projectnumber">4.1</span>
   </div>
   <div id="projectbrief">ALMIS_Financial_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('emci_ins_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">emciIns.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface with engines for models a MC instrument.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;bookAccess.h&gt;</code><br/>
<code>#include &lt;cst_def.h&gt;</code><br/>
<code>#include &lt;db_def.h&gt;</code><br/>
<code>#include &lt;dynDef.h&gt;</code><br/>
<code>#include &lt;eng_def.h&gt;</code><br/>
<code>#include &lt;errDef.h&gt;</code><br/>
<code>#include &lt;fmtNum_def.h&gt;</code><br/>
<code>#include &lt;fsa_def.h&gt;</code><br/>
<code>#include &lt;gb.h&gt;</code><br/>
<code>#include &lt;glbDef.h&gt;</code><br/>
<code>#include &lt;gut_def.h&gt;</code><br/>
<code>#include &lt;obj_def.h&gt;</code><br/>
<code>#include &lt;sdt_def.h&gt;</code><br/>
<code>#include &lt;str_def.h&gt;</code><br/>
<code>#include &lt;tm_def.h&gt;</code><br/>
<code>#include &lt;uniq_key.h&gt;</code><br/>
<code>#include &lt;xml_def.h&gt;</code><br/>
<code>#include &lt;osd_def.h&gt;</code><br/>
<code>#include &lt;osdDef.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="emci__def_8h_source.html">emci_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mci__def_8h_source.html">mci_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7dcaac0abc9792c1b7be2c571fd35522"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a7dcaac0abc9792c1b7be2c571fd35522">EMCI_INS_TRT</a>&#160;&#160;&#160;7034</td></tr>
<tr class="separator:a7dcaac0abc9792c1b7be2c571fd35522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f9d598b5aee08b1bf99b974f74709b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a64f9d598b5aee08b1bf99b974f74709b">EMCI_INS_EXP</a>&#160;&#160;&#160;14 /* MCI instrument exportation */</td></tr>
<tr class="separator:a64f9d598b5aee08b1bf99b974f74709b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7edd395ba4c81b7527427a1298a6f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a4b7edd395ba4c81b7527427a1298a6f8">EMCI_EXP_MOD</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:a4b7edd395ba4c81b7527427a1298a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af681f95005945014439b3770700c58cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#af681f95005945014439b3770700c58cb">EMCI_EXP_ENT</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:af681f95005945014439b3770700c58cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9393cd951737c6fb70f18b6c86b846bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a9393cd951737c6fb70f18b6c86b846bd">ERR_NORET</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a9393cd951737c6fb70f18b6c86b846bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fdfef08d343faabdb69dc2cce968223"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a4fdfef08d343faabdb69dc2cce968223">EMCIinsCnf</a> (void *Ctx, void *LdObj, int *Don)</td></tr>
<tr class="memdesc:a4fdfef08d343faabdb69dc2cce968223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific confirmation of an Instrument.  <a href="#a4fdfef08d343faabdb69dc2cce968223"></a><br/></td></tr>
<tr class="separator:a4fdfef08d343faabdb69dc2cce968223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac0344af2efd470e0223a09edc8d060"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a1ac0344af2efd470e0223a09edc8d060">EMCIinsCtl</a> (void *Ctx, void *LdObj, int *Don, int *Ctn)</td></tr>
<tr class="memdesc:a1ac0344af2efd470e0223a09edc8d060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls before saving the instrument into the database.  <a href="#a1ac0344af2efd470e0223a09edc8d060"></a><br/></td></tr>
<tr class="separator:a1ac0344af2efd470e0223a09edc8d060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b5f456ffb48210ec3190018a78fa50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a79b5f456ffb48210ec3190018a78fa50">EMCIinsCtlImp</a> (void *Ctx, void *LdObj, int *Don, char *Path)</td></tr>
<tr class="memdesc:a79b5f456ffb48210ec3190018a78fa50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the instrument into the MC instrument window, from the importation window.  <a href="#a79b5f456ffb48210ec3190018a78fa50"></a><br/></td></tr>
<tr class="separator:a79b5f456ffb48210ec3190018a78fa50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf688516487f4fb09683140d8f5130f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#addf688516487f4fb09683140d8f5130f">EMCIinsCtlExp</a> (void *LdObj, int *Don)</td></tr>
<tr class="memdesc:addf688516487f4fb09683140d8f5130f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific function to export a MCI instrument in XML format.  <a href="#addf688516487f4fb09683140d8f5130f"></a><br/></td></tr>
<tr class="separator:addf688516487f4fb09683140d8f5130f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab61ccaea53ef731431060aa5b85d584"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#aab61ccaea53ef731431060aa5b85d584">EMCIinsRea</a> (void *Ctx, void *LdObj, int *Don)</td></tr>
<tr class="memdesc:aab61ccaea53ef731431060aa5b85d584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the existence of the execution parameters.  <a href="#aab61ccaea53ef731431060aa5b85d584"></a><br/></td></tr>
<tr class="separator:aab61ccaea53ef731431060aa5b85d584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e38bef354b762ae5df775cc6212a84d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#a3e38bef354b762ae5df775cc6212a84d">EMCIinsRst</a> (void *LdObj, int *Don)</td></tr>
<tr class="memdesc:a3e38bef354b762ae5df775cc6212a84d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific reset of an Instrument.  <a href="#a3e38bef354b762ae5df775cc6212a84d"></a><br/></td></tr>
<tr class="separator:a3e38bef354b762ae5df775cc6212a84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfab0d604336219e53e5e787237cbde0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#adfab0d604336219e53e5e787237cbde0">EMCIinsGet</a> (void *LdObj, int *Done)</td></tr>
<tr class="memdesc:adfab0d604336219e53e5e787237cbde0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve instruments, show popup to choice instrument in entry mode.  <a href="#adfab0d604336219e53e5e787237cbde0"></a><br/></td></tr>
<tr class="separator:adfab0d604336219e53e5e787237cbde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3cfe5ea2d551d5a7521ec915e1b3cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emci_ins_8c.html#aed3cfe5ea2d551d5a7521ec915e1b3cb">EMCIinsChgOptTyp</a> (void *Ctx, void *LdObj, void *LdVal, int Lin, int *Ner)</td></tr>
<tr class="memdesc:aed3cfe5ea2d551d5a7521ec915e1b3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific treatment when a option type is modified.  <a href="#aed3cfe5ea2d551d5a7521ec915e1b3cb"></a><br/></td></tr>
<tr class="separator:aed3cfe5ea2d551d5a7521ec915e1b3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface with engines for models a MC instrument. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="emci__def_8h.html" title="EMCI (Engines for MonteCarlo simulation module)">emci_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>EMCIins</dd></dl>
<p>In a MC simulated instrument there is a model needed for execution. This file contains the function that handles this code model with a specific syntax.</p>
<dl class="section user"><dt>Library</dt><dd>emci</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 24/Feb/2004. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af681f95005945014439b3770700c58cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCI_EXP_ENT&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4b7edd395ba4c81b7527427a1298a6f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCI_EXP_MOD&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a64f9d598b5aee08b1bf99b974f74709b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCI_INS_EXP&#160;&#160;&#160;14 /* MCI instrument exportation */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7dcaac0abc9792c1b7be2c571fd35522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCI_INS_TRT&#160;&#160;&#160;7034</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9393cd951737c6fb70f18b6c86b846bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR_NORET&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aed3cfe5ea2d551d5a7521ec915e1b3cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsChgOptTyp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Lin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific treatment when a option type is modified. </p>
<p>Specific treatment when a option type is modified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list </td></tr>
    <tr><td class="paramname">LdVal</td><td>List with all columns that returns the select sentence. All cols are in string format </td></tr>
    <tr><td class="paramname">Lin</td><td>Line selected in LdVal list </td></tr>
    <tr><td class="paramname">Ner</td><td>(out) Interactor has been executed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 11/Sep/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 22/Sep/2008: MCI_PVB_* &ndash;&gt; MCI_PVBCLF_*</li>
<li>Jon BARRUTIA - 23/Sep/2008: Correct the LdPvbClf freeing</li>
</ul>
<dl class="section user"><dt>Algorithm</dt><dd></dd></dl>
<ul>
<li>Delete the already assigned variable parameters defined by otpion type; that is, Clf = MCI_PVBCLF_APP.</li>
<li>Read the variable parameters associated to the selected option type and set them into the list</li>
<li>Remove the variable parameters object list if there isn't any parameter associated</li>
<li>Basilio TAMAYO - 19/Sep/2012: DYNajoutexCol must have size with type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a4fdfef08d343faabdb69dc2cce968223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsCnf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific confirmation of an Instrument. </p>
<p>Specific confirmation of an instrument. Confirm the correlations between different assets.</p>
<ul>
<li>There is a specific function that is called when a instrument is modified. The functionality of this function is to allow impacting the contract code modifications when an instrument code is modified.</li>
<li><p class="startli">It verifies if the instrument have deals, in that case the instrument cannot be removed. This control is done here because it needs the 'LdPos' object, that is set in 'LdObj' when calling the specific confirmation function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 25/Feb/2004.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/May/2004: Confirm the execution parameters</li>
<li>Ismael SERRANO - 20/Dec/2006: Confirm all the subwindows</li>
<li>Ismael SERRANO - 05/Apr/2007: Add MciPvb</li>
<li>Ismael SERRANO - 17/Abr/2007: Add diffusion</li>
<li>Jon BARRUTIA - 24/Apr/2007: Correct diffusion: save also in the connected book</li>
<li>Jon BARRUTIA - 02/May/2007: Confirmation of correlations</li>
<li>Ismael SERRANO - 08/May/2007: Added lcEMCIinsPvb</li>
<li>Ismael SERRANO - 11/Jun/2007: Add cancel mode</li>
<li>Ismael SERRANO - 11/Jun/2007: Free LdAls, LdMciIns</li>
<li>Josune BIKUNA - 09/Jul/2007: Update the price format and the leg reference in the contract definition if they have been modifie in the instrument definition</li>
<li>Josune BIKUNA - 11/Jul/2007: Control that the initial value for the price format is valid. When confirming a new instrument it has not an initial value</li>
<li>Ismael SERRANO - 12/Jul/2007: Check validity for leg reference</li>
<li>Ruben GIL - 27/Aug/2007: Delete correlation instrument when window mode is cancel. Add OldMciCod varible in the MCIcorCnfMdl function. Add call to lcEMCIinsGetDea function to verify if the instrumente have deals</li>
<li>Ismael SERRANO - 05/Sep/2007: Cannot do a strpy over OldMciCod. Do = instead</li>
<li>Jon BARRUTIA - 16/Oct/2007: Update contract code when instrument code is modified</li>
<li>Basilio TAMAYO - 13/Nov/2007: Apply KUT of this window.</li>
<li>Jon BARRUTIA - 07/Dec/2007: Correct getting data when mode distinct as modify</li>
<li>Jesus Maria GARCIA - 10/Dic/2007: Remove the commentary for KUT</li>
<li>Gema ACHA - 13/Dec/2007: Don't do the KUTs if there are any errors in confirmation function</li>
<li>Gema ACHA - 07/May/2008: Use AfuMciDff to get the books to diffuse instruments.</li>
<li>Jon BARRUTIA - 30/Jun/2008: Treat also the second reference of the instrument</li>
<li>Jon BARRUTIA - 14/Jul/2008: Correct taking the initial value of the premium leg reference</li>
<li>Jon BARRUTIA - 16/Feb/2009: Use window modes defines. Message when modifying an instrument to verify the impacts of them into deals </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a1ac0344af2efd470e0223a09edc8d060"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsCtl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Ctn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls before saving the instrument into the database. </p>
<p>Controls before saving the instrument into the database. It checks:</p>
<ul>
<li>the instrument identifier should be different of the existent contract codes</li>
<li>the existence of a payoff schedule</li>
<li>the existence of any asset associated to the instrument</li>
<li>All conditions are defined in payoff schedule.</li>
<li>All variable parameters of payoff schedule are defined in the list of variable parameters</li>
<li>All variable parameters of payoff conditions are defined in the list of variable parameters</li>
<li>All assets of payoff schedule are defined in the list of assets</li>
<li>All selected time dependent tables have to be in the time dependent list</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0) </td></tr>
    <tr><td class="paramname">Ctn</td><td>(OUT) Boolean. Continue with the treatment (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 13/May/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 24/May/2004: Added control of the existences of assets</li>
<li>Jon BARRUTIA - 17/Oct/2007: Actualised to the new version of ST libraries</li>
<li>Jon BARRUTIA - 17/Oct/2007: Use error messages taken from DAT instead of hard coded</li>
<li>Basilio TAMAYO - 19/Dec/2007: Add new checks that conditions, parameters and assets are defined for current instrument.</li>
<li>Basilio TAMAYO - 02/Jan/2008: Do not access to lists that are NULL.</li>
<li>Gema ACHA - 04/Mar/2008: Add time dependent tables control</li>
<li>Jon BARRUTIA - 26/Mar/2008: Call to MCIinsCtl</li>
<li>Jon BARRUTIA - 27/Mar/2008: Corrected call to MCIinsCtl: needs more arguments </li>
</ul>

</div>
</div>
<a class="anchor" id="addf688516487f4fb09683140d8f5130f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsCtlExp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific function to export a MCI instrument in XML format. </p>
<p>Specific function to export a MCI instrument in XML format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jose M. NUNEZ - 16/Apr/2099</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jose M. NUNEZ - 01/Jul/2009: Added control to export only in Modify or View modes.</li>
<li>Jose M. NUNEZ - 07/Sep/2009: Added Ctx as parameter instead of GBgetCtx function.</li>
<li>Ruben GIL - 26/Apr/2010: ALU impacts: Substitute GUTxmlWrtElm and GUTxmlWrtHdr function by ALUxmlWrtElm and ALUxmlWrtHdr Substitute GutXmlTagBeg, GutXmlTagEnd macros by AluXmlTagBeg, AluXmlTagEnd</li>
<li>Ruben GIL - 27/Nov/2012: Apply doxygen rules</li>
<li>David ROMERO - 16/Nov/2015: Remove Ctx (Database context) function parameter </li>
</ul>

</div>
</div>
<a class="anchor" id="a79b5f456ffb48210ec3190018a78fa50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsCtlImp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the instrument into the MC instrument window, from the importation window. </p>
<p>Save the instrument into the MC instrument window, from the importation window. Read the imported file in 'xml' format and create the strucuture with the necessary information to load the instrument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0) </td></tr>
    <tr><td class="paramname">Path</td><td>Path with the file name to load.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jose M. NUNEZ - 16/Apr/2099</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jose M. NUNEZ - 09/Jul/2009: The variable 'Ele' must be char *.</li>
<li>Jose M. NUNEZ - 07/Sep/2009: Added Ctx as parameter instead of use GBgetCtx function.</li>
<li>Ruben GIL - 30/Apr/2010: ALU impacts: Sustitute GUTxmlFresRes function by ALUxmlFreRes</li>
<li>Ruben GIL - 27/Nov/2012: Apply doxygen rules</li>
<li>David ROMERO - 16/Nov/2015: Remove Ctx from MCI functions </li>
</ul>

</div>
</div>
<a class="anchor" id="adfab0d604336219e53e5e787237cbde0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsGet </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Done</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve instruments, show popup to choice instrument in entry mode. </p>
<p>Retrieve instruments, show popup to choice instrument in entry mode. The instrument retrieved must be prepared to be inserted with the confirm button.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Object list of basket definition static window. </td></tr>
    <tr><td class="paramname">Done</td><td>(Out) 1: success</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 24/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 16/Jan/2008: permit retrieve instruments only in MO books and in View mode </li>
</ul>

</div>
</div>
<a class="anchor" id="aab61ccaea53ef731431060aa5b85d584"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsRea </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the existence of the execution parameters. </p>
<p>Check the existence of the execution parameters of the defined instrument. Show a warning message if there are no parameters defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Context to the DB. </td></tr>
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 13/May/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 22/Mar/2007: Added MciRet.</li>
<li>Ismael SERRANO - 27/Mar/2007: Remove MciRet.</li>
<li>Ismael SERRANO - 05/Apr/2007: Add MciPvb</li>
<li>Basilio TAMAYO - 14/Nov/2007: Do not read constants; made obsoleted.</li>
<li>Jon BARRUTIA - 25/Jul/2008: MCItimRea-&gt;MCIreaTim</li>
<li>Jon BARRUTIA - 28/Jul/2008: Call to MCIastRea instead of MCIreaAst. MCIcmpRea has another argument </li>
</ul>

</div>
</div>
<a class="anchor" id="a3e38bef354b762ae5df775cc6212a84d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EMCIinsRst </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Don</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific reset of an Instrument. </p>
<p>Specific reset of an instrument. Delete all the sublist</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdObj</td><td>Objects list. </td></tr>
    <tr><td class="paramname">Don</td><td>(OUT) Boolean. All specific verification done (1) or generic needed (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 23/May/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 17/Oct/2007: Call to MCIinsRst </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="emci_ins_8c.html">emciIns.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:33:48 for AFU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
