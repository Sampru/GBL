<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: src/EngDjr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_eng_djr_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EngDjr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Jasper report functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/timeb.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="alu__types_8h_source.html">alu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="car_def_8h_source.html">carDef.h</a>&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="chaine_8h_source.html">chaine.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cst__def_8h_source.html">cst_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="djr_def_8h_source.html">djrDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dyn_def_8h_source.html">dynDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="err_def_8h_source.html">errDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="fmt_num__def_8h_source.html">fmtNum_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="fvw__def_8h_source.html">fvw_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gb_8h_source.html">gb.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="glb_def_8h_source.html">glbDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="itf__def_8h_source.html">itf_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="osd_def_8h_source.html">osdDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="osd__def_8h_source.html">osd_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="prr_win_def_8h_source.html">prrWinDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_prr_def_8h_source.html">PrrDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_rsc_def_8h_source.html">RscDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="sdt__def_8h_source.html">sdt_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="xml__def_8h_source.html">xml_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a742c56fa54ce6da561ae6186337ef3b0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a742c56fa54ce6da561ae6186337ef3b0">lcDJRengListToXsd</a> (void *LdDta, void *LdDtaCrt, void *LdFmt, void *LdFmtCrt, char *SchNam, int RepTyp)</td></tr>
<tr class="memdesc:a742c56fa54ce6da561ae6186337ef3b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the XML schema file for a dynamic list.  <a href="#a742c56fa54ce6da561ae6186337ef3b0"></a><br/></td></tr>
<tr class="separator:a742c56fa54ce6da561ae6186337ef3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae926f747df97a9df9936af7306113c83"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#ae926f747df97a9df9936af7306113c83">lcDJRengSavXmlStl</a> (void *LdSch, void *LdFmt, char *StyNam, int RepTyp, char *TagTyp)</td></tr>
<tr class="memdesc:ae926f747df97a9df9936af7306113c83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an xml file with all the information about styles.  <a href="#ae926f747df97a9df9936af7306113c83"></a><br/></td></tr>
<tr class="separator:ae926f747df97a9df9936af7306113c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5f922fb46561297fd6f6c450fe557c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a8d5f922fb46561297fd6f6c450fe557c">lcDJRengXmlSavXml</a> (void *LdDta, void *LdCrt, void *LdFmt, void *LdCrtFmt, void *LdHdg, void *LdCol, char *FilNam, int RepTyp)</td></tr>
<tr class="memdesc:a8d5f922fb46561297fd6f6c450fe557c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save data and criteria lists in the xml file.  <a href="#a8d5f922fb46561297fd6f6c450fe557c"></a><br/></td></tr>
<tr class="separator:a8d5f922fb46561297fd6f6c450fe557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf8d3d702587b608558234b3f488079"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a5cf8d3d702587b608558234b3f488079">DJRengXmlSavXml</a> (void *LdDta, void *LdCrt, void *LdSchMtx, void *LdSchCrt, void *LdHdg, void *LdCol, char *FilNam, char *StyNam, char *CrtNam, int RepTyp)</td></tr>
<tr class="memdesc:a5cf8d3d702587b608558234b3f488079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save a list in a file in XML format.  <a href="#a5cf8d3d702587b608558234b3f488079"></a><br/></td></tr>
<tr class="separator:a5cf8d3d702587b608558234b3f488079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbd97673f70e55fe99130d4cea641fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a5bbd97673f70e55fe99130d4cea641fa">DJRengSavXml</a> (void *LdDat, void *LdCrt, void *LdSdtMtx, void *LdSdtCrt, void *LdHdg, char *Dir, char *NamDate, char *Cmd, int RepTyp, int RunBck)</td></tr>
<tr class="memdesc:a5bbd97673f70e55fe99130d4cea641fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create command for executing Jasper and call to xml creation function.  <a href="#a5bbd97673f70e55fe99130d4cea641fa"></a><br/></td></tr>
<tr class="separator:a5bbd97673f70e55fe99130d4cea641fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1716a1e53b0b35b3d3d0f10034a3fab3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a1716a1e53b0b35b3d3d0f10034a3fab3">DJRengBilRepPrnJsp</a> (char *FilNamNoExt, char *FilNam, void *LdCrt, void *LdDta, int <a class="el" href="class_prn.html">Prn</a>)</td></tr>
<tr class="memdesc:a1716a1e53b0b35b3d3d0f10034a3fab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print deal using jasper templates.  <a href="#a1716a1e53b0b35b3d3d0f10034a3fab3"></a><br/></td></tr>
<tr class="separator:a1716a1e53b0b35b3d3d0f10034a3fab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24640e4e04251ad5092d3a8670bc0b25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#a24640e4e04251ad5092d3a8670bc0b25">DJRengAddTotLines</a> (void *LdDat, void *LdSdtMtx, void **LdCol)</td></tr>
<tr class="memdesc:a24640e4e04251ad5092d3a8670bc0b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add information about totals and subtotals to LdCol (style matrix)  <a href="#a24640e4e04251ad5092d3a8670bc0b25"></a><br/></td></tr>
<tr class="separator:a24640e4e04251ad5092d3a8670bc0b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed033eeba3ce2874d0c14d7e91235151"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_eng_djr_8c.html#aed033eeba3ce2874d0c14d7e91235151">DJRengCnvLevCol</a> (void *LdDat, void **LdCol)</td></tr>
<tr class="memdesc:aed033eeba3ce2874d0c14d7e91235151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the level indicated in data list for DYNtotalise function to color level list.  <a href="#aed033eeba3ce2874d0c14d7e91235151"></a><br/></td></tr>
<tr class="separator:aed033eeba3ce2874d0c14d7e91235151"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Jasper report functions. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="djr_def_8h.html" title="Jasper Report functions.">djrDef.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>DJR (ENGine Dynamic Jasper reports)</dd></dl>
<dl class="section user"><dt>Library</dt><dd>Eng</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 25/Sep/2009 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a24640e4e04251ad5092d3a8670bc0b25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DJRengAddTotLines </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSdtMtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add information about totals and subtotals to LdCol (style matrix) </p>
<p>Add information about totals and subtotals to LdCol (style matrix)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDat</td><td>Data list </td></tr>
    <tr><td class="paramname">LdSdtMtx</td><td>Column descriptor list </td></tr>
    <tr><td class="paramname">LdCol</td><td>Style list (different style can be defined for each cell)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 11/Oct/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 15/Nov/2011: return if 'tot' or 'gtt' columns don't exist in LdSdtMtx</li>
<li>Aitor UGARTE - 18/Nov/2011: Correct the initilization of LdCol</li>
<li>Gema ACHA - 16/Apr/2012: Change the algoritmic to paint the subtotal lines</li>
<li>Aitor UGARTE - 18/Oct/2012: Use correct data type/size for LdCol. DYN_STRING &ndash;&gt; DYN_INT</li>
<li>Fernando BURILLO - 20/May/2016: Background color is not properly set to total and subtotal lines. Iterate over columns if each line to check where line is empty (or has "Total" string) except for marked as total or subtotal columns.If match condition set color style to line.</li>
<li>Fernando BURILLO - 13/Jun/2016: When in subtotalization lines the fields that are grouping by have no value the line in no marked with color, check first if the column is in the subtotalizacion list and then check value </li>
</ul>

</div>
</div>
<a class="anchor" id="a1716a1e53b0b35b3d3d0f10034a3fab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DJRengBilRepPrnJsp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNamNoExt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Prn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print deal using jasper templates. </p>
<p>Print deal using jasper templates</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilNamNoExt</td><td>Report name </td></tr>
    <tr><td class="paramname">FilNam</td><td>Specific name </td></tr>
    <tr><td class="paramname">LdCrt</td><td>Criteria list </td></tr>
    <tr><td class="paramname">LdDta</td><td>Data list </td></tr>
    <tr><td class="paramname"><a class="el" href="class_prn.html">Prn</a></td><td>Print YES:1 NO:0 (if NO depend of BilPrnRep)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Manuel SANMARTIN - 21/Jul/2010.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 03/Dec/2010: Move from BILrep.c and rename from BILrepPrnJsp to DJRbilRepPrnJsp. Remove variables that where not used</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t</li>
<li>Aitor UGARTE - 25/Jun/2013: Set bigger size for Cmd variable</li>
<li>Aitor UGARTE - 25/Jun/2013: Send log to another file (placed in log% environment variable)</li>
<li>David ROMERO - 23/Apr/2015: Changed getenv function to specific OSDgetEnv function</li>
<li>Aitor UGARTE - 30/Jun/2017: Fix line with more than 100 characters </li>
</ul>

</div>
</div>
<a class="anchor" id="aed033eeba3ce2874d0c14d7e91235151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DJRengCnvLevCol </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdCol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the level indicated in data list for DYNtotalise function to color level list. </p>
<p>Convert the level indicated in data list for DYNtotalise function to color level list. The column in LdDta with the level has to be _lev. See DYNtotalise to more data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDat</td><td>Data list </td></tr>
    <tr><td class="paramname">LdCol</td><td>Style list (different style can be defined for each cell). The first column is _lev, it has the subtotalization level.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gema Acha - 24/Apr/2012</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 05/Jun/2012: Change subtotal level labels order</li>
<li>Aitor UGARTE - 18/Oct/2012: Use correct data type/size for LdCol. DYN_STRING &ndash;&gt; DYN_INT </li>
</ul>

</div>
</div>
<a class="anchor" id="a5bbd97673f70e55fe99130d4cea641fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DJRengSavXml </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSdtMtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSdtCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdHdg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>NamDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RepTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RunBck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create command for executing Jasper and call to xml creation function. </p>
<p>Create command for executing Jasper and call to xml creation function. Memory for Cmd has to be reserved before calling this function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDat</td><td>Data list </td></tr>
    <tr><td class="paramname">LdCrt</td><td>Criteria list </td></tr>
    <tr><td class="paramname">LdSdtMtx</td><td>Matrix engine list </td></tr>
    <tr><td class="paramname">LdSdtCrt</td><td>Criteria engine list </td></tr>
    <tr><td class="paramname">LdHdg</td><td>Header information list </td></tr>
    <tr><td class="paramname">LdHdg</td><td>Colour information list </td></tr>
    <tr><td class="paramname">Dir</td><td>Path of the xml files </td></tr>
    <tr><td class="paramname">NamDate</td><td>Date. String tha is part of the pdf name </td></tr>
    <tr><td class="paramname">Cmd</td><td>(OUT) Command for execute Jasper </td></tr>
    <tr><td class="paramname">RepTyp</td><td>Report type </td></tr>
    <tr><td class="paramname">RunBck</td><td>Defines if the java is launched in background or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 24/Apr/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 25/Sep/2009: Move function from <a class="el" href="sdt__functions_8c.html" title="SDT, Static Data (lists, simple tables)">sdt_functions.c</a> to <a class="el" href="_djr_fcn_8c.html" title="Jasper report functions.">DjrFcn.c</a></li>
<li>Aitor UGARTE - 24/Jun/2010: Include color of the line when exporting to xml</li>
<li>Aitor UGARTE - 01/Jul/2010: Before getting colour list, make sure that it exists</li>
<li>Aitor UGARTE - 06/Jul/2010: Don't try to get colour list if it doesn't exist</li>
<li>Aitor UGARTE - 04/Oct/2010: Get maximum column width ('ValSiz')</li>
<li>Aitor UGARTE - 22/Oct/2010: Get remove zeros value ('rmz')</li>
<li>Aitor UGARTE - 18/Nov/2010: Add RunBck parameter</li>
<li>Aitor UGARTE - 08/Apr/2011: Get information about colour from LdUsc in RGB format</li>
<li>Aitor UGARTE - 28/Apr/2011: Get information about totals ('Gtt' and 'Tot')</li>
<li>Aitor UGARTE - 18/May/2011: Reserve memory for ColNam</li>
<li>Aitor UGARTE - 16/Nov/2011: Get information about page breaks ('bra')</li>
<li>Aitor UGARTE - 25/Apr/2012: If it is a MIE (RepTyp = 3) get LdCol using DJRcnvLevCol</li>
<li>Aitor UGARTE - 03/May/2012: If not Level is defined set "" as background colour</li>
<li>Aitor UGARTE - 08/Jun/2012: When getting colour list, take into account all visible columns</li>
<li>Aitor UGARTE - 20/Aug/2012: Include milliseconds to the file names</li>
<li>Aitor UGARTE - 19/Oct/2012: Minimize console when launching in background</li>
<li>Aitor UGARTE - 13/Nov/2012: Add hostname, thread id and process id to the name of the xml file</li>
<li>Aitor UGARTE - 16/May/2013: Do not free LdAux as it is part of LdObj</li>
<li>Aitor UGARTE - 05/Aug/2013: If it is a MIE (RepTyp = 3), change totalisation levels</li>
<li>Aitor UGARTE - 12/Mar/2015: Add packages to DjrGenSpeRep and AluDjrGenRep classes</li>
<li>Aitor UGARTE - 30/Jun/2017: Pass log name as JVM argument to be used by log4j2</li>
<li>Aitor UGARTE - 26/Jul/2017: Don't rewrite NamDate (it is used as output parameter)</li>
<li>Aitor UGARTE - 14/Sep/2017: Add milliseconds to the log name </li>
</ul>

</div>
</div>
<a class="anchor" id="a5cf8d3d702587b608558234b3f488079"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DJRengXmlSavXml </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSchMtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSchCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdHdg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>StyNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CrtNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RepTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save a list in a file in XML format. </p>
<p>Save a list in a file in XML format. It generates two files:</p>
<ul>
<li>- FilNam.xml: File containing the data in XML format</li>
<li>- FilNam.xsd: File containing the XML schema of the dynamic list</li>
<li>It uses a format data list to be able to specify the format of the datum to be exported. If NULL it uses the default format.</li>
<li>This formats list can be created calling the DYNinitDynFormatList function.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDta</td><td>Data list </td></tr>
    <tr><td class="paramname">LdCrt</td><td>Criteria List </td></tr>
    <tr><td class="paramname">LdSchMtx</td><td>Matrix Schema list (lab, siz, jfy, ide, dbn, vsb) </td></tr>
    <tr><td class="paramname">LdSchCrt</td><td>Criteria Schema list (lab, siz, jfy, ide, dbn, vsb) </td></tr>
    <tr><td class="paramname">LdHdg</td><td>Header list </td></tr>
    <tr><td class="paramname">LdCol</td><td>Colour list </td></tr>
    <tr><td class="paramname">FilNam</td><td>Full file name (including path and extension) </td></tr>
    <tr><td class="paramname">StyNam</td><td>Style file name </td></tr>
    <tr><td class="paramname">CrtNam</td><td>Criteria file name </td></tr>
    <tr><td class="paramname">RepTyp</td><td>Type of report (matrix or static)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (DYN_SUCCES : OK; DYN_ERREUR : error)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 12/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 25/Sep/2009: Move function from <a class="el" href="dyn_fcn_8c.html" title="Dynamic lists manipulation functions.">dynFcn.c</a> to <a class="el" href="_djr_fcn_8c.html" title="Jasper report functions.">DjrFcn.c</a></li>
<li>Josune BIKUNA - 11/May/2010: use the criteria format list to print the criteria</li>
<li>Aitor UGARTE - 24/Jun/2010: Add LdCol to get information about the colours</li>
<li>Aitor UGARTE - 28/Jan/2011: Add TatTyp parameter to lcDJRsavXmlStl call</li>
<li>Aitor UGARTE - 14/Oct/2011: Add call to DJRaddTotLines</li>
<li>Aitor UGARTE - 18/Nov/2011: Call to DJRaddTotLines only if it is a generic report</li>
<li>Aitor UGARTE - 01/Dec/2011: Check LdDta has data before adding total lines</li>
<li>Aitor UGARTE - 27/Apr/2012 : Do not call to DJRaddTotLines when printing a MIE </li>
</ul>

</div>
</div>
<a class="anchor" id="a742c56fa54ce6da561ae6186337ef3b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcDJRengListToXsd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDtaCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFmtCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SchNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RepTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the XML schema file for a dynamic list. </p>
<p>Generate the XML schema file for a dynamic list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDta</td><td>Source list </td></tr>
    <tr><td class="paramname">LdDtaCrt</td><td>Criteria list </td></tr>
    <tr><td class="paramname">LdFmt</td><td>Format data list </td></tr>
    <tr><td class="paramname">LdFmtCrt</td><td>Format data list for the criteria </td></tr>
    <tr><td class="paramname">SchNam</td><td>Name of the schema file </td></tr>
    <tr><td class="paramname">RepTyp</td><td>Report type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (DYN_SUCCES : OK; DYN_ERREUR : error)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 12/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 25/Sep/2009: Move function from <a class="el" href="dyn_fcn_8c.html" title="Dynamic lists manipulation functions.">dynFcn.c</a> to <a class="el" href="_djr_fcn_8c.html" title="Jasper report functions.">DJrFcn.c</a></li>
<li>Josune BIKUNA - 11/May/2010: Add the LdFmtCrt parameter. It is used to print the criteria</li>
<li>Aitor UGARTE - 17/Nov/2011: The schema file was not correct. Insert the correct ending tags </li>
</ul>

</div>
</div>
<a class="anchor" id="ae926f747df97a9df9936af7306113c83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcDJRengSavXmlStl </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>StyNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RepTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>TagTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an xml file with all the information about styles. </p>
<p>Create an xml file with all the information about styles</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSch</td><td>Schema list (lab, siz, jfy, ide, dbn, vsb) </td></tr>
    <tr><td class="paramname">LdFmt</td><td>Format list </td></tr>
    <tr><td class="paramname">StyNam</td><td>Name of the style xml file </td></tr>
    <tr><td class="paramname">RepTyp</td><td>Report type </td></tr>
    <tr><td class="paramname">TagTyp</td><td>Tag of the xml file (criteria or style)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 23/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 25/Sep/2009: Move function from <a class="el" href="dyn_fcn_8c.html" title="Dynamic lists manipulation functions.">dynFcn.c</a> to <a class="el" href="_djr_fcn_8c.html" title="Jasper report functions.">DJrFcn.c</a></li>
<li>Aitor UGARTE - 06/Jul/2010: If a 'dbn' has any space, remove it. Don't use special character treatment for 'dbn' column</li>
<li>Aitor UGARTE - 16/Jul/2010: Add number of decimals ('dec') for static reports</li>
<li>Aitor UGARTE - 04/Oct/2010: Add maximum column width ('ValSiz') for static reports</li>
<li>Aitor UGARTE - 28/Jan/2011: Modify the structure of the xml file to be used with XStream</li>
<li>Aitor UGARTE - 24/Mar/2011: Initialize as empty strings the variables where the information</li>
<li>has to be stored</li>
<li>Aitor UGARTE - 28/Apr/2011: Add information about 'gtt' and 'tot' to the xml file</li>
<li>Aitor UGARTE - 14/Jul/2011: Add information about 'rmz' and 'siz' to the xml file</li>
<li>Aitor UGARTE - 16/Nov/2011: Add information about 'bra' to the xml file</li>
<li>Aitor UGARTE - 17/Nov/2011: Get 'bra' as a string and not as an integer</li>
<li>Aitor UGARTE - 22/Oct/2012: Fix doxygen warnings</li>
<li>Aitor UGARTE - 26/Feb/2014: If LdSch is null, don't add any element to style xml file </li>
</ul>

</div>
</div>
<a class="anchor" id="a8d5f922fb46561297fd6f6c450fe557c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcDJRengXmlSavXml </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCrtFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdHdg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>RepTyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save data and criteria lists in the xml file. </p>
<p>Save data and criteria lists in the xml file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdDta</td><td>Source list </td></tr>
    <tr><td class="paramname">LdCrt</td><td>Criteria list </td></tr>
    <tr><td class="paramname">LdFmt</td><td>Format data list </td></tr>
    <tr><td class="paramname">LdCrtFmt</td><td>Criteria Format list </td></tr>
    <tr><td class="paramname">LdHdg</td><td>Header list </td></tr>
    <tr><td class="paramname">LdCol</td><td>Colour list </td></tr>
    <tr><td class="paramname">FilNam</td><td>Name of the XML file </td></tr>
    <tr><td class="paramname">RepTyp</td><td>Report type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (DYN_SUCCES : OK; DYN_ERREUR : error)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 12/Jan/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 25/Sep/2009: Move function from <a class="el" href="dyn_fcn_8c.html" title="Dynamic lists manipulation functions.">dynFcn.c</a> to <a class="el" href="_djr_fcn_8c.html" title="Jasper report functions.">DjrFcn.c</a></li>
<li>Aitor UGARTE - 20/Apr/2010: Create "Header" element only if LdHdg is not null.</li>
<li>Aitor UGARTE - 24/Jun/2010: Add LdCol to get information about the colour</li>
<li>Aitor UGARTE - 28/Jan/2010: Modify the structure of the xml file to be used with XStream </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_eng_djr_8c.html">EngDjr.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:33 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
