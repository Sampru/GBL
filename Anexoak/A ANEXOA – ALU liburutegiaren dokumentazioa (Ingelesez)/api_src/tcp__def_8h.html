<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: inc/tcp_def.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tcp__def_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tcp_def.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interprocess communications primitives through sockets.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="_alu_mcr_8h_source.html">AluMcr.h</a>&gt;</code><br/>
</div>
<p><a href="tcp__def_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c16c173a4717d84fd0670276ebe79b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a8c16c173a4717d84fd0670276ebe79b1">MAX_HOSTNAME</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:a8c16c173a4717d84fd0670276ebe79b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af3ba97012f0c5bf7df03799c5991bc92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92">t_tcp</a> { <br/>
&#160;&#160;<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92ae33ed789f1f5c2f632ed38c2cf50ec16">TCP_INV_PRT</a> = -1, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a2a305cbdcc3e03c92f1874f9a59ea508">TCP_INV_SCK</a> = -1, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a03026aee678361fdcb1d17baaf69c053">TCP_ALL_SCK</a> = -2, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92ae8fd5de53c85c9d17e31ad157148581d">TCP_TO_ACCEPT</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a75c4de61cf6d89d395f016e779caf4f7">TCP_CONNECTED</a> = 1, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92ab303054e523cbdda99e3d3814e654976">TCP_ACCEPTED</a> = 2, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a307998cc8523ca19eb9a55e12b8bf846">TCP_NOT_READY</a> = 0, 
<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a6c88e496725d5d2a4e1bc21c374ed9d6">TCP_READY</a> = 1, 
<br/>
&#160;&#160;<a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92a340707d8cc68d074ebed268f7ad8c3bf">TCP_DISCONNEC</a> = -1
<br/>
 }</td></tr>
<tr class="separator:af3ba97012f0c5bf7df03799c5991bc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a266562083f5cdc26a9a6e6a6077c799d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a266562083f5cdc26a9a6e6a6077c799d">TCPalloc</a> (int CntSck, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, char **Dat, int *Siz, int *Use)</td></tr>
<tr class="memdesc:a266562083f5cdc26a9a6e6a6077c799d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find data information and allocate memory if necessary.  <a href="#a266562083f5cdc26a9a6e6a6077c799d"></a><br/></td></tr>
<tr class="separator:a266562083f5cdc26a9a6e6a6077c799d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3fcb106376afa2e143230bd65d56b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#aec3fcb106376afa2e143230bd65d56b1">TCPtrace</a> (int Tra)</td></tr>
<tr class="memdesc:aec3fcb106376afa2e143230bd65d56b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the trace level of the module.  <a href="#aec3fcb106376afa2e143230bd65d56b1"></a><br/></td></tr>
<tr class="separator:aec3fcb106376afa2e143230bd65d56b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920bbc33975932436d73ffb486dde57a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a920bbc33975932436d73ffb486dde57a">TCPini</a> (void **<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, int Tra)</td></tr>
<tr class="memdesc:a920bbc33975932436d73ffb486dde57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise TCP module and set the trace level.  <a href="#a920bbc33975932436d73ffb486dde57a"></a><br/></td></tr>
<tr class="separator:a920bbc33975932436d73ffb486dde57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43831aba7ed0f769ae22c22d03548be7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a43831aba7ed0f769ae22c22d03548be7">TCPend</a> (void **<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>)</td></tr>
<tr class="memdesc:a43831aba7ed0f769ae22c22d03548be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up TCP module.  <a href="#a43831aba7ed0f769ae22c22d03548be7"></a><br/></td></tr>
<tr class="separator:a43831aba7ed0f769ae22c22d03548be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac378f2cac7421149e14648c66764093c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#ac378f2cac7421149e14648c66764093c">TCPconnect</a> (char *Hst, char *Usr, int Prt, char *Nam, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, int *Sck)</td></tr>
<tr class="memdesc:ac378f2cac7421149e14648c66764093c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a TCP/IP socket and connect it to a given port.  <a href="#ac378f2cac7421149e14648c66764093c"></a><br/></td></tr>
<tr class="separator:ac378f2cac7421149e14648c66764093c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8db43599dd8317806af0142f7ee687"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#aec8db43599dd8317806af0142f7ee687">TCPaccepting</a> (char *Hst, int Prt, char *Nam, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, int *Sck)</td></tr>
<tr class="memdesc:aec8db43599dd8317806af0142f7ee687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a TCP/IP socket and bind it to a given port.  <a href="#aec8db43599dd8317806af0142f7ee687"></a><br/></td></tr>
<tr class="separator:aec8db43599dd8317806af0142f7ee687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd57f75da5421d19f5ca57e17f8c9aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#acdd57f75da5421d19f5ca57e17f8c9aa">TCPaccept</a> (int Sck, char *Nam, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, int *NewSck)</td></tr>
<tr class="memdesc:acdd57f75da5421d19f5ca57e17f8c9aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept a connection on a bound TCP/IP socket.  <a href="#acdd57f75da5421d19f5ca57e17f8c9aa"></a><br/></td></tr>
<tr class="separator:acdd57f75da5421d19f5ca57e17f8c9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259e550a580fd63e460c33ccfe379897"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a259e550a580fd63e460c33ccfe379897">TCPsend</a> (int Sck, char *Msg, int Siz, int *Nbw)</td></tr>
<tr class="memdesc:a259e550a580fd63e460c33ccfe379897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a stream into a connected socket.  <a href="#a259e550a580fd63e460c33ccfe379897"></a><br/></td></tr>
<tr class="separator:a259e550a580fd63e460c33ccfe379897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be844e59f1fbef30cd939eee32f0977"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a6be844e59f1fbef30cd939eee32f0977">TCPselect</a> (void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, double *Tmo, int *NbRdy)</td></tr>
<tr class="memdesc:a6be844e59f1fbef30cd939eee32f0977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select sockets ready for reading.  <a href="#a6be844e59f1fbef30cd939eee32f0977"></a><br/></td></tr>
<tr class="separator:a6be844e59f1fbef30cd939eee32f0977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6694c1c0573e71958ecaecea37c47535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a6694c1c0573e71958ecaecea37c47535">TCPstep</a> (int Sck, int Stp, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>)</td></tr>
<tr class="memdesc:a6694c1c0573e71958ecaecea37c47535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the data allocation step of a socket data.  <a href="#a6694c1c0573e71958ecaecea37c47535"></a><br/></td></tr>
<tr class="separator:a6694c1c0573e71958ecaecea37c47535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7d0a1d2a3e23655352413e623540ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a7f7d0a1d2a3e23655352413e623540ed">TCPrecv</a> (int Sck, int Siz, char *Buf, int *Nbr)</td></tr>
<tr class="memdesc:a7f7d0a1d2a3e23655352413e623540ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a stream from a connected socket.  <a href="#a7f7d0a1d2a3e23655352413e623540ed"></a><br/></td></tr>
<tr class="separator:a7f7d0a1d2a3e23655352413e623540ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720c013d6acec87d75f269710101ab20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a720c013d6acec87d75f269710101ab20">TCPrecvAll</a> (void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>)</td></tr>
<tr class="memdesc:a720c013d6acec87d75f269710101ab20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a stream from connected sockets.  <a href="#a720c013d6acec87d75f269710101ab20"></a><br/></td></tr>
<tr class="separator:a720c013d6acec87d75f269710101ab20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a078dd80a5a488508cfb4098875e89f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a6a078dd80a5a488508cfb4098875e89f">TCPgetData</a> (int CntSck, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, char **Dat, int *Use)</td></tr>
<tr class="memdesc:a6a078dd80a5a488508cfb4098875e89f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the data read on a socket and its size.  <a href="#a6a078dd80a5a488508cfb4098875e89f"></a><br/></td></tr>
<tr class="separator:a6a078dd80a5a488508cfb4098875e89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcf3cc10e4226625169155d06eb0cdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a6dcf3cc10e4226625169155d06eb0cdf">TCPdiscard</a> (int CntSck, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, int Siz)</td></tr>
<tr class="memdesc:a6dcf3cc10e4226625169155d06eb0cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard data that has been already read.  <a href="#a6dcf3cc10e4226625169155d06eb0cdf"></a><br/></td></tr>
<tr class="separator:a6dcf3cc10e4226625169155d06eb0cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72749237be1270ac46e38f890637885c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#a72749237be1270ac46e38f890637885c">TCPclose</a> (int Sck, void *<a class="el" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>)</td></tr>
<tr class="memdesc:a72749237be1270ac46e38f890637885c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a socket.  <a href="#a72749237be1270ac46e38f890637885c"></a><br/></td></tr>
<tr class="separator:a72749237be1270ac46e38f890637885c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbfc92b84ea15bd4df217283ce3be495"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp__def_8h.html#abbfc92b84ea15bd4df217283ce3be495">TCPgetSckPrt</a> (int Sck, int *PortNb)</td></tr>
<tr class="memdesc:abbfc92b84ea15bd4df217283ce3be495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the port of an open socket.  <a href="#abbfc92b84ea15bd4df217283ce3be495"></a><br/></td></tr>
<tr class="separator:abbfc92b84ea15bd4df217283ce3be495"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interprocess communications primitives through sockets. </p>
<dl class="section user"><dt>Acronyme</dt><dd>TCP (TCP/IP)</dd></dl>
<p>Interprocess communications primitives through sockets</p>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 08/Sep/2000 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a8c16c173a4717d84fd0670276ebe79b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_HOSTNAME&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tcp__def_8h.html#af3ba97012f0c5bf7df03799c5991bc92">t_tcp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92ae33ed789f1f5c2f632ed38c2cf50ec16"></a>TCP_INV_PRT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a2a305cbdcc3e03c92f1874f9a59ea508"></a>TCP_INV_SCK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a03026aee678361fdcb1d17baaf69c053"></a>TCP_ALL_SCK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92ae8fd5de53c85c9d17e31ad157148581d"></a>TCP_TO_ACCEPT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a75c4de61cf6d89d395f016e779caf4f7"></a>TCP_CONNECTED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92ab303054e523cbdda99e3d3814e654976"></a>TCP_ACCEPTED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a307998cc8523ca19eb9a55e12b8bf846"></a>TCP_NOT_READY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a6c88e496725d5d2a4e1bc21c374ed9d6"></a>TCP_READY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af3ba97012f0c5bf7df03799c5991bc92a340707d8cc68d074ebed268f7ad8c3bf"></a>TCP_DISCONNEC</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acdd57f75da5421d19f5ca57e17f8c9aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPaccept </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NewSck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept a connection on a bound TCP/IP socket. </p>
<p>Accept a connection on a bound TCP/IP socket.</p>
<ul>
<li>A new socket NewSck is created and communication is carried out through this new socket. Sck may be used to accept more connections.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket identifier. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the accepted socket </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">NewSck</td><td>(out) Accepted connection socket</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>David ROMERO - 04/Mar/2015: Added a cast to int in "accept" function, this cast corrects warning C4244.</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="tcp__def_8h.html#acdd57f75da5421d19f5ca57e17f8c9aa" title="Accept a connection on a bound TCP/IP socket.">TCPaccept</a> (Sck, Nam, <a class="code" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, &amp;NewSck));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aec8db43599dd8317806af0142f7ee687"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPaccepting </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Hst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Prt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Sck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a TCP/IP socket and bind it to a given port. </p>
<p>Open a TCP/IP socket and bind it to a given port.</p>
<ul>
<li>The socket is left ready to accept connections.</li>
<li>We can accept connections (see TCPaccept) and communicate (read or write) on each of the new sockets created with each of these connections.</li>
<li>If the port number passed as parameter is 0, set the port number from a range of ports defined by the user. This range of ports is defined with the constant values 'aluCmPrtMn' and 'aluCmPrtMx', which are minimum and maximun ports of the available range respectively.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Hst</td><td>Socket hostname. If NULL current hostname. </td></tr>
    <tr><td class="paramname">Prt</td><td>Socket port number. If 0 the system will assign a port number. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of this communication point </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Sck</td><td>(out) Socket identifier number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<p>&ndash; Basilio TAMAYO - 11/May/2001 If Prt is zero the system will assign a port and the list must be modified &ndash; Nerea RAMOS - 25/Apr/2002 Get user value and use it in lcTCPopen &ndash; Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX (). &ndash; Alex RODRIGUEZ - 27/Aug/2004. FoxUsr &ndash;&gt; AppUsr. &ndash; Josune BIKUNA - 06/Jul/2005. If the socket port is 0, do not let the system assign a port number, get a port number from a user defined range of ports instead. &ndash; Josune BIKUNA - 06/Jul/2005. If the socket port is 0, do not let the system assign a port &ndash; Alex RODRIGUEZ - 14/Mar/2006. Avoid lint warnings.</p>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management &ndash; Ismael SERRANO - 18/Sep/2006: Add mutex management &ndash; Edurne GORDOA - 08/May/2007: Copy connected user global variable to a local buffer. &ndash; Nerea RAMOS - 05/Jun/2007: Do not use listening queue for incoming connections in hard code, &ndash; Nerea RAMOS - 06/Jun/2007: Correct parameters in CSTreadVal &ndash; Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend &ndash; Basilio TAMAYO - 11/May/2001 If Prt is zero the system will assign a port and the list must be modified &ndash; Nerea RAMOS - 25/Apr/2002 Get user value and use it in lcTCPopen &ndash; Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX (). &ndash; Alex RODRIGUEZ - 27/Aug/2004. FoxUsr &ndash;&gt; AppUsr. &ndash; Josune BIKUNA - 06/Jul/2005. If the socket port is 0, do not let the system assign a port number, get a port number from a user defined range of ports instead. &ndash; Alex RODRIGUEZ - 14/Mar/2006. Avoid lint warnings.</li>
<li>Edurne GORDOA - 08/May/2007: Copy connected user global variable to a local buffer.</li>
<li>Nerea RAMOS - 05/Jun/2007: Do not use listening queue for incoming connections in hard code, use an application option instead.</li>
<li>Nerea RAMOS - 06/Jun/2007: Correct parameters in CSTreadVal<ul>
<li>Josune BIKUNA - 16/Feb/2011: Use lcTCPgetLstErr for getting the error message. It is based on getting the errors in different ways depending on the operating system</li>
<li>Josune BIKUNA - 21/Feb/2011: Initialise to NULL the variable PtrUsr just in case "AppUsr" global variable is not defined</li>
<li><p class="startli">Lorea NAVARRO - 11/Oct/2012: correct warnings generated by doxygen tool. examples: int Sck;</p>
<p class="startli">ERRchk (TCPaccepting (NULL, 0, LdSck, &amp;Sck)); ERRchk (TCPaccepting (Name, Port, LdSck, &amp;Sck)); </p>
</li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a266562083f5cdc26a9a6e6a6077c799d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPalloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CntSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Siz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Use</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find data information and allocate memory if necessary. </p>
<p>Find data information and allocate memory if necessary</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CntSck</td><td>Socket line. </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Dat</td><td>Data pointer </td></tr>
    <tr><td class="paramname">Siz</td><td>Size </td></tr>
    <tr><td class="paramname">Use</td><td>Bytes used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 22/May/2006: Make it public</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management </li>
</ul>

</div>
</div>
<a class="anchor" id="a72749237be1270ac46e38f890637885c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPclose </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a socket. </p>
<p>Close a socket</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket identifier. </td></tr>
    <tr><td class="paramname">LdSck</td><td>List of sockets (NULL if no list)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 11/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="tcp__def_8h.html#a72749237be1270ac46e38f890637885c" title="Close a socket.">TCPclose</a> (Sck, <a class="code" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac378f2cac7421149e14648c66764093c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPconnect </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Hst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Prt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Sck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a TCP/IP socket and connect it to a given port. </p>
<p>Open a TCP/IP socket and connect it to a given port.</p>
<ul>
<li>There must be a peer accepting connections at the other end. Otherwise an error will be produced.</li>
<li>This means that the end issuing this function must always be executed after the end that accepts connections (or must be able to wait).</li>
<li>It tries to stablish the connection until the value parametrised in the maximum number of trying (aluCmTryNb) application option.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Hst</td><td>Socket hostname. If NULL current hostname. </td></tr>
    <tr><td class="paramname">Usr</td><td>User name </td></tr>
    <tr><td class="paramname">Prt</td><td>Socket port number. If 0 the system will assign a port number. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of this communication point </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Sck</td><td>(out) Socket identifier. This identifier is the "file descriptor"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 10/Apr/2002 Control if LdSck parameter is NULL</li>
<li>Nerea RAMOS - 25/Apr/2002 Call to ERRsetInfo if connection failed and added Usr parameter.</li>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Edurne GORDOA - 31/May/2007: Take into account maximum number of tryings to stablish connection</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
<li>Josune BIKUNA - 16/Feb/2011: Use lcTCPgetLstErr for getting the error message. It is based on getting the errors in different ways depending on the operating system</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="tcp__def_8h.html#ac378f2cac7421149e14648c66764093c" title="Open a TCP/IP socket and connect it to a given port.">TCPconnect</a> (Hst, Prt, Nam, <a class="code" href="cmm__functions_8c.html#a9007429c4da92a7f40228fce69a2315a">LdSck</a>, &amp;Sck));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a6dcf3cc10e4226625169155d06eb0cdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPdiscard </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CntSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Siz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard data that has been already read. </p>
<p>Discard data that has been already read.</p>
<ul>
<li>When all the information has not been used the valid information will be shifted appropriately.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CntSck</td><td>Socket counter </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Siz</td><td>Size of the block to discard</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 11/Sep/2000 </dd></dl>

</div>
</div>
<a class="anchor" id="a43831aba7ed0f769ae22c22d03548be7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPend </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSck</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up TCP module. </p>
<p>Clean up TCP module. This function must be called for the PC version to clean up winsock related information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSck</td><td>Socket list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management </li>
</ul>

</div>
</div>
<a class="anchor" id="a6a078dd80a5a488508cfb4098875e89f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPgetData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>CntSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Use</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the data read on a socket and its size. </p>
<p>Get a pointer to the data read on a socket and its size</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CntSck</td><td>Socket </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Dat</td><td>(out) Data - see TCPdiscard </td></tr>
    <tr><td class="paramname">Use</td><td>(out) Size of the used part</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 11/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Lorea NAVARRO - 11/Oct/2012: correct warnings generated by doxygen tool. </li>
</ul>

</div>
</div>
<a class="anchor" id="abbfc92b84ea15bd4df217283ce3be495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPgetSckPrt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>PortNb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the port of an open socket. </p>
<p>Retrieve the port of an open socket</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket identifier </td></tr>
    <tr><td class="paramname">PortNb</td><td>(out) Port number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 11/Sep/2000</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="tcp__def_8h.html#abbfc92b84ea15bd4df217283ce3be495" title="Retrieve the port of an open socket.">TCPgetSckPrt</a> (Sck, &amp;PortNb));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a920bbc33975932436d73ffb486dde57a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPini </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Tra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise TCP module and set the trace level. </p>
<p>Initialise TCP module and set the trace level.</p>
<ul>
<li>It initialises the LdSck list, which may be used to select ready sockets, retrieve information and show traces. See its structure in the module header.</li>
<li>Note that this function must be called for the PC version to initialise the winsock module. Several calls to this function (to initialise several socket lists) will not cause problems.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSck</td><td>(OUT) Socket list </td></tr>
    <tr><td class="paramname">Tra</td><td>Trace level (0: no trace; -1: don't change current)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 14/Mar/2006. Avoid compilation warnings.</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Alex RODRIGUEZ - 14/Mar/2006. Avoid compilation warnings.</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="tcp__ip_8c.html#a88389d2744ff2791c637ffd52e174871" title="Clean up TCP module.">TCPend</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7f7d0a1d2a3e23655352413e623540ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPrecv </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Siz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Nbr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a stream from a connected socket. </p>
<p>Read a stream from a connected socket.</p>
<ul>
<li>Note that this operation may block the caller if no information has been written in the socket. Use TCPselect to check this condition.</li>
</ul>
<ul>
<li>When the operation fails we presume there's been a disconnection, so that we must close the socket. However, this must be done by the user because we may still have information to treat.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket identifier. </td></tr>
    <tr><td class="paramname">Buf</td><td>Reserved memory to leave the stream </td></tr>
    <tr><td class="paramname">Siz</td><td>Size of the buffer </td></tr>
    <tr><td class="paramname">Nbr</td><td>(out) Number of bytes read. 0 if peer disconnected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
<li>Aitziber BARRERO - 23/Apr/2008. Add ERRret;</li>
<li><p class="startli">Lorea NAVARRO - 11/Oct/2012: correct warnings generated by doxygen tool. example 1:</p>
<p class="startli">char Buffer [MY_BUFF_SIZE];</p>
<p class="startli">ERRchk (TCPrecv (Sck, MY_BUFF_SIZE, Buffer, &amp;Nbr));</p>
</li>
</ul>
<p>example 2:</p>
<p>char Buffer [MY_BUFF_SIZE]; ... ERRchk (TCPrecv (Sck, MY_BUFF_SIZE - AlreadyRead, &amp;Buffer [AlreadyRead], &amp;Nbr)); </p>

</div>
</div>
<a class="anchor" id="a720c013d6acec87d75f269710101ab20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPrecvAll </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a stream from connected sockets. </p>
<p>Read a stream from connected sockets</p>
<ul>
<li>Note that this operation may block the caller. See TCPrecv and TCPselect for more details.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSck</td><td>Socket list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management </li>
</ul>

</div>
</div>
<a class="anchor" id="a6be844e59f1fbef30cd939eee32f0977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPselect </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbRdy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select sockets ready for reading. </p>
<p>Select sockets ready for reading</p>
<ul>
<li>Take a list of sockets registered in a LdSck (see lcTCPregis for more details) and see if any of them is ready for reading. This operation will wait for a given timeout (time to wait).</li>
<li>A timeout of 0.0 will return immediately with the list of ready sockets (possibly none).</li>
<li>This implementation enables specifying a time granularity up to the microsecond (10^-6 seconds) but the accuracy of this value depends on the underlying operating system.</li>
<li>A negative timeout value will block indefinitely the caller until at least one of the sockets is ready.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdSck</td><td>Socket list </td></tr>
    <tr><td class="paramname">Tmo</td><td>(in/out) Timeout in seconds (e.g. 5.25). It returns an estimation of the time remaining to the timeout. For the current implementation the time granularity is one second. </td></tr>
    <tr><td class="paramname">NbRdy</td><td>(out) Number of ready sockets</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Error code (0 if OK)</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 10/Apr/2002 Control if LdSck parameter is NULL</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Josune BIKUNA - 02/Mar/2010: Improve the managment of some traces. Convert some traces from level 2 to 3, and improve the message of others.</li>
<li>Egoitz GARAY - 06/Feb/2015: Disabled warning 4127 on Visual Studio. </li>
</ul>

</div>
</div>
<a class="anchor" id="a259e550a580fd63e460c33ccfe379897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPsend </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Siz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Nbw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a stream into a connected socket. </p>
<p>Write a stream into a connected socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket identifier. </td></tr>
    <tr><td class="paramname">Msg</td><td>Stream to write </td></tr>
    <tr><td class="paramname">Siz</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramname">Nbw</td><td>(out) Number of bytes to written</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Josune BIKUNA - 16/Feb/2011: Use lcTCPgetLstErr for getting the error message. It is based on getting the errors in different ways depending on the operating system</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="tcp__def_8h.html#a259e550a580fd63e460c33ccfe379897" title="Write a stream into a connected socket.">TCPsend</a> (Sck, Message, NbMsg, &amp;Nbr));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a6694c1c0573e71958ecaecea37c47535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPstep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Stp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdSck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify the data allocation step of a socket data. </p>
<p>Specify the data allocation step of a socket data. Not that this function doesn't reallocate data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sck</td><td>Socket (TCP_ALL_SCK: all) </td></tr>
    <tr><td class="paramname">Stp</td><td>Step (default: 256) </td></tr>
    <tr><td class="paramname">LdSck</td><td>Socket list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Sep/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
<li>Ismael SERRANO - 22/Apr/2008. Free mutex at ERRend</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management </li>
</ul>

</div>
</div>
<a class="anchor" id="aec3fcb106376afa2e143230bd65d56b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_alu_mcr_8h.html#a52759267392ed3be5bc6134106cf038e">ALUMCR_EXP</a> int TCPtrace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Tra</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the trace level of the module. </p>
<p>Set the trace level of the module</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Tra</td><td>Trace level (0: no trace)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Aug/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management</li>
</ul>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ismael SERRANO - 18/Sep/2006: Add mutex management </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li><li class="navelem"><a class="el" href="tcp__def_8h.html">tcp_def.h</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:30 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
