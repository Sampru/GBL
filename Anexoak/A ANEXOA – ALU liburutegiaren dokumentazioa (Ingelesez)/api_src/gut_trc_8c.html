<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: src/gutTrc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gut_trc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gutTrc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Trace utilities.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="cst__def_8h_source.html">cst_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="err_def_8h_source.html">errDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gut__def_8h_source.html">gut_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gb_8h_source.html">gb.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="db__def_8h_source.html">db_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="osd_def_8h_source.html">osdDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="systeme_8h_source.html">systeme.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="trace_8h_source.html">trace.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9f877ead7227a7525dc30a6580baa345"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gut_trc_8c.html#a9f877ead7227a7525dc30a6580baa345">LOG_ORD_FIL</a>&#160;&#160;&#160;&quot;order_trace.dat&quot;</td></tr>
<tr class="memdesc:a9f877ead7227a7525dc30a6580baa345"><td class="mdescLeft">&#160;</td><td class="mdescRight">file name of trace order file that will be located in "log" environment variable  <a href="#a9f877ead7227a7525dc30a6580baa345"></a><br/></td></tr>
<tr class="separator:a9f877ead7227a7525dc30a6580baa345"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad782b2dc15844bb5cb56caf8f55e409a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gut_trc_8c.html#ad782b2dc15844bb5cb56caf8f55e409a">GUTtrcSetBufMod</a> (int TrcMod)</td></tr>
<tr class="memdesc:ad782b2dc15844bb5cb56caf8f55e409a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set trace buffering mode.  <a href="#ad782b2dc15844bb5cb56caf8f55e409a"></a><br/></td></tr>
<tr class="separator:ad782b2dc15844bb5cb56caf8f55e409a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21ce548233d7733a2d5ba54dfd01740"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gut_trc_8c.html#ad21ce548233d7733a2d5ba54dfd01740">GUTtrcSetBufModCst</a> (void)</td></tr>
<tr class="memdesc:ad21ce548233d7733a2d5ba54dfd01740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set trace buffering mode from cst ide 'GUTtrcBuf'.  <a href="#ad21ce548233d7733a2d5ba54dfd01740"></a><br/></td></tr>
<tr class="separator:ad21ce548233d7733a2d5ba54dfd01740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84f7cda3f220052f2360b8349dc45fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gut_trc_8c.html#ab84f7cda3f220052f2360b8349dc45fd">GUTtrcSetOrdFil</a> (void)</td></tr>
<tr class="memdesc:ab84f7cda3f220052f2360b8349dc45fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read traces order file.  <a href="#ab84f7cda3f220052f2360b8349dc45fd"></a><br/></td></tr>
<tr class="separator:ab84f7cda3f220052f2360b8349dc45fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d81d834b5cc0e58a4269015ecbf7576"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gut_trc_8c.html#a7d81d834b5cc0e58a4269015ecbf7576">GUTtrcGetTrtDta</a> (void *Ctx, char *Trt, void *LdTrtDta)</td></tr>
<tr class="memdesc:a7d81d834b5cc0e58a4269015ecbf7576"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get specific data for one treatment from DB for traces management.  <a href="#a7d81d834b5cc0e58a4269015ecbf7576"></a><br/></td></tr>
<tr class="separator:a7d81d834b5cc0e58a4269015ecbf7576"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Trace utilities. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="gut__def_8h.html" title="Header file for general utilities treatments.">gut_def.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>GUTtrc</dd></dl>
<p>Trace utilities, functions to manage traces</p>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 23/Oct/2002</dd></dl>
<dl class="section user"><dt>Improve</dt><dd></dd></dl>
<ul>
<li>This functions have been created to be able to test distinct trace buffering modes. In the future, we won't want to change buffering mode. We'll only use GUTtrcSetBufMod to set line buffering (mode 4) when traces go to file (-tracefile). </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9f877ead7227a7525dc30a6580baa345"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_ORD_FIL&#160;&#160;&#160;&quot;order_trace.dat&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>file name of trace order file that will be located in "log" environment variable </p>
<p>file name of trace order file that will be located in "log" environment variable</p>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 15/Jan/2008</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="trace_8h.html">trace.h</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7d81d834b5cc0e58a4269015ecbf7576"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GUTtrcGetTrtDta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTrtDta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get specific data for one treatment from DB for traces management. </p>
<p>Get specific data for one treatment from DB for traces management.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Trace buffering mode </td></tr>
    <tr><td class="paramname">Trt</td><td>Trace buffering mode </td></tr>
    <tr><td class="paramname">LdTrtDta</td><td>(out) Information of the treatment/s (active/inactive, trt, dsecription, log file)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 27/Jan/2009: </dd></dl>

</div>
</div>
<a class="anchor" id="ad782b2dc15844bb5cb56caf8f55e409a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GUTtrcSetBufMod </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TrcMod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set trace buffering mode. </p>
<p>Set trace buffering mode. Uses setbuf and setvbuf functions to change trace buffering mode</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TrcMod</td><td>Trace buffering mode<ul>
<li>gut_trc_not_chg: Don't change trace buffering mode.</li>
<li>gut_trc_dft_buf: Set BUFSIZ size buffer. (buffer flushed every BUFSIZ bytes)</li>
<li>gut_trc_nul_buf: Set NULL buffer (No buffer, trace direct to file)</li>
<li>gut_trc_big_buf: Set big buffer (Buffer flushed every 16392 bytes)</li>
<li>gut_trc_lin_buf: Set line buffering (output is line buffered; buffer will be flushed when a newline is written or the BUFSIZ buffer is full</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 23/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 08/Nov/2002: Change cst ide BufTrace by GUTtrcBuf</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="gut__def_8h.html#af8b437232190c81d87f3406924217d92" title="Set trace buffering mode.">GUTtrcSetBufMod</a> ((<span class="keywordtype">int</span>) <a class="code" href="cst__def_8h.html#a69c8bd228691e4ace1b2b17919137b81" title="Get the val field from the internal list.">CSTreadVal</a> (<span class="stringliteral">&quot;GUTtrcBuf&quot;</span>)));</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="gut_trc_8c.html#ad21ce548233d7733a2d5ba54dfd01740" title="Set trace buffering mode from cst ide &#39;GUTtrcBuf&#39;.">GUTtrcSetBufModCst</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad21ce548233d7733a2d5ba54dfd01740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GUTtrcSetBufModCst </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set trace buffering mode from cst ide 'GUTtrcBuf'. </p>
<p>Set trace buffering mode. Uses 'GUTtrcBuf' cst value an GUTtrcSetBufMod func. for it</p>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 23/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 08/Nov/2002: Change cst ide BufTrace by GUTtrcBuf</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="gut__def_8h.html#a2051f940edaa9d3ece3dc404caf700ee" title="Set trace buffering mode from cst ide &#39;GUTtrcBuf&#39;.">GUTtrcSetBufModCst</a> ());</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="gut_trc_8c.html#ad782b2dc15844bb5cb56caf8f55e409a" title="Set trace buffering mode.">GUTtrcSetBufMod</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab84f7cda3f220052f2360b8349dc45fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GUTtrcSetOrdFil </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read traces order file. </p>
<p>Read traces order file.</p>
<ul>
<li>Makes a call to TRsetInput function, with the ORDER_FILE environment variable.</li>
<li>Makes another call to TRsetInput function, with LOG_ORD_FIL ("trace_order.dat") file in the log directory (it may not exist: in that case TRsetInput does nothing)</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 15/Jan/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>David ROMERO - 23/Apr/2015: Changed getenv function to specific OSDgetEnv function</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="gut__def_8h.html#ae3b6d7ea024456360ef0ec4d585fadb7" title="Read traces order file.">GUTtrcSetOrdFil</a> ());</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="trace_8c.html#a6068f8340f18df9778555737ec288ab5" title="Redirige la sortie des traces.">TRsetInput</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="gut_trc_8c.html">gutTrc.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:35 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
