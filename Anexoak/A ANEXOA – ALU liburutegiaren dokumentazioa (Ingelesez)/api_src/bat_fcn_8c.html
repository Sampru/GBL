<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: src/batFcn.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('bat_fcn_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">batFcn.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Batch related functions. Code necessary to run tasks in batch mode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="alu__types_8h_source.html">alu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="bat_def_8h_source.html">batDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="book_access_8h_source.html">bookAccess.h</a>&gt;</code><br/>
<code>#include &lt;cardinal.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="chaine_8h_source.html">chaine.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cst__def_8h_source.html">cst_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="db__def_8h_source.html">db_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dyn_def_8h_source.html">dynDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_eml_def_8h_source.html">EmlDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="err_def_8h_source.html">errDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="fmt_num__def_8h_source.html">fmtNum_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gb_8h_source.html">gb.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="glb_def_8h_source.html">glbDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gut__def_8h_source.html">gut_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mb__def_8h_source.html">mb_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="osd__def_8h_source.html">osd_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="osd_def_8h_source.html">osdDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="sfi_def_8h_source.html">sfiDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="systeme_8h_source.html">systeme.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="tm__def_8h_source.html">tm_def.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82da3c0105b30c7da7db68a16e2762db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a82da3c0105b30c7da7db68a16e2762db">BAT_DAT_TDY</a>&#160;&#160;&#160;&quot;today&quot;</td></tr>
<tr class="memdesc:a82da3c0105b30c7da7db68a16e2762db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batch execution frequencies.  <a href="#a82da3c0105b30c7da7db68a16e2762db"></a><br/></td></tr>
<tr class="separator:a82da3c0105b30c7da7db68a16e2762db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f343a12c29e29eac57c5a8e5821df0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a01f343a12c29e29eac57c5a8e5821df0">BAT_DAT_CUR</a>&#160;&#160;&#160;&quot;current&quot;</td></tr>
<tr class="separator:a01f343a12c29e29eac57c5a8e5821df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ab3ae332a0e1a6280a92c27a945c0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a82ab3ae332a0e1a6280a92c27a945c0f">BAT_MAX_ARG_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a82ab3ae332a0e1a6280a92c27a945c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5053059cf4df392d07010f36c6a602"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4d5053059cf4df392d07010f36c6a602">BAT_TRT</a>&#160;&#160;&#160;4100</td></tr>
<tr class="separator:a4d5053059cf4df392d07010f36c6a602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6b7d4165730f2eda5fa818c5e9783d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a3c6b7d4165730f2eda5fa818c5e9783d">BAD_ARG_NB</a>&#160;&#160;&#160;10      /* Incorrect number of arguments                   */</td></tr>
<tr class="separator:a3c6b7d4165730f2eda5fa818c5e9783d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799517031a8334a42807b119bb456c53"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a799517031a8334a42807b119bb456c53">TIME_OUT</a>&#160;&#160;&#160;20      /* Batch cannot run at this time                   */</td></tr>
<tr class="separator:a799517031a8334a42807b119bb456c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fbf30924a0c682ec758a8e7379b897"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a42fbf30924a0c682ec758a8e7379b897">UNDEF_BAT</a>&#160;&#160;&#160;25      /* Undefined batch                                 */</td></tr>
<tr class="separator:a42fbf30924a0c682ec758a8e7379b897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb819e4ae8c8a87afca3de1ed45bc311"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#acb819e4ae8c8a87afca3de1ed45bc311">UNDEF_TSK</a>&#160;&#160;&#160;30      /* Undefined task                                  */</td></tr>
<tr class="separator:acb819e4ae8c8a87afca3de1ed45bc311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950027bac0fac81a104b62f7c753dc1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a950027bac0fac81a104b62f7c753dc1f">CIR_DEP</a>&#160;&#160;&#160;50      /* There is a circular dependence for task         */</td></tr>
<tr class="separator:a950027bac0fac81a104b62f7c753dc1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae3985b0249a869dfb22a9e853c11b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a7ae3985b0249a869dfb22a9e853c11b6">BAT_ALREADY_EXE</a>&#160;&#160;&#160;60      /* Batch already executed                          */</td></tr>
<tr class="separator:a7ae3985b0249a869dfb22a9e853c11b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4cfe1906c58cb3c81428028a5b138c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#afa4cfe1906c58cb3c81428028a5b138c">BAT_TSK_ERR</a>&#160;&#160;&#160;61      /* Error executing next batch task                 */</td></tr>
<tr class="separator:afa4cfe1906c58cb3c81428028a5b138c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f62958c41e8b159c8406a505c6fa4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac4f62958c41e8b159c8406a505c6fa4a">BAD_ARG_USR</a>&#160;&#160;&#160;71      /* Undefined user                                  */</td></tr>
<tr class="separator:ac4f62958c41e8b159c8406a505c6fa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4f35178f968157d797b64e7529843d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4d4f35178f968157d797b64e7529843d">BAD_ARG</a>&#160;&#160;&#160;72      /* Incorrect arguments                             */</td></tr>
<tr class="separator:a4d4f35178f968157d797b64e7529843d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1bef3be137bb87cdb36c756fec4560b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ad1bef3be137bb87cdb36c756fec4560b">NOT_BAT_TOT</a>&#160;&#160;&#160;73      /* Before launching partial batch, launch complete */</td></tr>
<tr class="separator:ad1bef3be137bb87cdb36c756fec4560b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8257505dba3047509b93553e6f0fa04f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8257505dba3047509b93553e6f0fa04f">BOOK_OUT_OF_DATE</a>&#160;&#160;&#160;80      /* Book not on batch date                          */</td></tr>
<tr class="separator:a8257505dba3047509b93553e6f0fa04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6e2da9b0d5bb064473f482065faccd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4d6e2da9b0d5bb064473f482065faccd">DAT_NOT_IN_FRQ</a>&#160;&#160;&#160;90      /* Date is not avaible for launching frequency     */</td></tr>
<tr class="separator:a4d6e2da9b0d5bb064473f482065faccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddec99ce63e561a9a764edd99b5ff75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#acddec99ce63e561a9a764edd99b5ff75">MISSING_BOOKS</a>&#160;&#160;&#160;100      /* No books defined for                            */</td></tr>
<tr class="separator:acddec99ce63e561a9a764edd99b5ff75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdda1afb366075291ad4446e4d650f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aecdda1afb366075291ad4446e4d650f6">NO_USR_EML_ADR</a>&#160;&#160;&#160;110      /* User has not email address                      */</td></tr>
<tr class="separator:aecdda1afb366075291ad4446e4d650f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1181b4e5ac9dde279e1e39aa5afb1246"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a1181b4e5ac9dde279e1e39aa5afb1246">BAT_ARD_RUN</a>&#160;&#160;&#160;120      /* Batch already running                           */</td></tr>
<tr class="separator:a1181b4e5ac9dde279e1e39aa5afb1246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59974468a8a4baec3d00a15ec0e69744"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a59974468a8a4baec3d00a15ec0e69744">BAT_LCH_NOT_EXE</a>&#160;&#160;&#160;121      /* Batch defined as OOD launched but not executed  */</td></tr>
<tr class="separator:a59974468a8a4baec3d00a15ec0e69744"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4ad5dd0bd52fd97e9065ede8936eef42"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4ad5dd0bd52fd97e9065ede8936eef42">BatBhvAls</a> { <a class="el" href="bat_fcn_8c.html#a4ad5dd0bd52fd97e9065ede8936eef42acb6746ae1dd6c08ebdc3ef443fe97b9c">bat_bhv_inc_als</a> = 0, 
<a class="el" href="bat_fcn_8c.html#a4ad5dd0bd52fd97e9065ede8936eef42a26199927e6e582fec303e33086d33d5e">bat_bhv_exc_als</a>, 
<a class="el" href="bat_fcn_8c.html#a4ad5dd0bd52fd97e9065ede8936eef42ae30932f6513cf3068e172a841f7fbe80">bat_bhv_aud_als</a>
 }</td></tr>
<tr class="separator:a4ad5dd0bd52fd97e9065ede8936eef42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae68b3d3ebdb1a4a591e41c556f790621"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ae68b3d3ebdb1a4a591e41c556f790621">lcBATaddTry</a> (void *Ctx, char *Bat, char *Dat, void *LdTsk)</td></tr>
<tr class="memdesc:ae68b3d3ebdb1a4a591e41c556f790621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add for each task in LdTsk the number of try the task is done in Dat.  <a href="#ae68b3d3ebdb1a4a591e41c556f790621"></a><br/></td></tr>
<tr class="separator:ae68b3d3ebdb1a4a591e41c556f790621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12dee46e99f79f0466aad78278940681"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a12dee46e99f79f0466aad78278940681">lcBATaud</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:a12dee46e99f79f0466aad78278940681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit completely a batch task with a given status.  <a href="#a12dee46e99f79f0466aad78278940681"></a><br/></td></tr>
<tr class="separator:a12dee46e99f79f0466aad78278940681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4ac29e631d6dbfd079273eacfb9919"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8d4ac29e631d6dbfd079273eacfb9919">lcBATaudCmp</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, void *LdAls)</td></tr>
<tr class="memdesc:a8d4ac29e631d6dbfd079273eacfb9919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete the auditory of a task in a date for all books.  <a href="#a8d4ac29e631d6dbfd079273eacfb9919"></a><br/></td></tr>
<tr class="separator:a8d4ac29e631d6dbfd079273eacfb9919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83dfce39a6ea694897d56c302d933a06"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a83dfce39a6ea694897d56c302d933a06">lcBATaudDel</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try)</td></tr>
<tr class="memdesc:a83dfce39a6ea694897d56c302d933a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all auditory for a date, batch and task unless the lines that aren't active.  <a href="#a83dfce39a6ea694897d56c302d933a06"></a><br/></td></tr>
<tr class="separator:a83dfce39a6ea694897d56c302d933a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6690c3f3d5cb7c45717df2e86f5f8bd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac6690c3f3d5cb7c45717df2e86f5f8bd">lcBATaudEnd</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:ac6690c3f3d5cb7c45717df2e86f5f8bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the end of a batch task with a given status.  <a href="#ac6690c3f3d5cb7c45717df2e86f5f8bd"></a><br/></td></tr>
<tr class="separator:ac6690c3f3d5cb7c45717df2e86f5f8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1226ea6b04097edc31cf0e4b75c631aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a1226ea6b04097edc31cf0e4b75c631aa">lcBATaudIni</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:a1226ea6b04097edc31cf0e4b75c631aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the beginning of a batch task with a given status.  <a href="#a1226ea6b04097edc31cf0e4b75c631aa"></a><br/></td></tr>
<tr class="separator:a1226ea6b04097edc31cf0e4b75c631aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad2313029b7d73695c08d3c5523128f5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aad2313029b7d73695c08d3c5523128f5">lcBATaudSum</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try)</td></tr>
<tr class="memdesc:aad2313029b7d73695c08d3c5523128f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the general result of a task acording to the results in each book.  <a href="#aad2313029b7d73695c08d3c5523128f5"></a><br/></td></tr>
<tr class="separator:aad2313029b7d73695c08d3c5523128f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fb60e55bf0dd0e11676201ab716193"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a83fb60e55bf0dd0e11676201ab716193">lcBATaudSumRep</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, char *Als)</td></tr>
<tr class="memdesc:a83fb60e55bf0dd0e11676201ab716193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the result of a report task in a book according to the results of all reports in that book.  <a href="#a83fb60e55bf0dd0e11676201ab716193"></a><br/></td></tr>
<tr class="separator:a83fb60e55bf0dd0e11676201ab716193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0677afd1b04a0b54e4a3f06b3117f34"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ad0677afd1b04a0b54e4a3f06b3117f34">lcBATaudSumRepTskAls</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, void *LdAls)</td></tr>
<tr class="memdesc:ad0677afd1b04a0b54e4a3f06b3117f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the result of a report task in a list of books according to the results reports.  <a href="#ad0677afd1b04a0b54e4a3f06b3117f34"></a><br/></td></tr>
<tr class="separator:ad0677afd1b04a0b54e4a3f06b3117f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693714682cf556180ba481a4a4ebd660"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a693714682cf556180ba481a4a4ebd660">lcBATchkActDep</a> (void *Ctx, char *AudAls, char *Bat, char *Nam, char *Dat, char *Als, void *LlDep, void *LdAudAls, void *LdAudGen, int *Rdy)</td></tr>
<tr class="memdesc:a693714682cf556180ba481a4a4ebd660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control task dependences.  <a href="#a693714682cf556180ba481a4a4ebd660"></a><br/></td></tr>
<tr class="separator:a693714682cf556180ba481a4a4ebd660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee821f9a77a4e6c410629bdf039a33b6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aee821f9a77a4e6c410629bdf039a33b6">lcBATchkBatTot</a> (void *Ctx, char *Bat, char *Dat, void *LdTsk)</td></tr>
<tr class="memdesc:aee821f9a77a4e6c410629bdf039a33b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">If complete batch is not launched before partial batch, then create an error file.  <a href="#aee821f9a77a4e6c410629bdf039a33b6"></a><br/></td></tr>
<tr class="separator:aee821f9a77a4e6c410629bdf039a33b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158eac193dec1bbf8dd621d5de6e054e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a158eac193dec1bbf8dd621d5de6e054e">lcBATchkDat</a> (void *Ctx, char *Als, char *Dat, int *ChkFlg)</td></tr>
<tr class="memdesc:a158eac193dec1bbf8dd621d5de6e054e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a book is in batch date.  <a href="#a158eac193dec1bbf8dd621d5de6e054e"></a><br/></td></tr>
<tr class="separator:a158eac193dec1bbf8dd621d5de6e054e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7539648bf83dbed5c2daac603e1c554d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a7539648bf83dbed5c2daac603e1c554d">lcBATchkGen</a> (void *Ctx, char *Bat, char *Dat, int <a class="el" href="eng__def_8h.html#a490852acc2e1f636166717b0901b4b65a54991d225c58ce0af43461d4e9a82312">All</a>, int Mul, void *LdDep, void *LdTsk)</td></tr>
<tr class="memdesc:a7539648bf83dbed5c2daac603e1c554d"><td class="mdescLeft">&#160;</td><td class="mdescRight">General and initial check of a batch.  <a href="#a7539648bf83dbed5c2daac603e1c554d"></a><br/></td></tr>
<tr class="separator:a7539648bf83dbed5c2daac603e1c554d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea48d506fb755e8d78e07a0bc4746226"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aea48d506fb755e8d78e07a0bc4746226">lcBATcreEndFil</a> (void *Ctx, char *Bat, char *Dat)</td></tr>
<tr class="memdesc:aea48d506fb755e8d78e07a0bc4746226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a file with the end status of the batch.  <a href="#aea48d506fb755e8d78e07a0bc4746226"></a><br/></td></tr>
<tr class="separator:aea48d506fb755e8d78e07a0bc4746226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb3da4a81364e8fdabf8a6b2d26cfc7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aebb3da4a81364e8fdabf8a6b2d26cfc7">lcBATcstInit</a> (char *Dat, char *Dev, char *Als)</td></tr>
<tr class="memdesc:aebb3da4a81364e8fdabf8a6b2d26cfc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the list of CST in a new database.  <a href="#aebb3da4a81364e8fdabf8a6b2d26cfc7"></a><br/></td></tr>
<tr class="separator:aebb3da4a81364e8fdabf8a6b2d26cfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5449cd39cb5bccb0298f6612187aca53"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a5449cd39cb5bccb0298f6612187aca53">lcBATdelAlsRep</a> (void *Ctx, char *Bat, char *Nam, char *Als, char *Dat, int Try, void *LlRepAls, int Sta)</td></tr>
<tr class="memdesc:a5449cd39cb5bccb0298f6612187aca53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a book from the list of books of reports for a report task.  <a href="#a5449cd39cb5bccb0298f6612187aca53"></a><br/></td></tr>
<tr class="separator:a5449cd39cb5bccb0298f6612187aca53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528473e8848ad4ee45479ae9387490b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a528473e8848ad4ee45479ae9387490b2">lcBATdelNacRep</a> (void *Ctx, char *Bat, void *LdTsk, char *Dat, void *LlTskAls, void **LlRepAls)</td></tr>
<tr class="memdesc:a528473e8848ad4ee45479ae9387490b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete and audit all inactive reports of a batch.  <a href="#a528473e8848ad4ee45479ae9387490b2"></a><br/></td></tr>
<tr class="separator:a528473e8848ad4ee45479ae9387490b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409477e3c6888aa5f893aab8a1f72298"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a409477e3c6888aa5f893aab8a1f72298">lcBATdelNacTsk</a> (void *Ctx, char *Bat, void *LdTsk, char *Dat, void **LlTskAls)</td></tr>
<tr class="memdesc:a409477e3c6888aa5f893aab8a1f72298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete and audit all inactive tasks of a batch.  <a href="#a409477e3c6888aa5f893aab8a1f72298"></a><br/></td></tr>
<tr class="separator:a409477e3c6888aa5f893aab8a1f72298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bef0b161269523e137a936b0727570d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a6bef0b161269523e137a936b0727570d">lcBATemlAud</a> (void *Ctx, char *Usr, int EmlTyp, char *Dst, char *Dtp, char *Bat, char *Nam, char *Dat, int Try, char *ErrFil)</td></tr>
<tr class="memdesc:a6bef0b161269523e137a936b0727570d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send e-mail according to the auditory status of a task.  <a href="#a6bef0b161269523e137a936b0727570d"></a><br/></td></tr>
<tr class="separator:a6bef0b161269523e137a936b0727570d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4c2d72e471e25ad964b2d27517990c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aed4c2d72e471e25ad964b2d27517990c">lcBATemlSnd</a> (void *Ctx, char *Usr, char *Dst, char *Dtp, char *Bat, char *Nam, int Sta, char *ErrFil, char *Dat)</td></tr>
<tr class="memdesc:aed4c2d72e471e25ad964b2d27517990c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send e-mail.  <a href="#aed4c2d72e471e25ad964b2d27517990c"></a><br/></td></tr>
<tr class="separator:aed4c2d72e471e25ad964b2d27517990c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a714255b290818ddca895288e65eda"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a68a714255b290818ddca895288e65eda">lcBATfreTskLd</a> (void **LlTskAls)</td></tr>
<tr class="memdesc:a68a714255b290818ddca895288e65eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free list of books per task/report.  <a href="#a68a714255b290818ddca895288e65eda"></a><br/></td></tr>
<tr class="separator:a68a714255b290818ddca895288e65eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8235250194163b82310432c6d7ec6525"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8235250194163b82310432c6d7ec6525">lcBATgetArg</a> (void *Ctx, char *App, char *Tsk, void **LdArg, int *NbArg)</td></tr>
<tr class="memdesc:a8235250194163b82310432c6d7ec6525"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of arguments necessary for a task.  <a href="#a8235250194163b82310432c6d7ec6525"></a><br/></td></tr>
<tr class="separator:a8235250194163b82310432c6d7ec6525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2114124638884fe0d83722d316dc0917"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a2114124638884fe0d83722d316dc0917">lcBATgetAudMisTsk</a> (void *LdAud, void *LdTsk, void **LdAudMis)</td></tr>
<tr class="memdesc:a2114124638884fe0d83722d316dc0917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get auditory of missing tasks in current batch execution.  <a href="#a2114124638884fe0d83722d316dc0917"></a><br/></td></tr>
<tr class="separator:a2114124638884fe0d83722d316dc0917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fcee9a793362202ba85b602a904457"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ab2fcee9a793362202ba85b602a904457">lcBATgetDepMstAls</a> (void *LlDep, char *BatAls, void **LdAls)</td></tr>
<tr class="memdesc:ab2fcee9a793362202ba85b602a904457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of books where we should check auditory.  <a href="#ab2fcee9a793362202ba85b602a904457"></a><br/></td></tr>
<tr class="separator:ab2fcee9a793362202ba85b602a904457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cb0a082a34a481b878f11808ce9c85"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a67cb0a082a34a481b878f11808ce9c85">lcBATgetDepMstOthBat</a> (void *LlDep, char *BatAls, char *Bat, void **LdOthBat)</td></tr>
<tr class="memdesc:a67cb0a082a34a481b878f11808ce9c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of books/batches where a given batch has dependencies.  <a href="#a67cb0a082a34a481b878f11808ce9c85"></a><br/></td></tr>
<tr class="separator:a67cb0a082a34a481b878f11808ce9c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6115786177ac780860dad8a340a4b602"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a6115786177ac780860dad8a340a4b602">lcBATgetDepAls</a> (void *Ctx, char *Als, void **LdDep)</td></tr>
<tr class="memdesc:a6115786177ac780860dad8a340a4b602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all dependences defined in a database.  <a href="#a6115786177ac780860dad8a340a4b602"></a><br/></td></tr>
<tr class="separator:a6115786177ac780860dad8a340a4b602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560beac5fb38ec3d6a0e7a188ebc8a2b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a560beac5fb38ec3d6a0e7a188ebc8a2b">lcBATgetPenTsk</a> (void *Ctx, char *Bat, char *Dat, int Mul, void *LdDefTsk)</td></tr>
<tr class="memdesc:a560beac5fb38ec3d6a0e7a188ebc8a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the task pending in the last execution for the batch date.  <a href="#a560beac5fb38ec3d6a0e7a188ebc8a2b"></a><br/></td></tr>
<tr class="separator:a560beac5fb38ec3d6a0e7a188ebc8a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359009f96f2712a3e2103bf803f5c25a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a359009f96f2712a3e2103bf803f5c25a">lcBATgetRep</a> (void *Ctx, char *Bat, char *Nam, char *NamUsr, void **LdRep)</td></tr>
<tr class="memdesc:a359009f96f2712a3e2103bf803f5c25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of reports for a batch.  <a href="#a359009f96f2712a3e2103bf803f5c25a"></a><br/></td></tr>
<tr class="separator:a359009f96f2712a3e2103bf803f5c25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec22ef83762671aad946f64910817bf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8ec22ef83762671aad946f64910817bf">lcBATgetRepAls</a> (void *Ctx, char *Bat, char *Nam, char *Rep, char *Dat, char *Trt, int Mth, int Try, int Nac, void **LdAls)</td></tr>
<tr class="memdesc:a8ec22ef83762671aad946f64910817bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of books where a report is active.  <a href="#a8ec22ef83762671aad946f64910817bf"></a><br/></td></tr>
<tr class="separator:a8ec22ef83762671aad946f64910817bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0d6f7c35db4f640309b90954b577ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a5e0d6f7c35db4f640309b90954b577ac">lcBATgetTsk</a> (void *Ctx, char *Bat, int Prc, char *Dat, int ExeTyp, int Mul, void **LdTsk)</td></tr>
<tr class="memdesc:a5e0d6f7c35db4f640309b90954b577ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of tasks for a batch.  <a href="#a5e0d6f7c35db4f640309b90954b577ac"></a><br/></td></tr>
<tr class="separator:a5e0d6f7c35db4f640309b90954b577ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf3d58a8c133f61732018883a9ab9e9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a2cf3d58a8c133f61732018883a9ab9e9">lcBATgetTskInPar</a> (void *LdTsk, int ArgC, char **ArgV)</td></tr>
<tr class="memdesc:a2cf3d58a8c133f61732018883a9ab9e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit the list of tasks to those that are in the argument list.  <a href="#a2cf3d58a8c133f61732018883a9ab9e9"></a><br/></td></tr>
<tr class="separator:a2cf3d58a8c133f61732018883a9ab9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6e9f9f299886b7af52d6ce03145a35"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8c6e9f9f299886b7af52d6ce03145a35">lcBATdctBatTsk</a> (void *Ctx, char *Bat, char *Tsk, char *Nam, char *Usr)</td></tr>
<tr class="memdesc:a8c6e9f9f299886b7af52d6ce03145a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate batch task.  <a href="#a8c6e9f9f299886b7af52d6ce03145a35"></a><br/></td></tr>
<tr class="separator:a8c6e9f9f299886b7af52d6ce03145a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4700bd644f1be303dcce8a2750460442"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4700bd644f1be303dcce8a2750460442">lcBATisInTim</a> (char *Tim, char *Btm, char *Etm, int *InTime)</td></tr>
<tr class="memdesc:a4700bd644f1be303dcce8a2750460442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a time is between two hour limits.  <a href="#a4700bd644f1be303dcce8a2750460442"></a><br/></td></tr>
<tr class="separator:a4700bd644f1be303dcce8a2750460442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911392e1b79c1ea074df04b9ff52cfeb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a911392e1b79c1ea074df04b9ff52cfeb">lcBATrepAud</a> (void *Ctx, char *Bat, char *Nam, char *Rep, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:a911392e1b79c1ea074df04b9ff52cfeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit completely a batch report with a given status.  <a href="#a911392e1b79c1ea074df04b9ff52cfeb"></a><br/></td></tr>
<tr class="separator:a911392e1b79c1ea074df04b9ff52cfeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79a4662933d8ac2ccd563421d81b8d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#af79a4662933d8ac2ccd563421d81b8d0">lcBATrepAudEnd</a> (void *Ctx, char *Bat, char *Nam, char *Rep, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:af79a4662933d8ac2ccd563421d81b8d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the end of a batch report with a given status.  <a href="#af79a4662933d8ac2ccd563421d81b8d0"></a><br/></td></tr>
<tr class="separator:af79a4662933d8ac2ccd563421d81b8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f9ec151ebbafa0a2fc0fe9a72481bf6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a1f9ec151ebbafa0a2fc0fe9a72481bf6">lcBATrepAudIni</a> (void *Ctx, char *Bat, char *Nam, char *Rep, char *Dat, int Try, char *Als, int Sta)</td></tr>
<tr class="memdesc:a1f9ec151ebbafa0a2fc0fe9a72481bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the beginning of a batch report with a given status.  <a href="#a1f9ec151ebbafa0a2fc0fe9a72481bf6"></a><br/></td></tr>
<tr class="separator:a1f9ec151ebbafa0a2fc0fe9a72481bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0ad7d47a9af049aeb0516f14c3ce08"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aaf0ad7d47a9af049aeb0516f14c3ce08">lcBATrepAudSum</a> (void *Ctx, char *Bat, char *Nam, char *Rep, char *Dat, int Try)</td></tr>
<tr class="memdesc:aaf0ad7d47a9af049aeb0516f14c3ce08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Audit the general result of a report acording to the results in each book.  <a href="#aaf0ad7d47a9af049aeb0516f14c3ce08"></a><br/></td></tr>
<tr class="separator:aaf0ad7d47a9af049aeb0516f14c3ce08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5948c00a8357c63ca6f186778a71f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a1e5948c00a8357c63ca6f186778a71f7">lcBATrmvArgAlsOdt</a> (void *Ctx, char *BatAls, char *BatDat, void *LdAls)</td></tr>
<tr class="memdesc:a1e5948c00a8357c63ca6f186778a71f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove from the list of argument books, those that are not in batch date.  <a href="#a1e5948c00a8357c63ca6f186778a71f7"></a><br/></td></tr>
<tr class="separator:a1e5948c00a8357c63ca6f186778a71f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a99e9a7004f5460d6902943fbd2cb3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a52a99e9a7004f5460d6902943fbd2cb3">lcBATrun</a> (void *Ctx, char *App, char *Usr, int ArgC, char **ArgV)</td></tr>
<tr class="memdesc:a52a99e9a7004f5460d6902943fbd2cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run batch.  <a href="#a52a99e9a7004f5460d6902943fbd2cb3"></a><br/></td></tr>
<tr class="separator:a52a99e9a7004f5460d6902943fbd2cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac546b8308ba4ac144bb9587946d269e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac546b8308ba4ac144bb9587946d269e6">lcBATrunAls</a> (void *Ctx, void *LdTsk, char *App, char *Bat, char *Tsk, char *Nam, int Frq, char *Dat, char *Usr, int Try, void *LlDep, void *LlTskAls, int ArgC, char **ArgV, int *ChkFlg)</td></tr>
<tr class="memdesc:ac546b8308ba4ac144bb9587946d269e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a task in a list of books.  <a href="#ac546b8308ba4ac144bb9587946d269e6"></a><br/></td></tr>
<tr class="separator:ac546b8308ba4ac144bb9587946d269e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7d135c909747c3d0e15ef2ee90e02c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aae7d135c909747c3d0e15ef2ee90e02c">lcBATrunOneTsk</a> (void *Ctx, int IniAccTrt, void *LdTsk, char *App, char *Bat, char *Btm, char *Etm, char *Tsk, char *Nam, char *Dat, int Try, char *Arg, char *Usr, char *Grp, char *ErrFil, int Frq, int Eml, char *Dst, char *Dtp, void *LlDep, void *LlTskAls, void *LlRepAls, int *ChkFlg)</td></tr>
<tr class="memdesc:aae7d135c909747c3d0e15ef2ee90e02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute one single batch task.  <a href="#aae7d135c909747c3d0e15ef2ee90e02c"></a><br/></td></tr>
<tr class="separator:aae7d135c909747c3d0e15ef2ee90e02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460eb6584d346d8005b542e71d9a2e33"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a460eb6584d346d8005b542e71d9a2e33">lcBATrunRep</a> (void *Ctx, void *LdTsk, char *App, char *Bat, char *Nam, char *Dat, int Try, void *LlDep, void *LlTskAls, void *LlRepAls, int ArgC, char **ArgV, int *ChkFlg)</td></tr>
<tr class="memdesc:a460eb6584d346d8005b542e71d9a2e33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a report task in a list of books.  <a href="#a460eb6584d346d8005b542e71d9a2e33"></a><br/></td></tr>
<tr class="separator:a460eb6584d346d8005b542e71d9a2e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee4fe7c690463213f4ba6cbdb05b1f7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a2ee4fe7c690463213f4ba6cbdb05b1f7">lcBATrunTsk</a> (void *Ctx, char *App, char *Bat, char *Btm, char *Etm, char *Dat, void *LdTsk, void *LdTskOri, void *LlDep, void *LlTskAls, void *LlRepAls, int Prc)</td></tr>
<tr class="memdesc:a2ee4fe7c690463213f4ba6cbdb05b1f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute all task from a list.  <a href="#a2ee4fe7c690463213f4ba6cbdb05b1f7"></a><br/></td></tr>
<tr class="separator:a2ee4fe7c690463213f4ba6cbdb05b1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0c7cdf36f9555d6638c217c74cc5d3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8f0c7cdf36f9555d6638c217c74cc5d3">lcBATwaiSecTry</a> (char *ExcTim, int WaiSec)</td></tr>
<tr class="memdesc:a8f0c7cdf36f9555d6638c217c74cc5d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a task wait for a time between tries.  <a href="#a8f0c7cdf36f9555d6638c217c74cc5d3"></a><br/></td></tr>
<tr class="separator:a8f0c7cdf36f9555d6638c217c74cc5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306b47f12814e7d76cf8d74356d31e52"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a306b47f12814e7d76cf8d74356d31e52">lcBAThisCrtTabBat</a> (void *Ctx)</td></tr>
<tr class="memdesc:a306b47f12814e7d76cf8d74356d31e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create/update needed tables for historising tables related to batch auditories.  <a href="#a306b47f12814e7d76cf8d74356d31e52"></a><br/></td></tr>
<tr class="separator:a306b47f12814e7d76cf8d74356d31e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadea0aeb4ae5ce6f65aa195e28932aed"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aadea0aeb4ae5ce6f65aa195e28932aed">lcBAThisDtaBat</a> (void *Ctx, char *RefDat, char *PurDat)</td></tr>
<tr class="memdesc:aadea0aeb4ae5ce6f65aa195e28932aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Historise batch auditory related information.  <a href="#aadea0aeb4ae5ce6f65aa195e28932aed"></a><br/></td></tr>
<tr class="separator:aadea0aeb4ae5ce6f65aa195e28932aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360825dd0e6a3d2ac13f2557a05d830e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a360825dd0e6a3d2ac13f2557a05d830e">lcBATtskBdtDat</a> (void *Ctx, char *Bat, char *Nam, char *Dat, char *BdtDat)</td></tr>
<tr class="memdesc:a360825dd0e6a3d2ac13f2557a05d830e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take begin date of task.  <a href="#a360825dd0e6a3d2ac13f2557a05d830e"></a><br/></td></tr>
<tr class="separator:a360825dd0e6a3d2ac13f2557a05d830e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b287903e947e55ad76531d2d7be668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a78b287903e947e55ad76531d2d7be668">lcBATsetUsr2AllTsk</a> (char *Usr, void *LdTsk)</td></tr>
<tr class="memdesc:a78b287903e947e55ad76531d2d7be668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a user to all the task in a tasks list.  <a href="#a78b287903e947e55ad76531d2d7be668"></a><br/></td></tr>
<tr class="separator:a78b287903e947e55ad76531d2d7be668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b293d012a946c30e4dad709cb3f7bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a8b293d012a946c30e4dad709cb3f7bb3">BATrun</a> (void *Ctx, char *App, int ArgC, char **ArgV)</td></tr>
<tr class="memdesc:a8b293d012a946c30e4dad709cb3f7bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run batch.  <a href="#a8b293d012a946c30e4dad709cb3f7bb3"></a><br/></td></tr>
<tr class="separator:a8b293d012a946c30e4dad709cb3f7bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ac660f6b830dd17ece20c730145107"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a00ac660f6b830dd17ece20c730145107">BATrunUsr</a> (void *Ctx, char *App, char *Usr, int ArgC, char **ArgV)</td></tr>
<tr class="memdesc:a00ac660f6b830dd17ece20c730145107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run batch with a specific user.  <a href="#a00ac660f6b830dd17ece20c730145107"></a><br/></td></tr>
<tr class="separator:a00ac660f6b830dd17ece20c730145107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0346aa9fdbf6380013a72fd559b4a76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aa0346aa9fdbf6380013a72fd559b4a76">BATgetDep</a> (void *Ctx, char *BatAls, void **LdDep, void **LlDep)</td></tr>
<tr class="memdesc:aa0346aa9fdbf6380013a72fd559b4a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all dependences in a database.  <a href="#aa0346aa9fdbf6380013a72fd559b4a76"></a><br/></td></tr>
<tr class="separator:aa0346aa9fdbf6380013a72fd559b4a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01824709d8043e4786dafaa6b58305a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a01824709d8043e4786dafaa6b58305a4">BATgetBatDep</a> (void *Ctx, char *Bat, void **LdDep)</td></tr>
<tr class="memdesc:a01824709d8043e4786dafaa6b58305a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all dependences in a database for specified batch.  <a href="#a01824709d8043e4786dafaa6b58305a4"></a><br/></td></tr>
<tr class="separator:a01824709d8043e4786dafaa6b58305a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f47a573e65e9093275f818ede318fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a51f47a573e65e9093275f818ede318fe">BATrunAudEnd</a> (void *Ctx, char *Dat, char *Bat)</td></tr>
<tr class="memdesc:a51f47a573e65e9093275f818ede318fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update auditory to 'Finish' for a executed batch.  <a href="#a51f47a573e65e9093275f818ede318fe"></a><br/></td></tr>
<tr class="separator:a51f47a573e65e9093275f818ede318fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc65209b8163e0c26eb05a6f0db0f7a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#adc65209b8163e0c26eb05a6f0db0f7a7">BATchkArg</a> (void *Ctx, char *App, char *Tsk, char *Nam, int ArgC, char **ArgV, int *Flg)</td></tr>
<tr class="memdesc:adc65209b8163e0c26eb05a6f0db0f7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the arguments for a task.  <a href="#adc65209b8163e0c26eb05a6f0db0f7a7"></a><br/></td></tr>
<tr class="separator:adc65209b8163e0c26eb05a6f0db0f7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6857e8346bb2a27e7435252a9efb09c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a6857e8346bb2a27e7435252a9efb09c3">BATchkDep</a> (void *Ctx, void *LdTsk, char *Bat, char *Nam, char *Dat, char *Als, void *LlDep, int *Rdy)</td></tr>
<tr class="memdesc:a6857e8346bb2a27e7435252a9efb09c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a task can be run according to the audit of the other tasks it depends on.  <a href="#a6857e8346bb2a27e7435252a9efb09c3"></a><br/></td></tr>
<tr class="separator:a6857e8346bb2a27e7435252a9efb09c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ce44bbe659fd4439b7d084419fe9d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a79ce44bbe659fd4439b7d084419fe9d5">BATchkTime</a> (void *Ctx, char *Bat, char *Btm, char *Etm, int *TimFlg)</td></tr>
<tr class="memdesc:a79ce44bbe659fd4439b7d084419fe9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if current hour is correct to launch a task of this batch.  <a href="#a79ce44bbe659fd4439b7d084419fe9d5"></a><br/></td></tr>
<tr class="separator:a79ce44bbe659fd4439b7d084419fe9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5358b485464aa0d8de3c5df5c7461584"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a5358b485464aa0d8de3c5df5c7461584">BATgetAls</a> (void *Ctx, char *Bat, char *Tsk, char *Nam, char *Dat, char *Trt, int Mth, int Try, int Nac, void **LdAls)</td></tr>
<tr class="memdesc:a5358b485464aa0d8de3c5df5c7461584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of books where a task is active.  <a href="#a5358b485464aa0d8de3c5df5c7461584"></a><br/></td></tr>
<tr class="separator:a5358b485464aa0d8de3c5df5c7461584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57783282e63ceb86fa55e1168aeb54f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a57783282e63ceb86fa55e1168aeb54f9">BATerrSav</a> (char *FilNam)</td></tr>
<tr class="memdesc:a57783282e63ceb86fa55e1168aeb54f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the list of error messages in a file.  <a href="#a57783282e63ceb86fa55e1168aeb54f9"></a><br/></td></tr>
<tr class="separator:a57783282e63ceb86fa55e1168aeb54f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0d8e3c3899171a9ea4ce9bc4a9140c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aef0d8e3c3899171a9ea4ce9bc4a9140c">BATcalBatDat</a> (void *Ctx, char *Bat, char *Mth, char *Btm, char *Etm, char *Dat)</td></tr>
<tr class="memdesc:aef0d8e3c3899171a9ea4ce9bc4a9140c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the batch date.  <a href="#aef0d8e3c3899171a9ea4ce9bc4a9140c"></a><br/></td></tr>
<tr class="separator:aef0d8e3c3899171a9ea4ce9bc4a9140c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6273a6e6f9d826106bbdfe22041d41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4e6273a6e6f9d826106bbdfe22041d41">BATgetTsk</a> (void *Ctx, char *Bat, void **LdTsk)</td></tr>
<tr class="memdesc:a4e6273a6e6f9d826106bbdfe22041d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of all all task which are defined for a batch.  <a href="#a4e6273a6e6f9d826106bbdfe22041d41"></a><br/></td></tr>
<tr class="separator:a4e6273a6e6f9d826106bbdfe22041d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5af32fdc604797b0b4b21b999171678"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac5af32fdc604797b0b4b21b999171678">BATgetArg</a> (void *Ctx, char *Bat, char *Nam, char *Tsk, void **LdArg)</td></tr>
<tr class="memdesc:ac5af32fdc604797b0b4b21b999171678"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of all arguments which are defined for a task of one batch.  <a href="#ac5af32fdc604797b0b4b21b999171678"></a><br/></td></tr>
<tr class="separator:ac5af32fdc604797b0b4b21b999171678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1514fef719271d420878e655aad204f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a1514fef719271d420878e655aad204f7">BATgetBatDefDes</a> (void *Ctx, char *Bat, char *Des)</td></tr>
<tr class="memdesc:a1514fef719271d420878e655aad204f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get batch definition description associated to a batch.  <a href="#a1514fef719271d420878e655aad204f7"></a><br/></td></tr>
<tr class="separator:a1514fef719271d420878e655aad204f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a572015cdf980cc92e7341132584ee9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a0a572015cdf980cc92e7341132584ee9">BATcpy</a> (void *Ctx, char *AppOri, char *BatOri, char *AppDst, char *BatDst)</td></tr>
<tr class="memdesc:a0a572015cdf980cc92e7341132584ee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batch copy.  <a href="#a0a572015cdf980cc92e7341132584ee9"></a><br/></td></tr>
<tr class="separator:a0a572015cdf980cc92e7341132584ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c7c3dc94b381b0cd9c3aa8f1572368"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ab7c7c3dc94b381b0cd9c3aa8f1572368">BATgetBatTskAls</a> (void *Ctx, char *Bat, char *Nam, char *Tsk, void **LdTskAls)</td></tr>
<tr class="memdesc:ab7c7c3dc94b381b0cd9c3aa8f1572368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of books associated to a batch task.  <a href="#ab7c7c3dc94b381b0cd9c3aa8f1572368"></a><br/></td></tr>
<tr class="separator:ab7c7c3dc94b381b0cd9c3aa8f1572368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3495e1b6172185f773cab28a2e61eaff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a3495e1b6172185f773cab28a2e61eaff">BATgetBatRep</a> (void *Ctx, char *Bat, char *Nam, void **LdRep)</td></tr>
<tr class="memdesc:a3495e1b6172185f773cab28a2e61eaff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of reports associated to a batch task.  <a href="#a3495e1b6172185f773cab28a2e61eaff"></a><br/></td></tr>
<tr class="separator:a3495e1b6172185f773cab28a2e61eaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b29193f2c8b47ce856a42f17ef3833"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a43b29193f2c8b47ce856a42f17ef3833">BATgetBatRepAls</a> (void *Ctx, char *Bat, char *Nam, char *Rep, void **LdRepAls)</td></tr>
<tr class="memdesc:a43b29193f2c8b47ce856a42f17ef3833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of books associated to a batch report.  <a href="#a43b29193f2c8b47ce856a42f17ef3833"></a><br/></td></tr>
<tr class="separator:a43b29193f2c8b47ce856a42f17ef3833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe41430095a71b6296ce4d453df1f91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aefe41430095a71b6296ce4d453df1f91">BATgetBatDef</a> (void *Ctx, char *Bat, void **LdBatDef)</td></tr>
<tr class="memdesc:aefe41430095a71b6296ce4d453df1f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the information of batch definition for a batch.  <a href="#aefe41430095a71b6296ce4d453df1f91"></a><br/></td></tr>
<tr class="separator:aefe41430095a71b6296ce4d453df1f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dea1f13faf5d22012d99975927360a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a6dea1f13faf5d22012d99975927360a0">BATgetBatTsk</a> (void *Ctx, char *Bat, void **LdBatTsk)</td></tr>
<tr class="memdesc:a6dea1f13faf5d22012d99975927360a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the information of batch task for a batch.  <a href="#a6dea1f13faf5d22012d99975927360a0"></a><br/></td></tr>
<tr class="separator:a6dea1f13faf5d22012d99975927360a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f55c7225a461e8cf4c7ddde32990a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ab2f55c7225a461e8cf4c7ddde32990a7">BATgetSchBatDef</a> (void *Ctx, void **LdBatDefSch)</td></tr>
<tr class="memdesc:ab2f55c7225a461e8cf4c7ddde32990a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch definition.  <a href="#ab2f55c7225a461e8cf4c7ddde32990a7"></a><br/></td></tr>
<tr class="separator:ab2f55c7225a461e8cf4c7ddde32990a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c93fcea8495c130a0bc940365267500"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a3c93fcea8495c130a0bc940365267500">BATgetSchBatTsk</a> (void *Ctx, void **LdBatTskSch)</td></tr>
<tr class="memdesc:a3c93fcea8495c130a0bc940365267500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks.  <a href="#a3c93fcea8495c130a0bc940365267500"></a><br/></td></tr>
<tr class="separator:a3c93fcea8495c130a0bc940365267500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454d33dff62313dad0d15558756a52eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a454d33dff62313dad0d15558756a52eb">BATgetSchBatTskArg</a> (void *Ctx, void **LdBatTskArgSch)</td></tr>
<tr class="memdesc:a454d33dff62313dad0d15558756a52eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks arguments.  <a href="#a454d33dff62313dad0d15558756a52eb"></a><br/></td></tr>
<tr class="separator:a454d33dff62313dad0d15558756a52eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2f5b3870b630644d5823e1cfd0e80e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#afc2f5b3870b630644d5823e1cfd0e80e">BATgetSchBatTskAls</a> (void *Ctx, void **LdBatTskAlsSch)</td></tr>
<tr class="memdesc:afc2f5b3870b630644d5823e1cfd0e80e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks books.  <a href="#afc2f5b3870b630644d5823e1cfd0e80e"></a><br/></td></tr>
<tr class="separator:afc2f5b3870b630644d5823e1cfd0e80e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fb0351eac18a983222d61287c9c254"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a66fb0351eac18a983222d61287c9c254">BATgetSchBatTskDep</a> (void *Ctx, void **LdBatTskDepSch)</td></tr>
<tr class="memdesc:a66fb0351eac18a983222d61287c9c254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks dependences.  <a href="#a66fb0351eac18a983222d61287c9c254"></a><br/></td></tr>
<tr class="separator:a66fb0351eac18a983222d61287c9c254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0aa6931d824cc4a882e187efb96de81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac0aa6931d824cc4a882e187efb96de81">BATgetSchBatTskRep</a> (void *Ctx, void **LdBatTskRepSch)</td></tr>
<tr class="memdesc:ac0aa6931d824cc4a882e187efb96de81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks reports.  <a href="#ac0aa6931d824cc4a882e187efb96de81"></a><br/></td></tr>
<tr class="separator:ac0aa6931d824cc4a882e187efb96de81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d91c3fa771c8ae9fea677b814b83d40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a4d91c3fa771c8ae9fea677b814b83d40">BATgetSchBatTskRepAls</a> (void *Ctx, void **LdBatTskRepAlsSch)</td></tr>
<tr class="memdesc:a4d91c3fa771c8ae9fea677b814b83d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the schema of batch tasks reports books.  <a href="#a4d91c3fa771c8ae9fea677b814b83d40"></a><br/></td></tr>
<tr class="separator:a4d91c3fa771c8ae9fea677b814b83d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac726b9f923663832e63711e2896600a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac726b9f923663832e63711e2896600a6">BATsavBatDef</a> (void *Ctx, void *LdBatDef)</td></tr>
<tr class="memdesc:ac726b9f923663832e63711e2896600a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch definition.  <a href="#ac726b9f923663832e63711e2896600a6"></a><br/></td></tr>
<tr class="separator:ac726b9f923663832e63711e2896600a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab621290fd80c9f1e714554ad04df5f21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ab621290fd80c9f1e714554ad04df5f21">BATsavBatTsk</a> (void *Ctx, void *LdBatTsk)</td></tr>
<tr class="memdesc:ab621290fd80c9f1e714554ad04df5f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch tasks.  <a href="#ab621290fd80c9f1e714554ad04df5f21"></a><br/></td></tr>
<tr class="separator:ab621290fd80c9f1e714554ad04df5f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add92f8a1dc8af8779c085188d41cb426"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#add92f8a1dc8af8779c085188d41cb426">BATsavBatTskArg</a> (void *Ctx, void *LdBatTskArg)</td></tr>
<tr class="memdesc:add92f8a1dc8af8779c085188d41cb426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch task arguments.  <a href="#add92f8a1dc8af8779c085188d41cb426"></a><br/></td></tr>
<tr class="separator:add92f8a1dc8af8779c085188d41cb426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c0820610d17993afc83fede8be709e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a80c0820610d17993afc83fede8be709e">BATsavBatTskAls</a> (void *Ctx, void *LdBatTskAls)</td></tr>
<tr class="memdesc:a80c0820610d17993afc83fede8be709e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch task books.  <a href="#a80c0820610d17993afc83fede8be709e"></a><br/></td></tr>
<tr class="separator:a80c0820610d17993afc83fede8be709e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9b0022fcae5a07f2ece9063e5f32f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a5c9b0022fcae5a07f2ece9063e5f32f6">BATsavBatTskDep</a> (void *Ctx, void *LdBatTskDep)</td></tr>
<tr class="memdesc:a5c9b0022fcae5a07f2ece9063e5f32f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch task dependences.  <a href="#a5c9b0022fcae5a07f2ece9063e5f32f6"></a><br/></td></tr>
<tr class="separator:a5c9b0022fcae5a07f2ece9063e5f32f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a0c1af69dac8e0710658aca5ed9e55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a99a0c1af69dac8e0710658aca5ed9e55">BATsavBatTskRep</a> (void *Ctx, void *LdBatTskRep)</td></tr>
<tr class="memdesc:a99a0c1af69dac8e0710658aca5ed9e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch task reports.  <a href="#a99a0c1af69dac8e0710658aca5ed9e55"></a><br/></td></tr>
<tr class="separator:a99a0c1af69dac8e0710658aca5ed9e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac579cc2159d0b0a2778b780d138b9f8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac579cc2159d0b0a2778b780d138b9f8d">BATsavBatTskRepAls</a> (void *Ctx, void *LdBatTskRepAls)</td></tr>
<tr class="memdesc:ac579cc2159d0b0a2778b780d138b9f8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save in database a list of batch task reports books.  <a href="#ac579cc2159d0b0a2778b780d138b9f8d"></a><br/></td></tr>
<tr class="separator:ac579cc2159d0b0a2778b780d138b9f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb193645bb7b29dba2214fd96b23549e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#aeb193645bb7b29dba2214fd96b23549e">BATupdTskExeSta</a> (void *Ctx, char *Bat, char *Nam, char *Dat, int Try, int Sta)</td></tr>
<tr class="memdesc:aeb193645bb7b29dba2214fd96b23549e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the execution status of a task.  <a href="#aeb193645bb7b29dba2214fd96b23549e"></a><br/></td></tr>
<tr class="separator:aeb193645bb7b29dba2214fd96b23549e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af744d01cc305ad0abc67f1ea7f660b90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#af744d01cc305ad0abc67f1ea7f660b90">BATaddTskExeSta</a> (void *Ctx, char *Bat, char *Dat, void **LdBatAud)</td></tr>
<tr class="memdesc:af744d01cc305ad0abc67f1ea7f660b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a list with batch audit data, it returns the task execution status.  <a href="#af744d01cc305ad0abc67f1ea7f660b90"></a><br/></td></tr>
<tr class="separator:af744d01cc305ad0abc67f1ea7f660b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4923e6c72930d2bf81bb95efab30b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a3b4923e6c72930d2bf81bb95efab30b4">BATtskEmaInf</a> (void *Ctx, char *Bat, char *Tsk, char *Nam, int *Eml, char *Dst, char *Dtp)</td></tr>
<tr class="memdesc:a3b4923e6c72930d2bf81bb95efab30b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return email information about batch task.  <a href="#a3b4923e6c72930d2bf81bb95efab30b4"></a><br/></td></tr>
<tr class="separator:a3b4923e6c72930d2bf81bb95efab30b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6789ef1f2e193a22349d6bfa9ecb10b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#ac6789ef1f2e193a22349d6bfa9ecb10b">BAThisTabBat</a> (void *Ctx, char *RefDat)</td></tr>
<tr class="memdesc:ac6789ef1f2e193a22349d6bfa9ecb10b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Historise batch auditory related information.  <a href="#ac6789ef1f2e193a22349d6bfa9ecb10b"></a><br/></td></tr>
<tr class="separator:ac6789ef1f2e193a22349d6bfa9ecb10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed0f84af0944312060e1e7e1c3e4165"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#abed0f84af0944312060e1e7e1c3e4165">BATpurTabBatHis</a> (void *Ctx, char *RefDat)</td></tr>
<tr class="memdesc:abed0f84af0944312060e1e7e1c3e4165"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purge batch auditory historised related information.  <a href="#abed0f84af0944312060e1e7e1c3e4165"></a><br/></td></tr>
<tr class="separator:abed0f84af0944312060e1e7e1c3e4165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ef6c12efc129b91b4cda6059a9bd63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bat_fcn_8c.html#a13ef6c12efc129b91b4cda6059a9bd63">BATpurTabBat</a> (void *Ctx, char *RefDat)</td></tr>
<tr class="memdesc:a13ef6c12efc129b91b4cda6059a9bd63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purge batch auditory related information.  <a href="#a13ef6c12efc129b91b4cda6059a9bd63"></a><br/></td></tr>
<tr class="separator:a13ef6c12efc129b91b4cda6059a9bd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Batch related functions. Code necessary to run tasks in batch mode. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="bat_def_8h.html" title="Batch related function prototypes and types.">batDef.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>BAT</dd></dl>
<dl class="section user"><dt>Library</dt><dd>alu</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Sep/2000</dd></dl>
<dl class="section user"><dt>Phylosophy</dt><dd><hr/>
 <h1>TABLES:</h1>
</dd></dl>
<p>Table: BatTskDef</p>
<p>Description: Definition of the tasks that can be run in a batch of one application</p>
<h2>BatTskDef</h2>
<ul>
<li>App -&gt; Application of the batch</li>
<li>Tsk -&gt; Internal code of the task</li>
<li>Des -&gt; Description of the task</li>
<li>Mth -&gt; Running method of the task. Defines the books where the task can be executed. See enum <a class="el" href="bat_def_8h.html#a180c656104e38932e1d890d8bff6b930" title="Methods to run a single batch task.">BatRunMth</a></li>
<li>Trt -&gt; Default treatment to get the books from for this kind ot task in this application</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (App, Tsk) <hr/>
<p>Table: BatArgDef</p>
<p>Description: Definition of the arguments for tasks</p>
<h2>BatArgDef</h2>
<ul>
<li>App -&gt; Application of the batch</li>
<li>Tsk -&gt; Internal code of the task</li>
<li>Arg -&gt; Code of the argument required for the task</li>
<li>Des -&gt; Description of the argument</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (App, Tsk, Arg) <hr/>
<p>Table: BatRepDef</p>
<p>Description: Definition of the reports that can be run in a batch of one application</p>
<h2>BatRepDef</h2>
<ul>
<li>App -&gt; Application of the batch</li>
<li>Rep -&gt; Internal code of the report</li>
<li>Des -&gt; Description of the report</li>
<li>Mth -&gt; Running method of the report. Defines the books where the report can be generated. See enum <a class="el" href="bat_def_8h.html#a180c656104e38932e1d890d8bff6b930" title="Methods to run a single batch task.">BatRunMth</a></li>
<li>Trt -&gt; Default treatment to get the books from for this report in this application</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (App, Rep) <hr/>
<p>Table: BatDef</p>
<p>Description: Definition of a batch</p>
<h2>BatDef</h2>
<ul>
<li>App -&gt; Application of the batch</li>
<li>Bat -&gt; Name of the batch</li>
<li>Des -&gt; Description of the batch</li>
<li>Err -&gt; Error file for batch errors</li>
<li>Mul -&gt; Multiple execution allowed; see enum <a class="el" href="bat_def_8h.html#afd73ac4c75919aaedbea4cd04933c53b" title="Number of executions of a batch in one day.">BatExeTyp</a></li>
<li>Btm -&gt; Begin time of the batch</li>
<li>Etm -&gt; End time of the batch</li>
<li><p class="startli">Bfq -&gt; Batch frequency (always, only open days)</p>
<p class="startli">A batch may or may not be launched depending on Btm and Etm. There are two cases:</p>
<p class="startli">1) Btm = 08:00 and Etm = 20:00</p>
<p class="startli">Batch tasks can only be launched between 08:00 AM and 08:00 PM; if they are launched in other time they'll be audited as EXPIRED.</p>
<p class="startli">2) Btm = 15:00 and Etm = 08:00</p>
<p class="startli">Batch tasks can only be launched between 03:00 PM and next day's 08:00 AM; if they are launched in other time they'll be audited as EXPIRED.</p>
</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (Bat) <hr/>
<p>Table: BatTsk</p>
<p>Description: Tasks that will be executed in a batch</p>
<h2>BatTsk</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Tsk -&gt; Internal code of the type of task</li>
<li>Nam -&gt; Name of the task, given by the user</li>
<li>Ord -&gt; Order to run the task</li>
<li>Frq -&gt; Frequency to run the task. See enum <a class="el" href="gut__def_8h.html#a08e5e91d86fefffbbf8a194bb152b8eb">GutLchFrq</a></li>
<li>Err -&gt; Error file for task errors</li>
<li>Usr -&gt; Application user that will run the task</li>
<li>Act -&gt; Activation status of the task: Active (1) or Inactive (0)</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (Bat, Nam) <hr/>
<p>Table: BatTskArg</p>
<p>Description: Values for arguments of a task</p>
<h2>BatTskArg</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Nam -&gt; Name of the task, given by the user</li>
<li>Arg -&gt; Argument identifier as defined in table BatArgDef</li>
<li>Val -&gt; Value for the argument in the task</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (Bat, Nam, Arg) <hr/>
<p>Table: BatRep</p>
<p>Description: Reports that will be executed in a batch, in the report task</p>
<h2>BatRep</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Nam -&gt; Name of the report task</li>
<li>Ord -&gt; Order to run the report</li>
<li><a class="el" href="class_prn.html">Prn</a> -&gt; Flag to print or only generate the report</li>
<li>Act -&gt; Activation status of the report: Active (1) or Inactive (0)</li>
</ul>
<p>UNIQUE CLUSTERED INDEX (Bat, Nam, Rep) <hr/>
<p>Table: BatDep</p>
<p>Description: Definition of the dependences of the tasks of a batch</p>
<h2>BatDep</h2>
<ul>
<li>DepBat -&gt; Batch name</li>
<li>DepNam -&gt; Name of the task that depends</li>
<li>MstAls -&gt; Book of the master task. If NULL, current book.</li>
<li>MstBat -&gt; Mater task batch, batch of the task</li>
<li>MstNam -&gt; Mater task name, the task that DepNam depends on</li>
<li>Mth -&gt; Dependence method. See enum <a class="el" href="bat_def_8h.html#ae17fa69d2a776a4f371663f092e44e19" title="Where to check a previous task.">BatChkWhe</a></li>
</ul>
<p>UNIQUE CLUSTERED INDEX (DepBat, DepNam, MstBat, MstNam) <hr/>
<p>Table: BatAud</p>
<p>Description: Auditory of the execution of batch tasks</p>
<h2>BatAud</h2>
<ul>
<li>Dat -&gt; Batch date</li>
<li>Bat -&gt; Name of the batch</li>
<li>Nam -&gt; Name of the task</li>
<li>Als -&gt; Alias of the book where the task run. NULL for the summary status</li>
<li>Try -&gt; Number of execution of the task during the date</li>
<li>Bdt -&gt; Time when the task begun</li>
<li>Edt -&gt; Time when the task ended</li>
<li>Sta -&gt; Status the task finished with. See enum <a class="el" href="bat_def_8h.html#aa67d00f976e512ee0f4e5fb68bc7fd78" title="Distinct auditory status for task of batches.">BatAudTyp</a></li>
<li>Act -&gt; If the auditory is valid or not</li>
</ul>
<p>UNIQUE INDEX (Dat, Bat, Nam, Als, Try) <hr/>
<p>Table: BatAudRep</p>
<p>Description: Auditory of the generation of batch reports</p>
<h2>BatAudRep</h2>
<ul>
<li>Dat -&gt; Batch date</li>
<li>Bat -&gt; Name of the batch</li>
<li>Nam -&gt; Name of the report task</li>
<li>Rep -&gt; Name of the report</li>
<li>Als -&gt; Alias of the book where the task run. NULL for the summary status</li>
<li>Try -&gt; Number of generation of the report during the date</li>
<li>Bdt -&gt; Time when the report begun</li>
<li>Edt -&gt; Time when the report ended</li>
<li>Sta -&gt; Status the report finished with. See enum <a class="el" href="bat_def_8h.html#aa67d00f976e512ee0f4e5fb68bc7fd78" title="Distinct auditory status for task of batches.">BatAudTyp</a></li>
<li>Act -&gt; If the auditory is valid or not</li>
</ul>
<p>UNIQUE INDEX (Dat, Bat, Nam, Rep, Als, Try) <hr/>
<p>Table: BatTskAls</p>
<p>Description: Books where a task is active</p>
<h2>BatTskAls</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Tsk -&gt; Type of task</li>
<li>Nam -&gt; Name of the task</li>
<li>Trt -&gt; Treatment to get the books. May be NULL.</li>
<li>Als -&gt; Alias of the book where the task is active. May be NULL.</li>
</ul>
<p>To get the books to run task Nam, get from BatTskAls, the books (Als). If there are not, get from BatTskAls the specific treatment and all the books in that treatment. If there is not specific treatment for Nam, get from BatTskDef the default treatment for task Tsk and all books in treatment.</p>
<p>UNIQUE CLUSTERED INDEX (Bat, Tsk, Nam, Trt, Als) <hr/>
<p>Table: BatRepAls</p>
<p>Description: Books where a report is active</p>
<h2>BatRepAls</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Nam -&gt; Name of the task</li>
<li>Rep -&gt; Name of the report</li>
<li>Trt -&gt; Treatment to get the books. May be NULL.</li>
<li>Als -&gt; Alias of the book where the report is active. May be NULL.</li>
</ul>
<p>To get the books to run report Rep, get from BatRepAls, the books (Als). If there are not, get from BatRepAls the specific treatment and all the books in that treatment. If there is not specific treatment for Rep, get from BatRepDef the default treatment for report Rep and all books in treatment.</p>
<p>UNIQUE CLUSTERED INDEX (Bat, Nam, Rep, Trt, Als) <hr/>
<p>Table: BatPrc</p>
<p>Description: Batch process assignment</p>
<h2>BatPrc</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Prc -&gt; Proccess identifier</li>
<li>Dat -&gt; Execution date and time</li>
</ul>
<p>UNIQUE INDEX (Bat, Prc) <hr/>
<p>Table: BatPrcTskArg</p>
<p>Description: Batch process task arguments values. This table is used to pass arguments values for a batch dynamically. The values are gotten from window criteria or matrix, or any value that may be different en each batch process execution</p>
<h2>BatPrcTskArg</h2>
<ul>
<li>Bat -&gt; Name of the batch</li>
<li>Prc -&gt; Proccess identifier</li>
<li>Nam -&gt; Name of the task</li>
<li>Arg -&gt; Argument name</li>
<li>Val -&gt; Value</li>
</ul>
<p>UNIQUE INDEX (Bat, Prc, Nam, Arg) <hr/>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4d4f35178f968157d797b64e7529843d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAD_ARG&#160;&#160;&#160;72      /* Incorrect arguments                             */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3c6b7d4165730f2eda5fa818c5e9783d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAD_ARG_NB&#160;&#160;&#160;10      /* Incorrect number of arguments                   */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac4f62958c41e8b159c8406a505c6fa4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAD_ARG_USR&#160;&#160;&#160;71      /* Undefined user                                  */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ae3985b0249a869dfb22a9e853c11b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_ALREADY_EXE&#160;&#160;&#160;60      /* Batch already executed                          */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1181b4e5ac9dde279e1e39aa5afb1246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_ARD_RUN&#160;&#160;&#160;120      /* Batch already running                           */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a01f343a12c29e29eac57c5a8e5821df0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_DAT_CUR&#160;&#160;&#160;&quot;current&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a82da3c0105b30c7da7db68a16e2762db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_DAT_TDY&#160;&#160;&#160;&quot;today&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Batch execution frequencies. </p>
<p>Batch execution frequencies. Possible values:</p>
<ul>
<li>BAT_DAT_TDY: Batch executed for today, but forces to a previous open date</li>
<li>BAT_DAT_CUR: Batch executed for today, considering as open all dates from monday to sunday</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Jon BARRUTIA - 30/Nov/2011 </dd></dl>

</div>
</div>
<a class="anchor" id="a59974468a8a4baec3d00a15ec0e69744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_LCH_NOT_EXE&#160;&#160;&#160;121      /* Batch defined as OOD launched but not executed  */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a82ab3ae332a0e1a6280a92c27a945c0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_MAX_ARG_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d5053059cf4df392d07010f36c6a602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_TRT&#160;&#160;&#160;4100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afa4cfe1906c58cb3c81428028a5b138c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BAT_TSK_ERR&#160;&#160;&#160;61      /* Error executing next batch task                 */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8257505dba3047509b93553e6f0fa04f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOK_OUT_OF_DATE&#160;&#160;&#160;80      /* Book not on batch date                          */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a950027bac0fac81a104b62f7c753dc1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CIR_DEP&#160;&#160;&#160;50      /* There is a circular dependence for task         */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d6e2da9b0d5bb064473f482065faccd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAT_NOT_IN_FRQ&#160;&#160;&#160;90      /* Date is not avaible for launching frequency     */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acddec99ce63e561a9a764edd99b5ff75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MISSING_BOOKS&#160;&#160;&#160;100      /* No books defined for                            */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aecdda1afb366075291ad4446e4d650f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_USR_EML_ADR&#160;&#160;&#160;110      /* User has not email address                      */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad1bef3be137bb87cdb36c756fec4560b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOT_BAT_TOT&#160;&#160;&#160;73      /* Before launching partial batch, launch complete */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a799517031a8334a42807b119bb456c53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_OUT&#160;&#160;&#160;20      /* Batch cannot run at this time                   */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a42fbf30924a0c682ec758a8e7379b897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNDEF_BAT&#160;&#160;&#160;25      /* Undefined batch                                 */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acb819e4ae8c8a87afca3de1ed45bc311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNDEF_TSK&#160;&#160;&#160;30      /* Undefined task                                  */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4ad5dd0bd52fd97e9065ede8936eef42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bat_fcn_8c.html#a4ad5dd0bd52fd97e9065ede8936eef42">BatBhvAls</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a4ad5dd0bd52fd97e9065ede8936eef42acb6746ae1dd6c08ebdc3ef443fe97b9c"></a>bat_bhv_inc_als</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4ad5dd0bd52fd97e9065ede8936eef42a26199927e6e582fec303e33086d33d5e"></a>bat_bhv_exc_als</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a4ad5dd0bd52fd97e9065ede8936eef42ae30932f6513cf3068e172a841f7fbe80"></a>bat_bhv_aud_als</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af744d01cc305ad0abc67f1ea7f660b90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATaddTskExeSta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatAud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a list with batch audit data, it returns the task execution status. </p>
<p>Given a list with batch audit data, it returns the task execution status (pending/completed). The original batch audit data list must have the following columns:</p>
<ul>
<li>Nam -&gt; Name of the task, given by the user</li>
<li>Try -&gt; Number of executions of the task during the batch date The resulting batch audit data list will have two new columns:</li>
<li>StaVal -&gt; Task execution status value. Possible values: 0, 1</li>
<li>StaLab -&gt; Task execution status label. Possible values: Pending, Completed</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LdBatAud</td><td>(In/out) List with the batch audit data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Amparo CAMARERO - 19/Aug/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Amparo CAMARERO - 28/Aug/2009: Initialize the lenght of the status label column of the resulting list to the created "EXE_STA_LEN" macrodefinition instead of set it hard-coded</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNaddColumns must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="aef0d8e3c3899171a9ea4ce9bc4a9140c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATcalBatDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Mth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Btm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Etm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the batch date. </p>
<p>Calculate the batch date</p>
<dl class="section user"><dt>Algorithm</dt><dd></dd></dl>
<ul>
<li>Get current time</li>
<li>Get the begin and end time (limits) of the batch</li>
<li>If (bdt &gt; edt) and (time &lt; edt), get previous open date</li>
<li>If Mth == BAT_DAT_TDY: get previous open date</li>
<li>If Mth == BAT_DAT_CUR: get previous date</li>
<li>else:</li>
<li>If Mth == BAT_DAT_TDY: get current date (if open) or previous open (if close)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Mth</td><td>Batch date method when it is not a concret date. Possible values: BAT_DAT_TDY, BAT_DAT_CUR </td></tr>
    <tr><td class="paramname">Btm</td><td>Begin time when the batch can be executed </td></tr>
    <tr><td class="paramname">Etm</td><td>End time when the batch can be executed </td></tr>
    <tr><td class="paramname">Dat</td><td>(in/out) Date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ramon MARTINEZ - 21/Jul/2002. Improve comments</li>
<li>Ramon MARTINEZ - 22/Jul/2002. Improve comments</li>
<li>Nerea RAMOS - 10/Sep/2004: Changed heure -&gt; clGetSystemTime</li>
<li>Nerea RAMOS - 01/Oct/2004: Changed SysTim variable type CLCHAR * -&gt; CLDATE</li>
<li>Jesus Maria GARCIA - 09/Nov/2006: Correction in the header of function and in the comments</li>
<li>Josune BIKUNA - 10/Mar/2010: From now on, the 'Btm' and 'Etm' values are passed as parameter to the function instead of recovering from database (for optimising batch execution)</li>
<li>Jon BARRUTIA - 30/Nov/2011: Added an argument with the method to launch the batch</li>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="adc65209b8163e0c26eb05a6f0db0f7a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATchkArg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Flg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the arguments for a task. </p>
<p>Check the arguments for a task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identificator </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">ArgC</td><td>Numer of arguments in the array vector </td></tr>
    <tr><td class="paramname">ArgV</td><td>Array vector of arguments </td></tr>
    <tr><td class="paramname">Flg</td><td>(out) result of the check of arguments<ul>
<li>BatFlgOk: Arguments are OK</li>
<li>BatFlgNex: Still cannot be run</li>
<li>BatFlgErr: There is something wrong in the argument list</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Basilio TAMAYO - 26/Jan/2004: Add parameter App</li>
<li>Ruben SIERRA - 31/Aug/2004: Modify the call to specific function BATspeChkArg &ndash;&gt; SfpBatChkArg </li>
</ul>

</div>
</div>
<a class="anchor" id="a6857e8346bb2a27e7435252a9efb09c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATchkDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Rdy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a task can be run according to the audit of the other tasks it depends on. </p>
<p>Check if a task can be run according to the audit of the other tasks it depends on.</p>
<p>Check all precedent tasks have been correctly run</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdTsk</td><td>Original list of tasks </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Als</td><td>Book als </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of task dependences. </td></tr>
    <tr><td class="paramname">Rdy</td><td>(out)<ul>
<li>BatFlgOk: Task can be run</li>
<li>BatFlgNex: Task cannot be run yet, waiting for a condition</li>
<li>BatFlgErr: Task cannot be run, there is an error in a previous task</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mikel ARETXAGA - 01/Nov/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Check the last try of previous tasks</li>
<li>Basilio TAMAYO - 20/Nov/2003: New parameter LdAct in lcBATchkActDep</li>
<li>Basilio TAMAYO - 26/Jan/2004: Task is now defined by Bat and Nam. Treat dependences on tasks of other batches</li>
<li>Basilio TAMAYO - 13/Feb/2004: Only active auditories</li>
<li>Alex RODRIGUEZ - 28/Jul/2005. Call to GBdmdGetAudBok function.</li>
<li>Alex RODRIGUEZ - 02/Aug/2005. Delete call to GBdmdGetAudBok. Do portable HAVING clause. Adding 'Sta' and 'Try' fields to GROUP clause.</li>
<li>Alex RODRIGUEZ - 21/Dec/2006: Add LdTsk parameter and its management.</li>
<li>Jon BARRUTIA - 09/Jan/2007: Remove the use of HAVING to be compatible with SQL Server</li>
<li>Alex RODRIGUEZ - 21/Feb/2007: Use DYN_VERIFY_NAME instead of DYN_NOT_VERIFY_NAME</li>
<li>Edurne GORDOA - 29/Dec/2008: Improve MAX subqueries including specific date and alias to be faster</li>
<li>Basilio TAMAYO - 02/Feb/2009: Note that auditory may be in other books.</li>
<li>Basilio TAMAYO - 13/Feb/2009: Get auditory of last try of tasks missing in current batch.</li>
<li>Josune BIKUNA - 10/Mar/2010: When recovering the auditory of the running batch, recover only the tries (Try) that are present in LdTsk list (because these are the needed ones)</li>
<li>Basilio TAMAYO - 16/Apr/2010: Use BatAls in call to lcBATgetDepMstOthBat</li>
<li>Josune BIKUNA - 18/May/2010: Correct the way to recover the auditory for the currenct batch (both with book and without book). It CAN NOT BE RECOVERED ONLY THE MAXIMUN Try, because there could be various batches running simutaneally, and in the auditory table there could be a Try bigger than the currenct one that belong to another batch.</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNaddColumns must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a79ce44bbe659fd4439b7d084419fe9d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATchkTime </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Btm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Etm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>TimFlg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if current hour is correct to launch a task of this batch. </p>
<p>Check if current hour is correct to launch a task of this batch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Btm</td><td>Begin date for launching the batch </td></tr>
    <tr><td class="paramname">Etm</td><td>End date for launching the batch </td></tr>
    <tr><td class="paramname">TimFlg</td><td>Flag to see if it is correct to run batch at this time<ul>
<li>BatFlgOk: Current time is correct</li>
<li>BatFlgTmo: We out of allowed times to run batch</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mikel ARETXAGA - 03/Nov/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 22/Mar/2001. Add parameter InTime</li>
<li>Nerea RAMOS - 10/Sep/2004: Changed heure -&gt; clGetSystemTime</li>
<li>Nerea RAMOS - 01/Oct/2004: Changed SysTim variable type CLCHAR * -&gt; CLDATE</li>
<li>Josune BIKUNA - 10/Mar/2010: From now on, the 'Btm' and 'Etm' values are passed as parameter to the function instead of recovering from database (for optimising batch execution) </li>
</ul>

</div>
</div>
<a class="anchor" id="a0a572015cdf980cc92e7341132584ee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATcpy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AppOri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatOri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AppDst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatDst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Batch copy. </p>
<p>Copy the contents of a batch to another one. It copies the following information:</p>
<ul>
<li>- Batch definition</li>
<li>- Batch task assignment</li>
<li>- Reports associated to batch</li>
<li>- Arguments of tasks</li>
<li>- Tasks books</li>
<li>- Report books</li>
<li><p class="startli">- Task dependences</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">AppOri</td><td>Origin application </td></tr>
    <tr><td class="paramname">BatOri</td><td>Origin batch </td></tr>
    <tr><td class="paramname">AppDst</td><td>Destination application </td></tr>
    <tr><td class="paramname">BatDst</td><td>Destination batch</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 01/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Jul/2009: Take into account new columns of sending reports by email</li>
<li>Edurne GORDOA - 30/Dec/2011: Take into account batch frecuency datum of batch definition </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a57783282e63ceb86fa55e1168aeb54f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATerrSav </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FilNam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the list of error messages in a file. </p>
<p>Save the list of error messages in a file. The file will always be generated in the same directory. It will generate two error files:</p>
<ul>
<li>+ One called like the file name passed as an argument</li>
<li>+ The other includes the date and hour in its name</li>
<li>Also, it can generate different error files for the warning/error messages and for the information messages. This behaviour is depending on a value of a CST called BATerrFil. If it is equal to 1 it separates the messages in two files, one will have '.err' extension and the information's one will have '.inf'.</li>
</ul>
<dl class="section user"><dt>Global variables</dt><dd></dd></dl>
<ul>
<li>FXT_EXPORT: Directory to generate the output files of FIT</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilNam</td><td>Name of the eror file, without path</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 06/Sep/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 14/Jan/2003: Add execution time to the filename</li>
<li>Jon BARRUTIA - 25/Feb/2003: Create two error files, with date in the name and without it.</li>
<li>Jon BARRUTIA - 25/Feb/2003: Generate different error files for the errors and for the infos</li>
<li>Nerea RAMOS - 11/Mar/2003: Remove not used local variables</li>
<li>Alex RODRIGUEZ - 16/Oct/2006: Add FMTsysDateTime-s second parameter.</li>
<li>Alex RODRIGUEZ - 17/Oct/2006: Reserve size (OSD_STR_SIZ) for OSDgetFullFilNam returning value FilPth, InfFil, ErrFil.</li>
<li>David ROMERO - 23/Apr/2015: Changed getenv function to specific OSDgetEnv function </li>
</ul>

</div>
</div>
<a class="anchor" id="a5358b485464aa0d8de3c5df5c7461584"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Nac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of books where a task is active. </p>
<p>Get the list of books where a task is active</p>
<ul>
<li><p class="startli">Get all possible books for given task and limit the list to those where the task is active</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task Identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Trt</td><td>Treatment to get books from </td></tr>
    <tr><td class="paramname">Mth</td><td>Execution method </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Nac</td><td>Behaviour with not active books:<ul>
<li>bat_bhv_exc_als: Exclude them from the list</li>
<li>bat_bhv_inc_als: Include them in the list</li>
<li>bat_bhv_aud_als: Exclude from the list and audit the exclusion </li>
</ul>
</td></tr>
    <tr><td class="paramname">LdAls</td><td>(out) List of books. It can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 16/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/Dec/2002. Check if the alias list is NULL</li>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 15/Apr/2003: Check is ColAls is -1</li>
<li>Basilio TAMAYO - 25/Sep/2003: Set warning when there is a book out of date</li>
<li>Jesus Maria GARCIA - 03/Oct/2005: Check if the books list of the treatment is NULL</li>
<li>Gema ACHA - 06/Oct/2005: Add new parameter in MBOOKsetBok function </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ac5af32fdc604797b0b4b21b999171678"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetArg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of all arguments which are defined for a task of one batch. </p>
<p>Get list of all arguments which are defined for a task of one batch. The resultant list is sort by the order defined in the arguments definition table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the Batch </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identifier </td></tr>
    <tr><td class="paramname">LdArg</td><td>(out) Resultant list. All arguments for a defined batch and task.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 02/Jan/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 05/Sep/2007: Sort returning list by arguments definition order value.</li>
<li>Edurne GORDOA - 08/Jul/2009: Return also argument code </li>
</ul>

</div>
</div>
<a class="anchor" id="aefe41430095a71b6296ce4d453df1f91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatDef </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatDef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the information of batch definition for a batch. </p>
<p>Get the information of batch definition for a batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch for which get the information </td></tr>
    <tr><td class="paramname">LdBatDef</td><td>(out) Batch definition data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Dec/2011: Take into account batch frecuency datum </li>
</ul>

</div>
</div>
<a class="anchor" id="a1514fef719271d420878e655aad204f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatDefDes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Des</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get batch definition description associated to a batch. </p>
<p>Get batch definition description associated to a batch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch </td></tr>
    <tr><td class="paramname">Des</td><td>Batch description. It must be of DES_TYPE variable. If there is not valid description for asked batch and empty string is returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 21/May/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="a01824709d8043e4786dafaa6b58305a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all dependences in a database for specified batch. </p>
<p>Get the list of all dependences in a database for specified batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">LdDep</td><td>(out) Specified batch dependences (DepBat, DepNam, MstBat, MstNam, MstAls, Mth)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Nerea RAMOS - 17/Sep/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 13/Jul/2009: Get also master book </li>
</ul>

</div>
</div>
<a class="anchor" id="a3495e1b6172185f773cab28a2e61eaff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of reports associated to a batch task. </p>
<p>Get list of reports associated to a batch task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the task </td></tr>
    <tr><td class="paramname">LdRep</td><td>(out) Resultant list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 13/Jul/2009.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Jul/2009: Take into account new columns of sending reports by email </li>
</ul>

</div>
</div>
<a class="anchor" id="a43b29193f2c8b47ce856a42f17ef3833"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatRepAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRepAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of books associated to a batch report. </p>
<p>Get list of books associated to a batch report</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the Batch </td></tr>
    <tr><td class="paramname">Rep</td><td>Report identifier </td></tr>
    <tr><td class="paramname">LdRepAls</td><td>(out) Resultant list. All books of a defined batch task.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 13/Jul/2009. </dd></dl>

</div>
</div>
<a class="anchor" id="a6dea1f13faf5d22012d99975927360a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the information of batch task for a batch. </p>
<p>Get the information of batch task for a batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch for which get the information </td></tr>
    <tr><td class="paramname">LdBatTsk</td><td>(out) Batch tasks data list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="ab7c7c3dc94b381b0cd9c3aa8f1572368"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetBatTskAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdTskAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of books associated to a batch task. </p>
<p>Get list of books associated to a batch task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the task </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identifier </td></tr>
    <tr><td class="paramname">LdTskAls</td><td>(out) Resultant list. All books of a defined batch task.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 13/Jul/2009. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0346aa9fdbf6380013a72fd559b4a76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlDep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all dependences in a database. </p>
<p>Get the list of all dependences in a database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BatAls</td><td>Book of the batch. </td></tr>
    <tr><td class="paramname">LdDep</td><td>(out) Simple list of dependences </td></tr>
    <tr><td class="paramname">LlDep</td><td>(out) List of tasks dependences grouped by tasks: DepBat: Batch of dependant task DepNam: Name of dependant task LdMst: List of master tasks<ul>
<li>MstBat: Batch of the master task</li>
<li>MstNam: Name of the master task</li>
<li>Mth: the way dependant task depends on master task (see enum BatMthTyp)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 23/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 12/Feb/2004: Return dependences in two lists</li>
<li>Nerea RAMOS - 14/Sep/2007: Make public</li>
<li>Basilio TAMAYO - 02/Feb/2009: Get also book of master task.</li>
<li>Josune BIKUNA - 10/Mar/2010: Change the order in which the list LdDonAls is create to optimise the batch execution</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t</li>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>To destroy LlDep list use function<ul>
<li>DYNdetKnwLL ("LdMst", &amp;LlDep) </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ab2f55c7225a461e8cf4c7ddde32990a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatDef </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatDefSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch definition. </p>
<p>Get the schema of batch definition</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatDefSch</td><td>(out) Batch definition schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Dec/2011: Take into account batch frecuency datum </li>
</ul>

</div>
</div>
<a class="anchor" id="a3c93fcea8495c130a0bc940365267500"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks. </p>
<p>Get the schema of batch tasks</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskSch</td><td>(out) Batch task schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="afc2f5b3870b630644d5823e1cfd0e80e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTskAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskAlsSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks books. </p>
<p>Get the schema of batch tasks books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskAlsSch</td><td>(out) Batch task books schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a454d33dff62313dad0d15558756a52eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTskArg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskArgSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks arguments. </p>
<p>Get the schema of batch tasks arguments</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskArgSch</td><td>(out) Batch task arguments schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a66fb0351eac18a983222d61287c9c254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTskDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskDepSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks dependences. </p>
<p>Get the schema of batch tasks dependences</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskDepSch</td><td>(out) Batch task dependences schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="ac0aa6931d824cc4a882e187efb96de81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTskRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskRepSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks reports. </p>
<p>Get the schema of batch tasks reports</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskRepSch</td><td>(out) Batch task reports schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Jul/2009: Take into account new columns of sending reports by email </li>
</ul>

</div>
</div>
<a class="anchor" id="a4d91c3fa771c8ae9fea677b814b83d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetSchBatTskRepAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdBatTskRepAlsSch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the schema of batch tasks reports books. </p>
<p>Get the schema of batch tasks reports books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskRepAlsSch</td><td>(out) Batch task reports books schema list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a4e6273a6e6f9d826106bbdfe22041d41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATgetTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of all all task which are defined for a batch. </p>
<p>Get list of all all task which are defined for a batch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">LdTsk</td><td>(out) Resultant list. All task of a defined batch.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 02/Jan/2007.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Amparo CAMARERO - 19/Aug/2009: Add a parameter to lcBATgetTsk function to specify that all the tasks of the batch must be executed</li>
<li>Jon BARRUTIA - 29/Nov/2011: Added Mul argument when calling to lcBATgetTsk</li>
<li>Edurne GORDOA - 22/Oct/2012: Take into account process identifier parameter in call to function to get tasks of a batch </li>
</ul>

</div>
</div>
<a class="anchor" id="ac6789ef1f2e193a22349d6bfa9ecb10b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BAThisTabBat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Historise batch auditory related information. </p>
<p>Historise batch auditory related information. In this case the batch tables are not locked because it could be very dangerous as they are used extremelly frequently because the batches are launches continiously.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">RefDat</td><td>Reference date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 31/Oct/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 22/Dec/2011. Carried from WMS WmsHis.c file. Old name was lcWMShisTabDat</li>
<li>Aitor UGARTE - 26/Jan/2012. Remove Dat parameter. It is calculated inside the fuction </li>
</ul>

</div>
</div>
<a class="anchor" id="a13ef6c12efc129b91b4cda6059a9bd63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATpurTabBat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purge batch auditory related information. </p>
<p>All the tables are removed taking into account the value specified in the "BatPurNbd" application option</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">RefDat</td><td>Reference date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 26/Oct/2012 </dd></dl>

</div>
</div>
<a class="anchor" id="abed0f84af0944312060e1e7e1c3e4165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATpurTabBatHis </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purge batch auditory historised related information. </p>
<p>All the tables are removed taking into account the value specified in the "BatPurNbd" application option</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">RefDat</td><td>Reference date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitor UGARTE - 22/Dec/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 26/Oct/2012: Rename function. The name that it had will be used to purge batch audithory not historised tables </li>
</ul>

</div>
</div>
<a class="anchor" id="a8b293d012a946c30e4dad709cb3f7bb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATrun </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run batch. </p>
<p>Run batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of program arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Vector of arguments This function allows two types of arguments.<ul>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt;: to run a complete batch (all tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt; &lt;Nam1&gt;...&lt;Namn&gt;: to run partially a batch (only some tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 02/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 12/Dec/2002. If there is some error in lcBATdelNacTsk function, save it to write them into the batch error file.</li>
<li>Aitziber BARRERO - 17/Jan/2003: Add GUTtrcSetBufModCst</li>
<li>Jon BARRUTIA - 04/Mar/2003. Batch.err file name now is without extension</li>
<li>Aitziber BARREROA - 02/Jul/2003: If batch total is not launched before batch partial, then create an error file</li>
<li>Basilio TAMAYO - 23/Jan/2004: Add parameter App</li>
<li>Nerea RAMOS - 10/Sep/2004: Changed datesys -&gt; clGetSystemDate</li>
<li>Alex RODRIGUEZ - 22/Sep/2004. FoxDate &ndash;&gt; AppDat</li>
<li>Alex RODRIGUEZ - 17/Feb/2006. Add call to lcBATcreEndFil.</li>
<li>Alex RODRIGUEZ - 29/Nov/2006: Add management that checks if one batch can run simultaneusly more than one.</li>
<li>Alex RODRIGUEZ - 07/Mar/2007: Use of GBdmdSelCnt function.</li>
<li>Alex RODRIGUEZ - 19/Apr/2007: Filter by date the simultaneusly runs of the batches.</li>
<li>Alex RODRIGUEZ - 12/Jun/2007: Use DYNdetKnwLL instead of obsoleted DYNdetruit2ListDyn.</li>
<li>Edurne GORDOA - 20/Jul/2007: Set all local code in lcBATrun function to share code from different functions </li>
</ul>

</div>
</div>
<a class="anchor" id="a51f47a573e65e9093275f818ede318fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATrunAudEnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update auditory to 'Finish' for a executed batch. </p>
<p>Update auditory to 'Finish' for a executed batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 29/Nov/2006:</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 19/Apr/2007: Add synopsys and description. </li>
</ul>

</div>
</div>
<a class="anchor" id="a00ac660f6b830dd17ece20c730145107"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATrunUsr </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run batch with a specific user. </p>
<p>Run batch with a specific user. That means that all tasks of the batch will be executed with the received user as parameter, without taken into account the user assigned to each task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Usr</td><td>User to run the batch. To use the users defined for each task pass this value to NULL or empty (""). </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of program arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Vector of arguments This function allows two types of arguments.<ul>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt;: to run a complete batch (all tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt; &lt;Nam1&gt;...&lt;Namn&gt;: to run partially a batch (only some tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2007 </dd></dl>

</div>
</div>
<a class="anchor" id="ac726b9f923663832e63711e2896600a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatDef </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatDef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch definition. </p>
<p>Save in database a list of batch definition. Previously existing batch definition information is deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatDef</td><td>Batch definition list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Dec/2011: Take into account batch frecuency datum </li>
</ul>

</div>
</div>
<a class="anchor" id="ab621290fd80c9f1e714554ad04df5f21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch tasks. </p>
<p>Save in database a list of batch tasks. Previously existing batch task assignments are deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTsk</td><td>Batch task list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a80c0820610d17993afc83fede8be709e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTskAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTskAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch task books. </p>
<p>Save in database a list of batch task books. Previously existing batch task books assignments are deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskAls</td><td>Batch task books list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="add92f8a1dc8af8779c085188d41cb426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTskArg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTskArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch task arguments. </p>
<p>Save in database a list of batch task arguments. Previously existing batch task arguments are deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskArg</td><td>Batch task arguments list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a5c9b0022fcae5a07f2ece9063e5f32f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTskDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTskDep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch task dependences. </p>
<p>Save in database a list of batch task dependences. Previously existing batch task dependences are deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskDep</td><td>Batch task dependences list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009 </dd></dl>

</div>
</div>
<a class="anchor" id="a99a0c1af69dac8e0710658aca5ed9e55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTskRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTskRep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch task reports. </p>
<p>Save in database a list of batch task reports. Previously existing batch task reports are deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskRep</td><td>Batch task reports list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 30/Jul/2009: Take into account new columns of sending reports by email</li>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="ac579cc2159d0b0a2778b780d138b9f8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATsavBatTskRepAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBatTskRepAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save in database a list of batch task reports books. </p>
<p>Save in database a list of batch task reports books. Previously existing batch task reports books assignments are deleted</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdBatTskRepAls</td><td>Batch task reports books list to save</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a3b4923e6c72930d2bf81bb95efab30b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATtskEmaInf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Eml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return email information about batch task. </p>
<p>Return email information about batch task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context. </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier. </td></tr>
    <tr><td class="paramname">Tsk</td><td>Batch task. It can be "" </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name. It can be "" </td></tr>
    <tr><td class="paramname">Eml</td><td>(Out) Flag to send mail at the end of the task. </td></tr>
    <tr><td class="paramname">Dst</td><td>(Out) Destination user in case of sending mail. </td></tr>
    <tr><td class="paramname">Dtp</td><td>(Out) Destination type (user or group), in case of sending mail.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ruben GIL - 20/Jan/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Ruben GIL - 21/Jan/2011: Correct Eml variable in GBloadRecord function</li>
<li>Ruben GIL - 11/Mar/2011: Use TSK_LEN and NAM_LEN to reserve size memory of Whe</li>
<li>Ruben GIL - 13/May/2011: Add change name: TSK_LEN&ndash;&gt;ALU_TSK_LEN and NAM_LEN&ndash;&gt;ALU_NAM_LEN </li>
</ul>

</div>
</div>
<a class="anchor" id="aeb193645bb7b29dba2214fd96b23549e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BATupdTskExeSta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the execution status of a task. </p>
<p>Update the execution status of a task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution attempt during the batch date </td></tr>
    <tr><td class="paramname">Sta</td><td>New task execution status. Possible values, 0: Pending / 1: Completed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Amparo CAMARERO - 19/Aug/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Amparo CAMARERO - 28/Aug/2009: Make the function more specific, it must be called after every general audit of a task as ok, out of launching frecuency or not active to prevent the task remains pending in case of an execution error. Also make it public </li>
</ul>

</div>
</div>
<a class="anchor" id="ae68b3d3ebdb1a4a591e41c556f790621"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaddTry </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add for each task in LdTsk the number of try the task is done in Dat. </p>
<p>Add for each task in LdTsk the number of try the task is done in Dat</p>
<ul>
<li>For each task, get the number of tries done in Dat and add one.</li>
<li><p class="startli">If task has not been tried before, set as 1st try.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 15/Jan/2003</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Basilio TAMAYO - 23/Jan/2004: Remove parameter All. Change table structure</li>
<li>Basilio TAMAYO - 13/Feb/2004: Inactivate the possible previous auditory of tasks</li>
<li>Edurne GORDOA - 24/May/2005: Use standard SQL group by. Take into account that oracle database management returns a double using aggregate functions.</li>
<li>Alex RODRIGUEZ - 20/Dec/2006: Add LdTry management.</li>
<li>Alex RODRIGUEZ - 27/Feb/2007: Lock access to BatTry database table.</li>
<li>Edurne GORDOA - 06/Mar/2007: Free lock to BatTry table with commit when the treatment goes correctly.</li>
<li>Alex RODRIGUEZ - 27/Apr/2007: Use ERRchkGb in GBdmd functions.</li>
<li>Amparo CAMARERO - 19/Aug/2009: Initialize the execution status of a task as pending</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNaddColumns must be of type size_t </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a12dee46e99f79f0466aad78278940681"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaud </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit completely a batch task with a given status. </p>
<p>Audit completely a batch task with a given status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Mar/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 23/Jan/2004: Make it static</li>
<li>Basilio TAMAYO - 13/Feb/2004: Add activity flag, always active</li>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8d4ac29e631d6dbfd079273eacfb9919"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudCmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Complete the auditory of a task in a date for all books. </p>
<p>Complete the auditory of a task in a date for all books</p>
<ul>
<li>This function is thought to be called at the end of a task, when the auditory is completed</li>
<li>In a normal case all books (and the general) should be already audited and it should do nothing. But when there is any error, the auditory is half done. So the behaviour is</li>
<li>+ If a book is already audited, do nothing</li>
<li>+ If a book is half-audited, audit it as error (there must have been an error that broke the normal execution and auditory in the book)</li>
<li><p class="startli">+ If a book is not audited at all, audit it as cancelled (the task has not even started in the book)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch Identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books to complete auditory</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 18/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Nerea RAMOS - 22/Sep/2003: Get only activated tasks, because they aren't deleted in lcBATaudDel</li>
<li>Basilio TAMAYO - 26/Jan/2004: New tables</li>
<li>Edurne GORDOA - 24/May/2005: Sort list using DYN functions to make function compatible with different database management systems.</li>
<li>Basilio TAMAYO - 25/Sep/2006: Change name to fill Almis format </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a83dfce39a6ea694897d56c302d933a06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudDel </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove all auditory for a date, batch and task unless the lines that aren't active. </p>
<p>Remove all auditory for a date, batch and task unless the lines that aren't active</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 10/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 22/Sep/2003: Don't remove not activated books</li>
<li>Basilio TAMAYO - 23/Jan/2004: Make it static </li>
</ul>

</div>
</div>
<a class="anchor" id="ac6690c3f3d5cb7c45717df2e86f5f8bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudEnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the end of a batch task with a given status. </p>
<p>Audit the end of a batch task with a given status The given task for the given date must have been initialised with lcBATaudIni</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Mar/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 23/Jan/2004: Make it static</li>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="a1226ea6b04097edc31cf0e4b75c631aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudIni </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the beginning of a batch task with a given status. </p>
<p>Audit the beginning of a batch task with a given status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 21/Mar/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 23/Jan/2004: Make it static</li>
<li>Basilio TAMAYO - 13/Feb/2004: Add activity flag, always active</li>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="aad2313029b7d73695c08d3c5523128f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudSum </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the general result of a task acording to the results in each book. </p>
<p>Audit the general result of a task acording to the results in each book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch Date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 20/Nov/2003: If all books are inactive, return OK status</li>
<li>Basilio TAMAYO - 26/Jan/2004: New tables</li>
<li>Alex RODRIGUEZ - 17/May/2004. Use function GBdmdSelCnt.</li>
<li>Nerea RAMOS - 19/May/2004: Removed not used local variables</li>
<li>Edurne GORDOA - 24/May/2005: Call to GBdmdSelCnt with ERRchkGb.</li>
<li>Amparo CAMARERO - 28/Aug/2009: Set the execution status of a task as completed after it had been audited as general ok</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="bat_fcn_8c.html#a83fb60e55bf0dd0e11676201ab716193" title="Audit the result of a report task in a book according to the results of all reports in that book...">lcBATaudSumRep</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a83fb60e55bf0dd0e11676201ab716193"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudSumRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the result of a report task in a book according to the results of all reports in that book. </p>
<p>Audit the result of a report task in a book according to the results of all reports in that book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch Date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Book alias</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 20/Nov/2003: If all books are inactive, return OK status</li>
<li>Basilio TAMAYO - 04/Feb/2004: Add parameter Nam</li>
<li>Alex RODRIGUEZ - 17/May/2004. Use function GBdmdSelCnt.</li>
<li>Nerea RAMOS - 19/May/2004: Removed not used local variables</li>
<li>Edurne GORDOA - 24/May/2005: Call to GBdmdSelCnt with ERRchkGb.</li>
<li>Josune BIKUNA - 23/Jun/2006: Correct the sentence of getting the number of rows. The where clause for the book must be indicating an specific book alias and not 'IS NULL'.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="bat_fcn_8c.html#aad2313029b7d73695c08d3c5523128f5" title="Audit the general result of a task acording to the results in each book.">lcBATaudSum</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad0677afd1b04a0b54e4a3f06b3117f34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATaudSumRepTskAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the result of a report task in a list of books according to the results reports. </p>
<p>Audit the result of a report task in a list of books according to the results of all reports in each book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Report task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch Date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">LdAls</td><td>List of books</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/Feb/2004 </dd></dl>

</div>
</div>
<a class="anchor" id="a693714682cf556180ba481a4a4ebd660"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATchkActDep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>AudAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAudAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAudGen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Rdy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Control task dependences. </p>
<p>Control task dependences. Chech if task is launchable according to the auditory status of its master tasks.</p>
<ul>
<li>If a master task is audited as erroneous, the task cannot be run.</li>
<li><p class="startli">If a master task is not audited yet, the task has to wait until master task is executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">AudAls</td><td>Book where the auditory must be found </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Als</td><td>Book als </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of dependences between tasks of batch. </td></tr>
    <tr><td class="paramname">LdAudAls</td><td>List of task auditory for current als. </td></tr>
    <tr><td class="paramname">LdAudGen</td><td>List of general task auditory </td></tr>
    <tr><td class="paramname">Rdy</td><td>(out)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 07/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Basilio TAMAYO - 20/Nov/2003: New parameter LdAct</li>
<li>Basilio TAMAYO - 27/Jan/2004: dependences on taks of other batchs</li>
<li>Jesus Maria GARCIA - 04/Oct/2005: check if the books list is NULL</li>
<li>Basilio TAMAYO - 02/Feb/2009: Take into account the books where the auditory was. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aee821f9a77a4e6c410629bdf039a33b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATchkBatTot </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If complete batch is not launched before partial batch, then create an error file. </p>
<p>If complete batch is not launched before partial batch, then create an error file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LdTsk</td><td>(in) List of tasks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Aitziber BARRERO - 02/Jul/2003.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitziber BARRERO - 08/Jul/2003: Redone body of the function, now execution is faster</li>
<li>Basilio TAMAYO - 23/Jan/2004: Changed names of tables</li>
<li>Basilio TAMAYO - 25/Sep/2006: Change name of function for coherence with the rest. </li>
</ul>

</div>
</div>
<a class="anchor" id="a158eac193dec1bbf8dd621d5de6e054e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATchkDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ChkFlg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a book is in batch date. </p>
<p>Check if a book is in batch date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Als</td><td>Alias of the book to check </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">ChkFlg</td><td>(OUT) Flag of the checking: Ok or Out of date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/Feb/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 13/Sep/2004. Changed nbj_ecart -&gt; clCalDateDayGap</li>
<li>Alex RODRIGUEZ - 09/Oct/2006: Ad third parameter to CSTreadDatDB function.</li>
<li>Josune BIKUNA - 14/Feb/2010: Add 'Pas' parameter when calling CSTreadDatDB </li>
</ul>

</div>
</div>
<a class="anchor" id="a7539648bf83dbed5c2daac603e1c554d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATchkGen </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>All</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>General and initial check of a batch. </p>
<p>General and initial check of a batch. Not included the checks carried out in each task neither the checks whose result can be different according to the execution of tasks.</p>
<ul>
<li>Check circular dependences of each task</li>
<li>If the batch is executed complete (with all tasks)</li>
<li><p class="startli">- Check if the batch has already been executed in the date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">All</td><td>Complete batch or only a few tasks </td></tr>
    <tr><td class="paramname">Mul</td><td>Type of execution: once a day or multiple. See enum BatExeTyp </td></tr>
    <tr><td class="paramname">LdDep</td><td>List of dependences between tasks </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks that will be run</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 03/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Basilio TAMAYO - 13/Feb/2004: Make it static; add parameter Mul; use function GUTdepChkCir</li>
<li>Alex RODRIGUEZ - 17/May/2004. Use function GBdmdSelCnt.</li>
<li>Nerea RAMOS - 19/May/2004: Removed not used Vld local variable and init RunBat</li>
<li>Edurne GORDOA - 24/May/2005: Call to GBdmdSelCnt with ERRchkGb. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aea48d506fb755e8d78e07a0bc4746226"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATcreEndFil </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a file with the end status of the batch. </p>
<p>Create a file with the end status of the batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 17/Feb/2006.</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 17/Oct/2006: Reserve size (OSD_STR_SIZ) for OSDgetFullFilNam returning value FilPth, ErrFil.</li>
<li>Jesus Maria GARCIA - 31/Mar/2009: BatOk and BatErr are pointers. Added error control for fopen</li>
<li>David ROMERO - 23/Apr/2015: Changed getenv function to specific OSDgetEnv function </li>
</ul>

</div>
</div>
<a class="anchor" id="aebb3da4a81364e8fdabf8a6b2d26cfc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATcstInit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Init the list of CST in a new database. </p>
<p>Init the list of CST in a new database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Dev</td><td>Batch currency </td></tr>
    <tr><td class="paramname">Als</td><td>Alias of the new book</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/Feb/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 22/Sep/2004. FoxDate &ndash;&gt; AppDat. FoxDev &ndash;&gt; AppDev </li>
</ul>

</div>
</div>
<a class="anchor" id="a8c6e9f9f299886b7af52d6ce03145a35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATdctBatTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deactivate batch task. </p>
<p>Deactivate batch task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch </td></tr>
    <tr><td class="paramname">Tsk</td><td>Internal code of the task </td></tr>
    <tr><td class="paramname">Nam</td><td>task name </td></tr>
    <tr><td class="paramname">Usr</td><td>Application user</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 11/Mar/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gotzon ETXEBERRIA - 03/Jun/2009: Add Nam param to deactivate only the task with that name, not all the tasks with same internal name (Tsk) </li>
</ul>

</div>
</div>
<a class="anchor" id="a5449cd39cb5bccb0298f6612187aca53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATdelAlsRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlRepAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete a book from the list of books of reports for a report task. </p>
<p>Delete a book from the list of books of reports for a report task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Als</td><td>Alias of the book to remove </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">LlRepAls</td><td>List of books per report </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit the books</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 04/Feb/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 25/Sep/2006: Change name of function to fill Almis rules </li>
</ul>

</div>
</div>
<a class="anchor" id="a528473e8848ad4ee45479ae9387490b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATdelNacRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlTskAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlRepAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete and audit all inactive reports of a batch. </p>
<p>Delete and audit all inactive reports of a batch. The function will return a list of reports to generate and the books to run them in. This list will have the following structure:</p>
<ul>
<li>- "Nam": Report name</li>
<li>- "Rep": Report code</li>
<li>- "Prn": Flag if the report must be printed or not (1,0)</li>
<li>- "Eml": Flag if the report must sent by e-mail or not (1,0)</li>
<li>- "Emu": E-mail destination user in case the report is sent by e-mail. It can be empty</li>
<li>- "Dtp": Destination type (user or group), in case the report is sent by e-mail. It can be empty</li>
<li>- "Mth": Report execution method</li>
<li>- "LdAls": List of books where the report must be run. It has the columns: "als", "bok"</li>
<li>- "LdArg": List of arguments of the report. It has the columns: "als", "bok"</li>
<li>The lists returned by this function must be destroyed with lcBATfreTskLd function</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">LdTsk</td><td>(in/out) List of tasks </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>List of task names and their book lists </td></tr>
    <tr><td class="paramname">LlRepAls</td><td>(out) List of reports and the books to run it in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Alex RODRIGUEZ - 04/Apr/2005. Use ACCgetUsrGrp function.</li>
<li>Edurne GORDOA - 24/May/2005: Sort list using DYN functions to make function compatible with different database management systems. Correct compilation warning</li>
<li>Gema ACHA - 06/Oct/2005: Add new parameter in MBOOKsetBok function</li>
<li>Josune BIKUNA - 18/Sep/2007: Recover also the e-mail configuration for the reports</li>
<li>Josune BIKUNA - 23/Dec/2008: Manage the e-mail destination type (user/group). Do not manage the e-mail address column because this column does not exist any more</li>
<li>Amparo CAMARERO - 28/Aug/2009: Set the execution status of a task as completed after it had been audited as general not active. Use "lcBATaud" instead of "lcBATaudEnd" if the user group is not defined because the audit is not initialized yet</li>
<li>Josune BIKUNA - 10/Mar/2010: Get the user group and init its available treatments only if the user if different to the previous one</li>
<li>Josune BIKUNA - 10/Mar/2010: Save the group of the user who launches the task in the list of tasks</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a409477e3c6888aa5f893aab8a1f72298"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATdelNacTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlTskAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete and audit all inactive tasks of a batch. </p>
<p>Delete and audit all inactive tasks of a batch. One task is inactive when it is generally inactive or is not active in any book.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">LdTsk</td><td>(in/out) List of tasks </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>(out) List of tasks and the books to run it in "Nam", "LdAls" (als, bok), "LdArg" (als, bok) To destroy it lcBATfreTskLd (&amp;LlTskAls);</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 28/Jun/2001</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 27/May/2002. Correct a little bug, in bucle for, change loops order.</li>
<li>Basilio TAMAYO - 15/Jan/2003: LdTsk has now a column with the number of try of execution of the task during the day Dat.</li>
<li>Nerea RAMOS - 09/Jul/2003: Call 'for' instruction only when NbAls exists to avoid warnings</li>
<li>Basilio TAMAYO - 20/Nov/2003: Treat case that there is not activity flag in general</li>
<li>Basilio TAMAYO - 27/Jan/2004: Make it static. New algorithm</li>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Alex RODRIGUEZ - 04/Apr/2005. Use ACCgetUsrGrp function.</li>
<li>Edurne GORDOA - 24/May/2005: Correct compilation warning</li>
<li>Amparo CAMARERO - 28/Aug/2009: Set the execution status of a task as completed after it had been audited as general not active. Use "lcBATaud" instead of "lcBATaudEnd" if the user group is not defined because the audit is not initialized yet</li>
<li>Josune BIKUNA - 10/Mar/2010: Get the user group and init its available treatments only if the user if different to the previous one</li>
<li>Josune BIKUNA - 10/Mar/2010: Save the group of the user who launches the task in the list of tasks</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a6bef0b161269523e137a936b0727570d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATemlAud </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>EmlTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ErrFil</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send e-mail according to the auditory status of a task. </p>
<p>Send e-mail according to the auditory status of a task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">EmlTyp</td><td>E-mail flag. See type BatEmlTyp for details. </td></tr>
    <tr><td class="paramname">Dst</td><td>Destination (user or group) of the mail </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch Identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Usr</td><td>Task user </td></tr>
    <tr><td class="paramname">Dtp</td><td>Destination type (user or group) </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">ErrFil</td><td>Name of the file to write the messages of the task</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/Sep/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 22/Dec/2008: Add 'Destination type' parameter. The e-mail message can be sent directly to a user or to a group of destinations</li>
<li>Ruben GIL - 02/Mar/2010: Add ErrFil parameter and pass to lcBATemlSnd function</li>
<li>Ruben GIL - 20/Jan/2011: Not send mail if flag is BatEmlNae or BatEmlNaa</li>
<li>Ruben GIL - 19/Nov/2013: Add Dat parameter in lcBATemlSnd function</li>
<li>Fernando BURILLO - 14/Jun/2016: Do not send mail when state is 'never' in other case send always that there is an error </li>
</ul>

</div>
</div>
<a class="anchor" id="aed4c2d72e471e25ad964b2d27517990c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATemlSnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ErrFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send e-mail. </p>
<p>Send e-mail</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Usr</td><td>Task user </td></tr>
    <tr><td class="paramname">Dst</td><td>Destination user or group of the mail </td></tr>
    <tr><td class="paramname">Dtp</td><td>Destination type (user or group) </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch Identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Sta</td><td>Status the batch finished with </td></tr>
    <tr><td class="paramname">ErrFil</td><td>Name of the file to write the messages of the task </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 25/Sep/2006</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 22/Dec/2008: Add 'Destination type' parameter. The e-mail message can be sent directly to a user or to a group of destinations</li>
<li>Ruben GIL - 02/Mar/2010: Add ErrFil parameter and to send in the mail if the error file exist</li>
<li>Ruben GIL - 04/Mar/2010: Create error file only if there is any error</li>
<li>Josune BIKUNA - 05/Dec/2012: Rename GUTemlXxx -&gt; EMLxxx</li>
<li>Ruben GIL - 19/Nov/2013: Add Dat parameter. If the task finished correct, send also the info/error file.</li>
<li>Ruben GIL - 26/Nov/2013: Use strcat to add file extension.</li>
<li>David ROMERO - 23/Apr/2015: Changed getenv function to specific OSDgetEnv function </li>
</ul>

</div>
</div>
<a class="anchor" id="a68a714255b290818ddca895288e65eda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATfreTskLd </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LlTskAls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free list of books per task/report. </p>
<p>Free list of books per task/report</p>
<ul>
<li><p class="startli">The list to free has two columns that are lists too: LdAls and LdArg</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LlTskAls</td><td>(in/out) List of task/report names and their book lists</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Feb/2004 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a8235250194163b82310432c6d7ec6525"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetArg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdArg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of arguments necessary for a task. </p>
<p>Get the list of arguments necessary for a task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Application of the batch </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identifier </td></tr>
    <tr><td class="paramname">LdArg</td><td>(out) List of arguments for task </td></tr>
    <tr><td class="paramname">NbArg</td><td>(out) Number of required arguments</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 26/Jan/2004 </dd></dl>

</div>
</div>
<a class="anchor" id="a2114124638884fe0d83722d316dc0917"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetAudMisTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdAudMis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get auditory of missing tasks in current batch execution. </p>
<p>Get auditory of missing tasks in current batch execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdAud</td><td>List of task auditory. </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of all tasks in current batch execution. </td></tr>
    <tr><td class="paramname">LdAudMis</td><td>(out) List of general task auditory</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 07/Oct/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="a6115786177ac780860dad8a340a4b602"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetDepAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdDep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of all dependences defined in a database. </p>
<p>Get the list of all dependences defined in a database</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Als</td><td>Alias of current book </td></tr>
    <tr><td class="paramname">LdDep</td><td>(out) Specified batch dependences (DepBat, DepNam, MstBat, MstNam, Mth)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 02/Feb/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="ab2fcee9a793362202ba85b602a904457"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetDepMstAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of books where we should check auditory. </p>
<p>Get the list of books where we should check auditory.</p>
<ul>
<li>If a master task is audited as erroneous, the task cannot be run.</li>
<li><p class="startli">If a master task is not audited yet, the task has to wait until master task is executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LlDep</td><td>List of dependences by task. </td></tr>
    <tr><td class="paramname">BatAls</td><td>Book where we are. Do not include it in the list of books. </td></tr>
    <tr><td class="paramname">LdAls</td><td>(out) List of books to search auditory in. Column "Als"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 02/Feb/2009 </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a67cb0a082a34a481b878f11808ce9c85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetDepMstOthBat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdOthBat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of books/batches where a given batch has dependencies. </p>
<p>Get the list of books/batches where a given batch has dependencies The information will be returned in a list with two columns:</p>
<ul>
<li>- "Als": alias of the book</li>
<li>- "Bat": batch name</li>
<li>The given batch information is not included in the returned list</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LlDep</td><td>List of dependences by task. </td></tr>
    <tr><td class="paramname">BatAls</td><td>Current book where the batch is being executed </td></tr>
    <tr><td class="paramname">Bat</td><td>Current batch name that is being executed </td></tr>
    <tr><td class="paramname">LdOthBat</td><td>(out) List with the book/name columns of the other batches where the given batch has dependencies</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 11/Mar/2010</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 07/Apr/2010: This function supposed that the LlDep list had two columns: alias and batch and it received also the task name. Now, it converts the passed list into the expected one. </li>
</ul>

</div>
</div>
<a class="anchor" id="a560beac5fb38ec3d6a0e7a188ebc8a2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetPenTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDefTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the task pending in the last execution for the batch date. </p>
<p>Get from the list of defined task for a batch those that are pending in the last execution for the batch date, if they exist. Depending on the multiple execution type, this function has two ways when there is not any pending task:</p>
<ul>
<li>it returns all tasks to execute them again</li>
<li>it returns an empty list as pending task, nothing to do If the batch is not audited for the date, it has not been run; so all tasks are pending.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Mul</td><td>Type of execution: once a day or multiple. See enum BatExeTyp </td></tr>
    <tr><td class="paramname">LdDefTsk</td><td>(In/out) List with the tasks pending in the last execution for the batch date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Amparo CAMARERO - 19/Aug/2009</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 29/Nov/2011: Allow a new method: do not return any task if not any pending</li>
<li>Jon BARRUTIA - 21/Dec/2011: Correct when BatExeOnlPen and first time </li>
</ul>

</div>
</div>
<a class="anchor" id="a359009f96f2712a3e2103bf803f5c25a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>NamUsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of reports for a batch. </p>
<p>Get the list of reports for a batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch </td></tr>
    <tr><td class="paramname">Nam</td><td>Name of the report task </td></tr>
    <tr><td class="paramname">NamUsr</td><td>Application user of the task in case a report has no specific user </td></tr>
    <tr><td class="paramname">LdRep</td><td>(out) List of reports to run Nam, Rep, Act, Mth, Trt, <a class="el" href="class_prn.html">Prn</a>, Usr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Josune BIKUNA - 13/Sep/2007: recover the e-mail information</li>
<li>Josune BIKUNA - 23/Dec/2008: Get the destination type (user/group). Do not take the e-mail address because this column does not exist any more </li>
</ul>

</div>
</div>
<a class="anchor" id="a8ec22ef83762671aad946f64910817bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetRepAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Trt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Nac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of books where a report is active. </p>
<p>Get the list of books where a report is active</p>
<p>Get all possible books for given report and limit the list to those where the task is active</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Rep</td><td>Report name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Trt</td><td>Treatment to get books from </td></tr>
    <tr><td class="paramname">Mth</td><td>Report generation method </td></tr>
    <tr><td class="paramname">Try</td><td>Report generation try of the date </td></tr>
    <tr><td class="paramname">Nac</td><td>Behaviour with not active books:<ul>
<li>bat_bhv_exc_als: Exclude them from the list</li>
<li>bat_bhv_inc_als: Include them in the list</li>
<li>bat_bhv_aud_als: Exclude from the list and audit the exclusion </li>
</ul>
</td></tr>
    <tr><td class="paramname">LdAls</td><td>(out) List of books. It can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Gema ACHA - 06/Oct/2005: Add new parameter in MBOOKsetBok function</li>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings </li>
</ul>

</div>
</div>
<a class="anchor" id="a5e0d6f7c35db4f640309b90954b577ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Prc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ExeTyp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Mul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of tasks for a batch. </p>
<p>Get the list of tasks for a batch</p>
<ul>
<li><p class="startli">The list of tasks is returned in inversed order to how they will be executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Prc</td><td>Process identifier </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date. Not taken into account if the execution type is total </td></tr>
    <tr><td class="paramname">ExeTyp</td><td>Execution type. Flag that indicates if all the tasks of a batch must be recovered or only the pending tasks in the last execution for the batch date. Possible values, TskExeTot: get all the tasks / TskExePar: get only the pending tasks </td></tr>
    <tr><td class="paramname">Mul</td><td>Type of execution: once a day or multiple. See enum BatExeTyp. Only used if execution type is partial ('TskExePar') </td></tr>
    <tr><td class="paramname">LdTsk</td><td>(out) List of tasks to run Tsk, Nam, Act, Mth, Trt, Usr, Frq, Err, Eml, Dst, Arg</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 23/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 25/Sep/2006: Get also fields for sending mails: Eml and Dst</li>
<li>Josune BIKUNA - 22/Dec/2008: Recover the 'Destination type' column for each task. The e-mail message can be sent directly to a user or to a group of destinations.</li>
<li>Amparo CAMARERO - 19/Aug/2009: Add "Dat" and "ExeTyp" parameters, if the execution type is partial get only the pending tasks in the last execution for the batch date</li>
<li>Jon BARRUTIA - 29/Nov/2011: Added Mul argument when calling to lcBATgetPenTsk</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNaddColumns must be of type size_t</li>
<li>Edurne GORDOA - 19/Oct/2012: Take into account variable arguments of a batch process</li>
<li>Alex RODRIGUEZ - 16/May/2013: Correct not freed memory problems (LdArgVar) </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a2cf3d58a8c133f61732018883a9ab9e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATgetTskInPar </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Limit the list of tasks to those that are in the argument list. </p>
<p>Limit the list of tasks to those that are in the argument list.</p>
<ul>
<li><p class="startli">First two arguments are date and batch, so they are not taken into account.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LdTsk</td><td>(in/out) List of tasks </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Array of arguments</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Nerea RAMOS - 03/Oct/2008: Add needed ';'</li>
<li>Aitor UGARTE - 03/Oct/2012: Remove Doxygen warnings</li>
<li>Edurne GORDOA - 26/Oct/2012: Take into account new parameters before tasks </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a306b47f12814e7d76cf8d74356d31e52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBAThisCrtTabBat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create/update needed tables for historising tables related to batch auditories. </p>
<p>Create/update needed tables for historising tables related to batch auditories</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 31/Oct/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 22/Dec/2011. Carried from WMS WmsHis.c file. Old name was lcWMShisCrtTabBat </li>
</ul>

</div>
</div>
<a class="anchor" id="aadea0aeb4ae5ce6f65aa195e28932aed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBAThisDtaBat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>RefDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>PurDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Historise batch auditory related information. </p>
<p>Historise batch auditory related information. When historing the batch auditory, to avoid problems in case there is a batch running sentitive to be historised, keep always in the auditory tables the maximum try for each batch/task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">RefDat</td><td>Reference date </td></tr>
    <tr><td class="paramname">PurDat</td><td>Purge date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 31/Oct/2011</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 22/Dec/2011. Carried from WMS WmsHis.c file. Old name was lcWMShisDtaBat </li>
</ul>

</div>
</div>
<a class="anchor" id="a4700bd644f1be303dcce8a2750460442"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATisInTim </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Btm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Etm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>InTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a time is between two hour limits. </p>
<p>Check if a time is between two hour limits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Tim</td><td>Time want to check </td></tr>
    <tr><td class="paramname">Btm</td><td>Begin time limit, times before this are not allowed. </td></tr>
    <tr><td class="paramname">Etm</td><td>End time limit, times after this are not allowed. </td></tr>
    <tr><td class="paramname">InTime</td><td>(out) If still in batch time (1) or not (0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Algorithm</dt><dd>Have to take into account three different cases: 1) Btm = Etm: All times are incorrect 2) Btm &gt; Etm: Correct times go from Btm to Etm (of same day) 3) Btm &lt; Etm: Correct times go from Etm (of one day) to Btm (of the next date)</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Oct/2002 </dd></dl>

</div>
</div>
<a class="anchor" id="a911392e1b79c1ea074df04b9ff52cfeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrepAud </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit completely a batch report with a given status. </p>
<p>Audit completely a batch report with a given status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Rep</td><td>Report name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 13/Feb/2004: Add activity flag, always active</li>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="af79a4662933d8ac2ccd563421d81b8d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrepAudEnd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the end of a batch report with a given status. </p>
<p>Audit the end of a batch report with a given status The given report for the given date must have been initialised with lcBATaudIni</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Rep</td><td>Report name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="a1f9ec151ebbafa0a2fc0fe9a72481bf6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrepAudIni </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Sta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the beginning of a batch report with a given status. </p>
<p>Audit the beginning of a batch report with a given status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Rep</td><td>Report name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Als</td><td>Als of the book, maybe NULL </td></tr>
    <tr><td class="paramname">Sta</td><td>Status to audit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Jan/2004</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 13/Feb/2004: Add activity flag, always active</li>
<li>Edurne GORDOA - 24/May/2005: Use GB function to get the function name to get date depending on database management system</li>
<li>Alex RODRIGUEZ - 04/May/2006: In call to GBsqlGetDat use ERRchk instead of ERRchkGb. </li>
</ul>

</div>
</div>
<a class="anchor" id="aaf0ad7d47a9af049aeb0516f14c3ce08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrepAudSum </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Audit the general result of a report acording to the results in each book. </p>
<p>Audit the general result of a report acording to the results in each book</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Report task name </td></tr>
    <tr><td class="paramname">Rep</td><td>Report code </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch Date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Basilio TAMAYO - 20/Nov/2003: If all books are inactive, return OK status</li>
<li>Basilio TAMAYO - 26/Jan/2004: New tables</li>
<li>Alex RODRIGUEZ - 17/May/2004. Use function GBdmdSelCnt.</li>
<li>Nerea RAMOS - 19/May/2004: Removed not used local variables</li>
<li>Edurne GORDOA - 24/May/2005: Call to GBdmdSelCnt with ERRchkGb.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="bat_fcn_8c.html#a83fb60e55bf0dd0e11676201ab716193" title="Audit the result of a report task in a book according to the results of all reports in that book...">lcBATaudSumRep</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1e5948c00a8357c63ca6f186778a71f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrmvArgAlsOdt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BatDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove from the list of argument books, those that are not in batch date. </p>
<p>Remove from the list of argument books, those that are not in batch date</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">BatAls</td><td>Alias of batch book </td></tr>
    <tr><td class="paramname">BatDat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LdAls</td><td>(in/out) List of books</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 11/Feb/2004: </dd></dl>

</div>
</div>
<a class="anchor" id="a52a99e9a7004f5460d6902943fbd2cb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrun </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run batch. </p>
<p>Run batch</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Usr</td><td>User to run the batch. To use the users defined for each task pass this value to NULL or empty (""). </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of program arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Vector of arguments This function allows two types of arguments.<ul>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt;: to run a complete batch (all tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
<li>&lt;Dat&gt; &lt;Usr&gt; &lt;Prc&gt; &lt;Bat&gt; &lt;Nam1&gt;...&lt;Namn&gt;: to run partially a batch (only some tasks). Pass -1 in process when batch is launched from command line or when its arguments values are not dynamically updated</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 02/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 12/Dec/2002. If there is some error in lcBATdelNacTsk function, save it to write them into the batch error file.</li>
<li>Aitziber BARRERO - 17/Jan/2003: Add GUTtrcSetBufModCst</li>
<li>Jon BARRUTIA - 04/Mar/2003. Batch.err file name now is without extension</li>
<li>Aitziber BARREROA - 02/Jul/2003: If batch total is not launched before batch partial, then create an error file</li>
<li>Basilio TAMAYO - 23/Jan/2004: Add parameter App</li>
<li>Nerea RAMOS - 10/Sep/2004: Changed datesys -&gt; clGetSystemDate</li>
<li>Alex RODRIGUEZ - 22/Sep/2004. FoxDate &ndash;&gt; AppDat</li>
<li>Alex RODRIGUEZ - 17/Feb/2006. Add call to lcBATcreEndFil.</li>
<li>Alex RODRIGUEZ - 29/Nov/2006: Add management that checks if one batch can run simultaneusly more than one.</li>
<li>Alex RODRIGUEZ - 07/Mar/2007: Use of GBdmdSelCnt function.</li>
<li>Alex RODRIGUEZ - 19/Apr/2007: Filter by date the simultaneusly runs of the batches.</li>
<li>Alex RODRIGUEZ - 12/Jun/2007: Use DYNdetKnwLL instead of obsoleted DYNdetruit2ListDyn.</li>
<li>Edurne GORDOA - 20/Jul/2007: Copied from BATrun to use the same code also from BATrunUsr</li>
<li>Nerea RAMOS - 14/Sep/2007: Changed lcBATgetDep -&gt; BATgetDep</li>
<li>Basilio TAMAYO - 20/Sep/2007: Duplicate list of tasks for later check of dependences.</li>
<li>Amparo CAMARERO - 19/Aug/2009: Set the tasks execution status as completed after they had been audited with "successful" or "inactive" status</li>
<li>Amparo CAMARERO - 28/Aug/2009: Remove the call to "lcBATupdTskExeSta", now it is called after every general audit of a task as ok, out of launching frecuency or not active to prevent the task remains pending in case of an execution error</li>
<li>Josune BIKUNA - 10/Mar/2010: Get getting some of the batch definition values, get also the begin/end dates when the batch can be launched (Btm/Etm). These values will be passed as parameter to the functions they need them. This is this way to do recover them only once and to optimise the batch execution</li>
<li>Jon BARRUTIA - 30/Nov/2011: Some modifications:<ul>
<li>Check if batch can be executed in a closed date</li>
<li>Add mode BAT_DAT_CUR</li>
<li>New multiple mode to not execute anything if multiples executions and not pending tasks</li>
</ul>
</li>
<li>Edurne GORDOA - 22/Oct/2012: Take into account batch process identifier</li>
<li>Edurne GORDOA - 26/Oct/2012: Take into account user in the arguments (after date)</li>
<li>Edurne GORDOA - 22/Jan/2013: Take into account process identifier to for the error file name</li>
<li>Borja UNDA - 14/Jun/2016: Send an email when batch was still running </li>
</ul>

</div>
</div>
<a class="anchor" id="ac546b8308ba4ac144bb9587946d269e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrunAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Frq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlTskAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ChkFlg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a task in a list of books. </p>
<p>Run a task in a list of books</p>
<ul>
<li><dl class="section user"><dt>Global variables</dt><dd></dd></dl>
<ul>
<li>Als: Alias of the book we are in</li>
<li>AppDat: Application date</li>
<li>AppDev: Application currency</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks that will be run </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Frq</td><td>Task launching frequency </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Usr</td><td>Batch user </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of dependences among tasks </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>List of books per task </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Array or arguments in string format </td></tr>
    <tr><td class="paramname">ChkFlg</td><td>(out) Flag of the execution</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 08/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/Dec/2002. Check if the alias list is NULL</li>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 15/Apr/2003: Changed showed message, added book value for correspondent als</li>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Nerea RAMOS - 08/Jul/2003: Don't call to BATerrSav (ErrFil) because it is called in lcBATrunOneTsk. Remove ErrFil parameter and init Ret to -1 to avoid warnings</li>
<li>Josune BIKUNA - 10/Sep/2003. When checking if the arguments are correct, take into account that the result must be that the treatment must be cancelled, for instance, when launching the account file treatment in the last day of the month.</li>
<li>Basilio TAMAYO - 11/Feb/2004:</li>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Ruben SIERRA - 31/Aug/2004: Modify the call to specific function BATspeRunTsk &ndash;&gt; SfpBatRunTsk</li>
<li>Alex RODRIGUEZ - 22/Sep/2004. FoxDev &ndash;&gt; AppDev</li>
<li>Alex RODRIGUEZ - 21/Dec/2006: Add LdTsk parameter and its management.</li>
<li>Amparo CAMARERO - 21/Oct/2009: Add the frequency of a task in a batch as new parameter and pass it to "SfpBatRunTsk" function. Pass batch identifier and task name also to this function to get to "BATspeRunTsk" application specific function</li>
<li>Josune BIKUNA - 30/Jun/2010: Add 'Try' parameter to 'SfpBatRunTsk' function </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="aae7d135c909747c3d0e15ef2ee90e02c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrunOneTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>IniAccTrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Btm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Etm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ErrFil</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Frq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Eml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dtp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlTskAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlRepAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ChkFlg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute one single batch task. </p>
<p>Execute one single batch task.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">IniAccTrt</td><td>Flag that indicate if the list of restricted treatments and the books must be initialised or not. Only in case the user who executes the task is different from the previous one, this initialisation should be done (for optimising batch execution) </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks that will be run </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Btm</td><td>Begin date for launching the batch </td></tr>
    <tr><td class="paramname">Etm</td><td>End date for launching the batch </td></tr>
    <tr><td class="paramname">Tsk</td><td>Task identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">Arg</td><td>Arguments to execute task </td></tr>
    <tr><td class="paramname">Usr</td><td>Application user </td></tr>
    <tr><td class="paramname">Grp</td><td>Group to which the application user belongs to </td></tr>
    <tr><td class="paramname">ErrFil</td><td>Name of the file to write the messages of the task </td></tr>
    <tr><td class="paramname">Frq</td><td>Launching frequency for taks (See in <a class="el" href="bat_def_8h.html" title="Batch related function prototypes and types.">batDef.h</a>) </td></tr>
    <tr><td class="paramname">Eml</td><td>Flag to send mail at the end of the task. See enum BatEmlTyp for details </td></tr>
    <tr><td class="paramname">Dst</td><td>Destination user in case of sending mail. </td></tr>
    <tr><td class="paramname">Dtp</td><td>Destination type (user or group), in case of sending mail. </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of task dependences. </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>List of books per task. </td></tr>
    <tr><td class="paramname">LlRepAls</td><td>List of books per report. </td></tr>
    <tr><td class="paramname">ChkFlg</td><td>(out) Status flag of the execution of the task</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 10/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 13/Dec/2002. Check if the user is a valid user</li>
<li>Nerea RAMOS - 17/Dec/2002. Added user group global variable, called 'Grp'</li>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 11/Mar/2003. Call to lcBATsetPcPrn only for PC version</li>
<li>Nerea RAMOS - 14/Apr/2003. Add general error if ErrCd exists and there isn't any error messages</li>
<li>Nerea RAMOS - 15/Apr/2003. Call to BATerrSav (ErrFil) after generic error is setted</li>
<li>Nerea RAMOS - 08/Jul/2003: Call to BATerrSav (ErrFil) if there is any message</li>
<li>Basilio TAMAYO - 25/Sep/2003: Generate error file only if task has been executed</li>
<li>Josune BIKUNA - 13/Oct/2003. Check if the task must be launched according to the launching frequency. Add 'Frq' (frequency) parameter</li>
<li>Basilio TAMAYO - 30/Jan/2004;</li>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Alex RODRIGUEZ - 06/Jul/2004. Add parameters Ctx, Bat, Nam to lcBATchkLchFrq. if there is any error, set a warnings message.</li>
<li>Alex RODRIGUEZ - 08/Sep/2004. FoxUsr &ndash;&gt; AppUsr. FoxDate &ndash;&gt; AppDat. FoxDev &ndash;&gt; AppDev Grp &ndash;&gt; AppGrp</li>
<li>Alex RODRIGUEZ - 04/Apr/2005. Use ACCgetUsrGrp function.</li>
<li>Edurne GORDOA - 24/May/2005: Correct compilation warning</li>
<li>Basilio TAMAYO - 25/Sep/2006: Add parameters Eml and Dst. E-mail the auditory of task at the end of task.</li>
<li>Alex RODRIGUEZ - 21/Dec/2006: Add LdTsk parameter and its management.</li>
<li>Gotzon ETXEBERRIA - 11/Mar/2008: manage GutLchDlyNoEdtDct (deactivate batch if not in frequency)</li>
<li>Josune BIKUNA - 11/Dec/2008: Use GUTchkLchFrq instead of BATchkLchFrq</li>
<li>Gotzon ETXEBERRIA - 03/Jun/2009: Add Nam param to lcBATdctBatTsk call to deactivate only the task with that name, not all the tasks with same internal name (Tsk)</li>
<li>Amparo CAMARERO - 21/Oct/2009: Pass the frequency of a task in a batch as new parameter to "lcBATrunAls" function</li>
<li>Ruben GIL - 02/Mar/2010: Add ErrFil variable in lcBATemlAud function</li>
<li>Josune BIKUNA - 10/Mar/2010: From now the this function receives the begin/end date launching dates of the batch by parameter instead of recovering from database</li>
<li>Josune BIKUNA - 10/Mar/2010: Add a parameter IniAccTrt that will indicate if the list of restricted treatments and the books must be initialised or not. Only in case the user who executes the task is different from the previous one, this initialisation must be done (for optimising batch execution)</li>
<li>Josune BIKUNA - 10/Mar/2010: Do not recover the user group any more from database. From now on it is a parameter of the function</li>
<li>Josune BIKUNA &amp;&amp; Edurne GORDOA - 02/Feb/2017: Add paramter to STRparseCmd to allow passing parameters with double quote </li>
</ul>

</div>
</div>
<a class="anchor" id="a460eb6584d346d8005b542e71d9a2e33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrunRep </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Try</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlTskAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlRepAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArgC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ArgV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ChkFlg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a report task in a list of books. </p>
<p>Run a report task in a list of books</p>
<ul>
<li><dl class="section user"><dt>Global variables</dt><dd></dd></dl>
<ul>
<li>Als: Alias of the book we are in</li>
<li>AppDat: Application date</li>
<li>AppDev: Application currency</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks that will be run </td></tr>
    <tr><td class="paramname">App</td><td>Bathc application </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">Try</td><td>Task execution try of the date </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of dependences among tasks </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>List of books per task </td></tr>
    <tr><td class="paramname">LlRepAls</td><td>List of books per report </td></tr>
    <tr><td class="paramname">ArgC</td><td>Number of arguments </td></tr>
    <tr><td class="paramname">ArgV</td><td>Array or arguments in string format </td></tr>
    <tr><td class="paramname">ChkFlg</td><td>(out) Flag of the execution</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 17/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: Add parameter Try</li>
<li>Nerea RAMOS - 15/Apr/2003: Changed showed message, added book value for correspondent als</li>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Basilio TAMAYO - 04/Feb/2004:</li>
<li>Alex RODRIGUEZ - 10/Jun/2004. Add ERRchk () to calls of ERRsetXXX ().</li>
<li>Ruben SIERRA - 31/Aug/2004: Modify the call to specific function BATspeRunRep &ndash;&gt; SfpBatRunRep</li>
<li>Alex RODRIGUEZ - 08/Sep/2004. FoxUsr &ndash;&gt; AppUsr; FoxDev &ndash;&gt; AppDev</li>
<li>Basilio TAMAYO - 06/May/2005: Get the running method</li>
<li>Alex RODRIGUEZ - 24/Nov/2006: Correct infinite loop problems in while conditional expresion.</li>
<li>Alex RODRIGUEZ - 21/Dec/2006: Add LdTsk parameter and its management.</li>
<li>Josune BIKUNA - 18/Sep/2007: Add the management of sending or not the reports by e-mail</li>
<li>Josune BIKUNA - 22/Dec/2008: Add the possibility to send the reports to a group of destinations besides to a user. Do not manage e-mail address column because this column does not exist any more</li>
<li>Josune BIKUNA - 24/Dec/2008: remove unsed variables</li>
<li>Josune BIKUNA - 14/May/2009: Correct the name of the column where the name of the user or group where the e-mail must be sent is stored (Dst -&gt; Emu)</li>
<li>Josune BIKUNA - 01/Jun/2009: Use EMA_MAX_TYP for e-mail destination variable</li>
<li>Josune BIKUNA - 05/Dec/2012: Rename GUTemlXxx -&gt; EMLxxx </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a2ee4fe7c690463213f4ba6cbdb05b1f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATrunTsk </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>App</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Btm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Etm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTskOri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlDep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlTskAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LlRepAls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Prc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute all task from a list. </p>
<p>Loop into task list until all are executed or execution time expire.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">App</td><td>Batch application </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch identifier </td></tr>
    <tr><td class="paramname">Btm</td><td>Begin date for launching the batch </td></tr>
    <tr><td class="paramname">Etm</td><td>End date for launching the batch </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks. </td></tr>
    <tr><td class="paramname">LdTskOri</td><td>Original list of tasks with all tasks, including the inactive ones. </td></tr>
    <tr><td class="paramname">LlDep</td><td>List of task dependences. </td></tr>
    <tr><td class="paramname">LlTskAls</td><td>List of books per task </td></tr>
    <tr><td class="paramname">LlRepAls</td><td>List of books per report </td></tr>
    <tr><td class="paramname">Prc</td><td>Process identifier. It will be added to the error file when it is not -1</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 16/Oct/2002</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Basilio TAMAYO - 15/Jan/2003: LdTsk has column try</li>
<li>Nerea RAMOS - 09/Jun/2003: ERRass was used wrong</li>
<li>Nerea RAMOS - 09/Jul/2003: Init ChkFlg to BatFlgOk to avoid warnings</li>
<li>Josune BIKUNA - 13/Oct/2003. Add 'Frq' (frequency) parameter when calling to lcBATrunOneTsk. Audit the task as not correctly launched if the launching frequency is not OK.</li>
<li>Basilio TAMAYO - 26/Jan/2004: Add parameters App and LlTskAls and LlRepAls. Configuration in database, not in files</li>
<li>Basilio TAMAYO - 25/Sep/2006: If time out, send mail to inform.</li>
<li>Alex RODRIGUEZ - 23/Jan/2007: Pass an original task list to lcBATrunOneTsk function.</li>
<li>Basilio TAMAYO - 20/Sep/2007: New parameter LdTskOri.</li>
<li>Josune BIKUNA - 22/Dec/2008: Add the management od the 'Destination type' column. The e-mail message can be sent directly to a user or to a group of destinations.</li>
<li>Basilio TAMAYO - 30/Apr/2009: Added a minimum time between consecutive executions of a task.</li>
<li>Basilio TAMAYO - 12/May/2009: Try to keep the order in the list of task as much as possible.</li>
<li>Amparo CAMARERO - 28/Aug/2009: Set the execution status of a task as completed after it had been audited as general out of launching frecuency</li>
<li>Ruben GIL - 03/Mar/2010: Add new variable in lcBATemlSnd function</li>
<li>Josune BIKUNA - 10/Mar/2010: From now the this function receives the begin/end date launching dates of the batch by parameter instead of recovering from database</li>
<li>Josune BIKUNA - 10/Mar/2010: Control if the user, who executes the task, changes from a task to the next. Only in case it changes, the list of restricted treatments and the books should be initialised (for optimisinf batch execution)</li>
<li>Josune BIKUNA - 10/Mar/2010: The function that launches one task must received as parameter the group the user belongs to. From now on it is stored in the list of tasks</li>
<li>Ruben GIL - 02/Feb/2012: Removed line from the list after audit in DB</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t</li>
<li>Edurne GORDOA - 22/Jan/2013: Take into account process identifier to add it to the error file when it is different than -1</li>
<li>Edurne GORDOA - 23/Jan/2013: Avoid doxygen warning of missing parameter explanation</li>
<li>Ruben GIL - 19/Nov/2013: Add Dat parameter in lcBATemlSnd function </li>
</ul>

</div>
</div>
<a class="anchor" id="a78b287903e947e55ad76531d2d7be668"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATsetUsr2AllTsk </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdTsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a user to all the task in a tasks list. </p>
<p>Set a user to all the task in a tasks list when the user parameter has a value. Otherwise, it doesn't do anything</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Usr</td><td>User to set to all tasks. If NULL or empty ("") it does not update tasks user. </td></tr>
    <tr><td class="paramname">LdTsk</td><td>List of tasks to which update user</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Edurne GORDOA - 20/Jul/2007</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Edurne GORDOA - 02/Jun/2008: Correct user column name </li>
</ul>

</div>
</div>
<a class="anchor" id="a360825dd0e6a3d2ac13f2557a05d830e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATtskBdtDat </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Bat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Nam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>BdtDat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take begin date of task. </p>
<p>Take begin date of task</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">Bat</td><td>Batch Identifier </td></tr>
    <tr><td class="paramname">Nam</td><td>Task name </td></tr>
    <tr><td class="paramname">Dat</td><td>Batch date </td></tr>
    <tr><td class="paramname">BdtDat</td><td>(Out) Begin date of the task</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ruben GIL - 19/Nov/2013</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Fernando BURILLO - 15/Jan/2016: Use intermediate variable to use oracle syntax for function to format date with ORACLE compilation mode. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8f0c7cdf36f9555d6638c217c74cc5d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcBATwaiSecTry </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ExcTim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>WaiSec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a task wait for a time between tries. </p>
<p>Make a task wait for a time between tries.</p>
<ul>
<li>Get current time.</li>
<li><p class="startli">If the seconds between current time and last execution time if smaller than the seconds to wait between consecutive executions of a task, sleep until the minimum time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ExcTim</td><td>Last execution time. In format HH:MM:SS </td></tr>
    <tr><td class="paramname">WaiSec</td><td>Seconds a task must wait between two consecutive tries.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Basilio TAMAYO - 30/Apr/2009 </dd></dl>
</li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="bat_fcn_8c.html">batFcn.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:31 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
