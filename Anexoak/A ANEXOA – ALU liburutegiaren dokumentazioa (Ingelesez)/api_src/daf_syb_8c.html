<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: src/dafSyb.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('daf_syb_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dafSyb.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Database access functions for sybase using sybases ct.lib.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Database access functions for sybase using sybases ct.lib. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="gb_8h.html" title="Database access functions headers file.">gb.h</a></dd></dl>
<dl class="section user"><dt>Acronyme</dt><dd>DAFsyb</dd></dl>
<dl class="section user"><dt>Library</dt><dd>gb</dd></dl>
<p>Database access functions for sybase using sybases ct.lib.</p>
<ul>
<li>IMPORTANT: Following environment variables must point to correct SYBASE directory to be able to execute a program with GBs.</li>
<li>+ PATH: The directory where SYBASE executables are located must be inside this variable</li>
<li>+ SYBASE: It must point to SYBASE installation directory</li>
<li>+ SHLIB_PATH: Must contain those paths where SYBASE shared libraries are located.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>David IGLESIAS - 21/May/2004</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd><ul>
<li>When we execute an SQL statement like this: ERRchkGb (Ctx, GBloadDyn (Ctx, &amp;LdRes, &amp;NbRes, "SELECT ide, dev, 5000.0/val", "FROM cst", "WHERE val IS NOT NULL AND val &lt; 1.0", ""));</li>
</ul>
</dd></dl>
<pre class="fragment">"val" may be set to the value 0. In this case, Sybase throws the error
"Divide by zero occurred".
This error, cause in ct_fetch function throwing an error by calling to "lcDAFsybSrvMcb"
callback. Nevertheless the value returned by ct_fetch is "CS_END_DATA", so the function
calling to ct_fetch can not difference bettwen this kind of error and a correct fetch of the
selected data.
Anycase, the error is saved in the context as the other errors and it is displayed when any
other error take place. The DeadLoks causes a similar problem, this was solved initializing
a flag in the callback when that error took place. So in the future, when the problem is
approached try to give it the same solution done for deadLocks, see Ctx-&gt;DlkFlg.
(David IGLESIAS - 16/Dec/2004)
</pre><dl class="section user"><dt>Phylosophy</dt><dd>cursor philosophy</dd></dl>
<ul>
<li>Two types of cursors exist: Cursors client and cursors server.</li>
</ul>
<ul>
<li>To work with more of a cursor, which we do is the following thing:</li>
</ul>
<ul>
<li><p class="startli">- Whenever we open a cursor, we create a new command in the current connection. And we save this command in a cursor command array (CmdCur, for client cursor and CmdClc for client cursors).</p>
<p class="startli">These arrays have a capacity of GB_MAX_CSR (defined into <a class="el" href="gb_8h.html" title="Database access functions headers file.">gb.h</a> file, in the actually 20) positions, reason why GB_MAX_CSR cursors will be able solely to be opened simultaneously, of every type.</p>
<p class="startli">Functions which open a client cursors: GBsetup () Functions which open a server cursors: GBcsrOpn (), GBcursor ()</p>
</li>
</ul>
<ul>
<li>- Whenever we read of a cursor, we use to the command that has been kept in its opening. For server cursors, a number of cursor is returned to the user and it will be used from this point on. For server cursor, the next index to the last used will be used.</li>
</ul>
<ul>
<li>Functions which read cursors client: GBreadRecord ()</li>
<li>Functions which read cursors server: GBcsrFch (), GBcursorFetch ()</li>
</ul>
<ul>
<li>Functions that modif/delete data with server cursors: GBcursorMod (), GBcsrUpdLin (), GBcsrSupLin ().</li>
</ul>
<ul>
<li>- When we read the last line, we automatically kill the command of the cursor</li>
</ul>
<ul>
<li>Functions which close a client and server cursors: <a class="el" href="gb_8h.html#ad4daf668426ea00c40cc42b6c2e13f54">GBcsrCls()</a>. It can be used by the user, to close a cursor before reading all the lines.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="gbodbc_8c.html" title="Database access functions using ODBC.">gbodbc.c</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="daf_syb_8c.html">dafSyb.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:31 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
