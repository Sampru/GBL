<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ALU: src/db_functions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ALU
   &#160;<span id="projectnumber">5.1</span>
   </div>
   <div id="projectbrief">ALMIS_utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('db__functions_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">db_functions.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Database functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="alu__types_8h_source.html">alu_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="cst__def_8h_source.html">cst_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="db__def_8h_source.html">db_def.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dyn_def_8h_source.html">dynDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="err_def_8h_source.html">errDef.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="gb_8h_source.html">gb.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="glb_def_8h_source.html">glbDef.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a364f338380e0e3c74cda883796ab39c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a364f338380e0e3c74cda883796ab39c5">DB_TRT</a>&#160;&#160;&#160;1003</td></tr>
<tr class="separator:a364f338380e0e3c74cda883796ab39c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99be36b53960703fb8679ddd7636e850"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a99be36b53960703fb8679ddd7636e850">CNX_CHG</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a99be36b53960703fb8679ddd7636e850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257352427242345bbd4c5e1f136f347f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a257352427242345bbd4c5e1f136f347f">ONE_COL_WHERE_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a257352427242345bbd4c5e1f136f347f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a019afa2314f4242e872ee797cebdc58e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a019afa2314f4242e872ee797cebdc58e">lcCreateSqlStmtFxt</a> (char *sqlStmt, char *sqlVerb, char *sqlWhere, char *sqlOrderby, char *sqlGroupby, va_list arg)</td></tr>
<tr class="memdesc:a019afa2314f4242e872ee797cebdc58e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an SQL statement after its components.  <a href="#a019afa2314f4242e872ee797cebdc58e"></a><br/></td></tr>
<tr class="separator:a019afa2314f4242e872ee797cebdc58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b9457664a4dcd0bb56cf88fc1e1d6f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a93b9457664a4dcd0bb56cf88fc1e1d6f">lcDBcloseMultiTrans</a> (void *Ctx, int Act, char *EndAls)</td></tr>
<tr class="memdesc:a93b9457664a4dcd0bb56cf88fc1e1d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to close a a multi-trans.  <a href="#a93b9457664a4dcd0bb56cf88fc1e1d6f"></a><br/></td></tr>
<tr class="separator:a93b9457664a4dcd0bb56cf88fc1e1d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e6a4497f1be41fc813ccef20d39138"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#ad1e6a4497f1be41fc813ccef20d39138">lcDBexeDynIn</a> (void *Ctx, int Stp, int FcnIdx, int Dst, int Not, int ColId, char *InCol, char *SelStr, void *LdDat, void **LdRes)</td></tr>
<tr class="memdesc:ad1e6a4497f1be41fc813ccef20d39138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators.  <a href="#ad1e6a4497f1be41fc813ccef20d39138"></a><br/></td></tr>
<tr class="separator:ad1e6a4497f1be41fc813ccef20d39138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f66be57fd44018dff5d402898f1687"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a99f66be57fd44018dff5d402898f1687">lcCheckMultiTran</a> (void)</td></tr>
<tr class="memdesc:a99f66be57fd44018dff5d402898f1687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if multi-trans in process and show a trace if so.  <a href="#a99f66be57fd44018dff5d402898f1687"></a><br/></td></tr>
<tr class="separator:a99f66be57fd44018dff5d402898f1687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783d46b30ddc4771bcc74657a8438501"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a783d46b30ddc4771bcc74657a8438501">DBsetTrans</a> (void *Ctx, int nb_table,...)</td></tr>
<tr class="memdesc:a783d46b30ddc4771bcc74657a8438501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new transaction.  <a href="#a783d46b30ddc4771bcc74657a8438501"></a><br/></td></tr>
<tr class="separator:a783d46b30ddc4771bcc74657a8438501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc708e5d745f2ddfded4657e74388654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#adc708e5d745f2ddfded4657e74388654">DBloadDynFromAls</a> (void *Ctx, char *Als, void **LdRes, int *NbRes, char *SelSen,...)</td></tr>
<tr class="memdesc:adc708e5d745f2ddfded4657e74388654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a SELECT query from another DB -&gt; change connection if not.  <a href="#adc708e5d745f2ddfded4657e74388654"></a><br/></td></tr>
<tr class="separator:adc708e5d745f2ddfded4657e74388654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0a915fb17c506d79f08a4803ed5de4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a0b0a915fb17c506d79f08a4803ed5de4">DBloadDynFromGv</a> (void *Ctx, int ChgGv, void **LdRes, int *NbRes, char *SelSen,...)</td></tr>
<tr class="memdesc:a0b0a915fb17c506d79f08a4803ed5de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a SELECT query from Global View -&gt; change connection if not.  <a href="#a0b0a915fb17c506d79f08a4803ed5de4"></a><br/></td></tr>
<tr class="separator:a0b0a915fb17c506d79f08a4803ed5de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa9339fe3752a0f5dbe6ff93cbe26f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#abfa9339fe3752a0f5dbe6ff93cbe26f9">DBloadMultiDyn</a> (void *Ctx, void *ldBooks, void **ldTot, int *nbTot, int AddSrc, char *sqlSelect, char *sqlWhere, char *sqlOrderby, char *sqlGroupby,...)</td></tr>
<tr class="memdesc:abfa9339fe3752a0f5dbe6ff93cbe26f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a SELECT over several books.  <a href="#abfa9339fe3752a0f5dbe6ff93cbe26f9"></a><br/></td></tr>
<tr class="separator:abfa9339fe3752a0f5dbe6ff93cbe26f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae938ba70165bb10dfa5c337e293a73b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#ae938ba70165bb10dfa5c337e293a73b7">DBdiffusTable</a> (void *Ctx, char *Table, void *ldBooks, int WithDelete)</td></tr>
<tr class="memdesc:ae938ba70165bb10dfa5c337e293a73b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table diffusion.  <a href="#ae938ba70165bb10dfa5c337e293a73b7"></a><br/></td></tr>
<tr class="separator:ae938ba70165bb10dfa5c337e293a73b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d79e97277b6200ef1b705024f573ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a49d79e97277b6200ef1b705024f573ea">DBremoveReplicated</a> (void *Ctx, char *Table)</td></tr>
<tr class="memdesc:a49d79e97277b6200ef1b705024f573ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove replicated lines in a table.  <a href="#a49d79e97277b6200ef1b705024f573ea"></a><br/></td></tr>
<tr class="separator:a49d79e97277b6200ef1b705024f573ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e5ea4ca4325d59ced61bcabd14b696"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a42e5ea4ca4325d59ced61bcabd14b696">DBdeleteInBloc</a> (void *Ctx, char *Table, void *Ld, int NbCols,...)</td></tr>
<tr class="memdesc:a42e5ea4ca4325d59ced61bcabd14b696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiple delete procedure.  <a href="#a42e5ea4ca4325d59ced61bcabd14b696"></a><br/></td></tr>
<tr class="separator:a42e5ea4ca4325d59ced61bcabd14b696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6607e7ba7bdef95867cb323c27d17a79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a6607e7ba7bdef95867cb323c27d17a79">DBloadDynIn</a> (void *Ctx, int Dst, int ColId, void *LdDat, void **LdRes, char *SelStr, char *InCol)</td></tr>
<tr class="memdesc:a6607e7ba7bdef95867cb323c27d17a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a GBloadDyn with an IN operator.  <a href="#a6607e7ba7bdef95867cb323c27d17a79"></a><br/></td></tr>
<tr class="separator:a6607e7ba7bdef95867cb323c27d17a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e86b679f2a142bcadb030ddc73246f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a52e86b679f2a142bcadb030ddc73246f">DBloadDynInStp</a> (void *Ctx, int Stp, int Dst, int ColId, void *LdDat, void **LdRes, char *SelStr, char *InCol)</td></tr>
<tr class="memdesc:a52e86b679f2a142bcadb030ddc73246f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a GBloadDyn with an IN operator, specifying the allocation step.  <a href="#a52e86b679f2a142bcadb030ddc73246f"></a><br/></td></tr>
<tr class="separator:a52e86b679f2a142bcadb030ddc73246f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f2ba24f31c95649cf35d14a239490f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a04f2ba24f31c95649cf35d14a239490f">DBexeDynIn</a> (void *Ctx, int FcnIdx, int Dst, int Not, int ColId, char *InCol, char *SelStr, void *LdDat, void **LdRes)</td></tr>
<tr class="memdesc:a04f2ba24f31c95649cf35d14a239490f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators.  <a href="#a04f2ba24f31c95649cf35d14a239490f"></a><br/></td></tr>
<tr class="separator:a04f2ba24f31c95649cf35d14a239490f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85fd61aa0359cd680e9f0acc06fffed1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a85fd61aa0359cd680e9f0acc06fffed1">DBexeDynInStp</a> (void *Ctx, int Stp, int FcnIdx, int Dst, int Not, int ColId, char *InCol, char *SelStr, void *LdDat, void **LdRes)</td></tr>
<tr class="memdesc:a85fd61aa0359cd680e9f0acc06fffed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators, with allocation step.  <a href="#a85fd61aa0359cd680e9f0acc06fffed1"></a><br/></td></tr>
<tr class="separator:a85fd61aa0359cd680e9f0acc06fffed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218a959e7ea44d8fd708dea67d06f3cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a218a959e7ea44d8fd708dea67d06f3cf">DBsetNestedTrans</a> (void *Ctx)</td></tr>
<tr class="memdesc:a218a959e7ea44d8fd708dea67d06f3cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a transaction susceptible of being nested.  <a href="#a218a959e7ea44d8fd708dea67d06f3cf"></a><br/></td></tr>
<tr class="separator:a218a959e7ea44d8fd708dea67d06f3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175cf51e9284f90c75aa29576f21f041"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a175cf51e9284f90c75aa29576f21f041">DBnestedCommit</a> (void *Ctx)</td></tr>
<tr class="memdesc:a175cf51e9284f90c75aa29576f21f041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a commit in a nested transaction context.  <a href="#a175cf51e9284f90c75aa29576f21f041"></a><br/></td></tr>
<tr class="separator:a175cf51e9284f90c75aa29576f21f041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82cc80dc2114851e99d17b076a284535"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a82cc80dc2114851e99d17b076a284535">DBnestedRollback</a> (void *Ctx)</td></tr>
<tr class="memdesc:a82cc80dc2114851e99d17b076a284535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a rollback in a nested transaction context.  <a href="#a82cc80dc2114851e99d17b076a284535"></a><br/></td></tr>
<tr class="separator:a82cc80dc2114851e99d17b076a284535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a8d5d72e94708626ad09c845a7bfbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a67a8d5d72e94708626ad09c845a7bfbe">DBchgCnxToAls</a> (void *Ctx, char *Als)</td></tr>
<tr class="memdesc:a67a8d5d72e94708626ad09c845a7bfbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the current connection to another alias.  <a href="#a67a8d5d72e94708626ad09c845a7bfbe"></a><br/></td></tr>
<tr class="separator:a67a8d5d72e94708626ad09c845a7bfbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c89fb5eef4f998d41ac4596b23affc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#af9c89fb5eef4f998d41ac4596b23affc">DBbackCnx</a> (void *Ctx)</td></tr>
<tr class="memdesc:af9c89fb5eef4f998d41ac4596b23affc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change back to the previous connection.  <a href="#af9c89fb5eef4f998d41ac4596b23affc"></a><br/></td></tr>
<tr class="separator:af9c89fb5eef4f998d41ac4596b23affc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9b9182cf8831abe13bcebfdd47a0ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a9c9b9182cf8831abe13bcebfdd47a0ba">DBchgOneCnxToAls</a> (void *Ctx, char *Als, int *CnxArr)</td></tr>
<tr class="memdesc:a9c9b9182cf8831abe13bcebfdd47a0ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change once the current connection to another alias.  <a href="#a9c9b9182cf8831abe13bcebfdd47a0ba"></a><br/></td></tr>
<tr class="separator:a9c9b9182cf8831abe13bcebfdd47a0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7bf5076a9fec42434e2040a805ad8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#aec7bf5076a9fec42434e2040a805ad8f">DBbackOneCnx</a> (void *Ctx, int *CnxArr)</td></tr>
<tr class="memdesc:aec7bf5076a9fec42434e2040a805ad8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change back once to the previous connection.  <a href="#aec7bf5076a9fec42434e2040a805ad8f"></a><br/></td></tr>
<tr class="separator:aec7bf5076a9fec42434e2040a805ad8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93437e29ae5f7a5203528f1119cfcbe0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a93437e29ae5f7a5203528f1119cfcbe0">DBopenMultiTrans</a> (void *Ctx, char *CurrAls)</td></tr>
<tr class="memdesc:a93437e29ae5f7a5203528f1119cfcbe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a multiple-book transaction (multi-tran)  <a href="#a93437e29ae5f7a5203528f1119cfcbe0"></a><br/></td></tr>
<tr class="separator:a93437e29ae5f7a5203528f1119cfcbe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1851e4a0abf1425963899c7bc1ad2127"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a1851e4a0abf1425963899c7bc1ad2127">DBchangeMultiTrans</a> (void *Ctx, char *Als)</td></tr>
<tr class="memdesc:a1851e4a0abf1425963899c7bc1ad2127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open/Change a connection in a multi-trans context.  <a href="#a1851e4a0abf1425963899c7bc1ad2127"></a><br/></td></tr>
<tr class="separator:a1851e4a0abf1425963899c7bc1ad2127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89122319221c2c4df68505f949317631"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631">DBcommitMultiTrans</a> (void *Ctx, char *EndAls)</td></tr>
<tr class="memdesc:a89122319221c2c4df68505f949317631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit in a multi-trans context, closing all connections.  <a href="#a89122319221c2c4df68505f949317631"></a><br/></td></tr>
<tr class="separator:a89122319221c2c4df68505f949317631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14b27b727d9c7a797059bed50f01b53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53">DBrollbackMultiTrans</a> (void *Ctx, char *EndAls)</td></tr>
<tr class="memdesc:ac14b27b727d9c7a797059bed50f01b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback in a multi-trans context, closing all connections.  <a href="#ac14b27b727d9c7a797059bed50f01b53"></a><br/></td></tr>
<tr class="separator:ac14b27b727d9c7a797059bed50f01b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501085d655c76b8c49c11da9556538df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a501085d655c76b8c49c11da9556538df">DBloadDynFile</a> (void *Ctx, char *FnameIn, void **LdRes)</td></tr>
<tr class="memdesc:a501085d655c76b8c49c11da9556538df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a dyn list from a select written in a file.  <a href="#a501085d655c76b8c49c11da9556538df"></a><br/></td></tr>
<tr class="separator:a501085d655c76b8c49c11da9556538df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad503d83b076a5e24fbb156ea8e91b3f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#ad503d83b076a5e24fbb156ea8e91b3f4">DBloadMultiDynIn</a> (void *Ctx, <a class="el" href="db__def_8h.html#ae3b5edfc61eff88c17cd750e2c62d692">tDistinct</a> Dis, void *LdBok, int ColId, void *LdDat, void **LdRes, int *NbRes, int AddSrc, char *SelStr, char *InCol)</td></tr>
<tr class="memdesc:ad503d83b076a5e24fbb156ea8e91b3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out a DBloadDynIn with an IN operator.  <a href="#ad503d83b076a5e24fbb156ea8e91b3f4"></a><br/></td></tr>
<tr class="separator:ad503d83b076a5e24fbb156ea8e91b3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8ad15eab5a8ed4f8386b83c7331ebb4d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a8ad15eab5a8ed4f8386b83c7331ebb4d">lcLdMulCtx</a> = <a class="el" href="memoire_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a8ad15eab5a8ed4f8386b83c7331ebb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc971d05d1396571871b25913da847b5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#abc971d05d1396571871b25913da847b5">lcNesTrn</a> = 0</td></tr>
<tr class="separator:abc971d05d1396571871b25913da847b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff5a921ce73af937f5293185ba2ae76"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a0ff5a921ce73af937f5293185ba2ae76">lcNbCnx</a> = 0</td></tr>
<tr class="separator:a0ff5a921ce73af937f5293185ba2ae76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da873887a56a9049ab50f0c2d534dde"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__functions_8c.html#a3da873887a56a9049ab50f0c2d534dde">lcCnxArr</a> [128]</td></tr>
<tr class="separator:a3da873887a56a9049ab50f0c2d534dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Database functions. </p>
<dl class="section user"><dt>Header file</dt><dd><a class="el" href="db__def_8h.html" title="Database functions.">db_def.h</a></dd></dl>
<p>Functions to acced to the database</p>
<dl class="section user"><dt>Acronyme</dt><dd>DB DataBase</dd></dl>
<dl class="section user"><dt>Library</dt><dd>alu</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Jean-Pascal CHEVIN - 29/JUN/1993 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a99be36b53960703fb8679ddd7636e850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CNX_CHG&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a364f338380e0e3c74cda883796ab39c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DB_TRT&#160;&#160;&#160;1003</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a257352427242345bbd4c5e1f136f347f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ONE_COL_WHERE_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af9c89fb5eef4f998d41ac4596b23affc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBbackCnx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change back to the previous connection. </p>
<p>Change back to the previous connection after a connection change through DBchgCnxToAls (). If no previous conection, do nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value. (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Alex RODRIGUEZ - 18/Sep/2007: returns an error if no connection destination.</li>
<li>Alex RODRIGUEZ - 28/Sep/2007: Not returns an error if no connection destination.</li>
<li>Basilio TAMAYO - 21/Sep/2012: Use a pointer to void to get integer global variable</li>
<li>David ROMERO - 04/Mar/2015: Changed lcNbCnx type from int to intptr_t, which is a signed integer type big enough to hold a pointer. This cast corrects warning C4305.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a67a8d5d72e94708626ad09c845a7bfbe" title="Change the current connection to another alias.">DBchgCnxToAls</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aec7bf5076a9fec42434e2040a805ad8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBbackOneCnx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>CnxArr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change back once to the previous connection. </p>
<p>Change back once to the previous connection after a connection change through DBchgOneCnxToAls (). If no connection was changed this function returns an error and has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">CnxArr</td><td>Pointer to an array of two connection numbers correctly initialised or modified by DBchgOneCnxToAls ().</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Mikel ARETXAGA - 04/Feb/2000 Error management</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a9c9b9182cf8831abe13bcebfdd47a0ba" title="Change once the current connection to another alias.">DBchgOneCnxToAls</a> (and its example) </dd></dl>

</div>
</div>
<a class="anchor" id="a1851e4a0abf1425963899c7bc1ad2127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBchangeMultiTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open/Change a connection in a multi-trans context. </p>
<p>Open/Change a connection in a multi-trans context. Verify if a multi-trans connection already exists on a book. If so, change to that connection. Otherwise, open a new connection on this alias and set a transaction on that connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">Als</td><td>Name of the target book alias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a93437e29ae5f7a5203528f1119cfcbe0" title="Open a multiple-book transaction (multi-tran)">DBopenMultiTrans</a>, <a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a>, <a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a67a8d5d72e94708626ad09c845a7bfbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBchgCnxToAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the current connection to another alias. </p>
<p>Change the current connection to another alias. Create a new connection and change the connection to it. This operation may be nested. If a null alias is passed or the alias is an empty string this function has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">Als</td><td>Destination database alias</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value. (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Basilio TAMAYO - 21/Sep/2012: Use a pointer to void to get integer global variable</li>
<li>David ROMERO - 04/Mar/2015: Changed lcNbCnx type from int to intptr_t, which is a signed integer type big enough to hold a pointer. This cast corrects warning C4305.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#af9c89fb5eef4f998d41ac4596b23affc" title="Change back to the previous connection.">DBbackCnx</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9c9b9182cf8831abe13bcebfdd47a0ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBchgOneCnxToAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>CnxArr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change once the current connection to another alias. </p>
<p>Change once the current connection to another alias. Create a new connection and change the connection to it. The caller must hold the previous connection and. This operation may be nested. If a null alias is passed or the alias is an empty string this function has no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">Als</td><td>Destination database alias </td></tr>
    <tr><td class="paramname">CnxArr</td><td>Pointer to an array of two connection numbers. It is important to initialise this array with both numbers equal to handle correctly error recovering.See follow example</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value. (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Nov/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Mikel ARETXAGA - 04/Feb/2000 Error management</li>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#aec7bf5076a9fec42434e2040a805ad8f" title="Change back once to the previous connection.">DBbackOneCnx</a>, <a class="el" href="db__functions_8c.html#a67a8d5d72e94708626ad09c845a7bfbe" title="Change the current connection to another alias.">DBchgCnxToAls</a></dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> CnxArr [2] = {-1, -1}; --&gt; Use always like <span class="keyword">this</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="db__def_8h.html#a6069329fc3f6fc73f0adb8c270fe1e8c" title="Change once the current connection to another alias.">DBchgOneCnxToAls</a> (Ctx, Als, CnxArr);</div>
<div class="line">....</div>
<div class="line"><a class="code" href="db__def_8h.html#a817bdb95b778f58bb030ead783f6eb30" title="Change back once to the previous connection.">DBbackOneCnx</a> (Ctx, CnxArr);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a89122319221c2c4df68505f949317631"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBcommitMultiTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit in a multi-trans context, closing all connections. </p>
<p>Commit in a multi-trans context, closing all connections. For implementation reasons an empty list assumes that a rollback has already been carried out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">EndAls</td><td>Name of the alias to leave the connection. This connection is not closed and should normally be the original alias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a93437e29ae5f7a5203528f1119cfcbe0" title="Open a multiple-book transaction (multi-tran)">DBopenMultiTrans</a>, <a class="el" href="db__functions_8c.html#a1851e4a0abf1425963899c7bc1ad2127" title="Open/Change a connection in a multi-trans context.">DBchangeMultiTrans</a>, <a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a42e5ea4ca4325d59ced61bcabd14b696"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBdeleteInBloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbCols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Multiple delete procedure. </p>
<p>This function delete from a table the rows which are contained in a list. Accepts NbCols variable arguments, which corresponds to the number of columns (from 0 to n) which have to take into account as restrictions when deleting is going to be done from the table. If NbCols is 0, all the columns which contain the list are taking into account as restrictions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Contexte </td></tr>
    <tr><td class="paramname">Table</td><td>Name of the table from where the rows have to been deleted </td></tr>
    <tr><td class="paramname">Ld</td><td>Dynamic list with the data to delete. </td></tr>
    <tr><td class="paramname">NbCols</td><td>The number of column to take as restrictions </td></tr>
    <tr><td class="paramname">...</td><td>Index of the columns to take as restrictions</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 24/Mar/1998 </dd></dl>

</div>
</div>
<a class="anchor" id="ae938ba70165bb10dfa5c337e293a73b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBdiffusTable </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ldBooks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>WithDelete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Table diffusion. </p>
<p>This functions make the diffusion of a table in a set of books</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>connexion where the source tabel is </td></tr>
    <tr><td class="paramname">Table</td><td>name of the table diffused, it must be identical in the target books </td></tr>
    <tr><td class="paramname">ldBooks</td><td>Liste with the target books </td></tr>
    <tr><td class="paramname">WithDelete</td><td>Flag to delete the content of the table before inserting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA &amp; Ramon MARTINEZ- 24/Nov/1997</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Monika MARTIN - 01/Ago/2000 Use of DYNgbGetData</li>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
<li>Aitor UGARTE - 07/Nov/2011: Avoid deadlocks. If it is a multiple transaction and the connection to the alias exists don't try to open a new connection </li>
</ul>

</div>
</div>
<a class="anchor" id="a04f2ba24f31c95649cf35d14a239490f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBexeDynIn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FcnIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Not</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators. </p>
<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators susceptible of exceeding 250 elements (limit imposed by Sybase). In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN/NOT IN set is empty, the string "1 = 2" will be used instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">FcnIdx</td><td>Functions idex (AluEnuFcnWthRes, AluEnuFcnWthOutRes) </td></tr>
    <tr><td class="paramname">Dst</td><td>If distinct elements need to be extracted. Values (tDistinct): (dbAll, dbDistinct) </td></tr>
    <tr><td class="paramname">Not</td><td>Flag to indicate if the sentence is IN or NOT IN (0: IN, 1: NOT IN) </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 17/Jul/2007:</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a85fd61aa0359cd680e9f0acc06fffed1" title="Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators, with allocation step...">DBexeDynInStp</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a85fd61aa0359cd680e9f0acc06fffed1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBexeDynInStp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Stp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FcnIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Not</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators, with allocation step. </p>
<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators susceptible of exceeding 250 elements (limit imposed by Sybase), but specifying the allocation step for the dynamic list. In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN/NOT IN set is empty, the string "1 = 2" will be used instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Stp</td><td>Allocation step for the dynamic list </td></tr>
    <tr><td class="paramname">FcnIdx</td><td>Functions idex (AluEnuFcnWthRes, AluEnuFcnWthOutRes) </td></tr>
    <tr><td class="paramname">Dst</td><td>If distinct elements need to be extracted. Values (tDistinct): (dbAll, dbDistinct) </td></tr>
    <tr><td class="paramname">Not</td><td>Flag to indicate if the sentence is IN or NOT IN (0: IN, 1: NOT IN) </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 01/Jun/2016</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a04f2ba24f31c95649cf35d14a239490f" title="Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators.">DBexeDynIn</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a501085d655c76b8c49c11da9556538df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadDynFile </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>FnameIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a dyn list from a select written in a file. </p>
<p>Load a dyn list from a select written in a file. This functions is usefull when we are debugging and we want to see something in a locked table. Note that the function has it's own error management.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>First parameter </td></tr>
    <tr><td class="paramname">FnameIn</td><td>File name which contains the select (without 'go') </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Result list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Gotzon ETXEBERRIA - 14/May/2001 </dd></dl>

</div>
</div>
<a class="anchor" id="adc708e5d745f2ddfded4657e74388654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadDynFromAls </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Als</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelSen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a SELECT query from another DB -&gt; change connection if not. </p>
<p>Execute a SELECT query from another DB -&gt; change connection if not</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">Als</td><td>Alias of the database to carry out the select </td></tr>
    <tr><td class="paramname">LdRes</td><td>Result list </td></tr>
    <tr><td class="paramname">NbRes</td><td>Number of elements of the resulting list </td></tr>
    <tr><td class="paramname">SelSen</td><td>Complete part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">...</td><td>Variable arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 08/Sep/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 31/Ago/2001 Init OldCnx to avoid warnings</li>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
<li>Nerea RAMOS - 04/Feb/2004: Use GB_STD_SQL_LEN instead of redefine the macro MAXLENGTH </li>
</ul>

</div>
</div>
<a class="anchor" id="a0b0a915fb17c506d79f08a4803ed5de4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadDynFromGv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChgGv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelSen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a SELECT query from Global View -&gt; change connection if not. </p>
<p>Execute a SELECT query. If not in Global View change connection first</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">ChgGv</td><td>Boolean: change to Global View or not </td></tr>
    <tr><td class="paramname">LdRes</td><td>Result list </td></tr>
    <tr><td class="paramname">NbRes</td><td>Number of elements of the resulting list </td></tr>
    <tr><td class="paramname">SelSen</td><td>Complete part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">...</td><td>Variable arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 06/May/1997</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 31/Ago/2001 Init OldCnx to avoid warnings</li>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
<li>Nerea RAMOS - 04/Feb/2004: Use GB_STD_SQL_LEN instead of redefine the macro MAXLENGTH </li>
</ul>

</div>
</div>
<a class="anchor" id="a6607e7ba7bdef95867cb323c27d17a79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadDynIn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a GBloadDyn with an IN operator. </p>
<p>Carry out a GBloadDyn with an IN operator susceptible of exceeding 250 elements (limit imposed by Sybase).</p>
<ul>
<li>In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN set is empty, the string "1 = 2" will be used instead.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Dst</td><td>If distinct elements need to be extracted. Values (tDistinct): dbAll, dbDistinct </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN elements </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 21/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Isma ETXEBERRIA - 16/Nov/1998 InCol added, so that the Select is always carried out and LdRes always has the structure correctly initialised.</li>
<li>Nerea RAMOS - 22/Oct/2001 Correct function name in description header</li>
<li>Alex RODRIGUEZ - 17/Jul/2007: Use of DBexeDynIn function.</li>
<li>Alex RODRIGUEZ - 01/Jul/2010: Add Not parameter to DBexeDynIn.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a52e86b679f2a142bcadb030ddc73246f" title="Carry out a GBloadDyn with an IN operator, specifying the allocation step.">DBloadDynInStp</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a52e86b679f2a142bcadb030ddc73246f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadDynInStp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Stp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a GBloadDyn with an IN operator, specifying the allocation step. </p>
<p>Carry out a GBloadDyn with an IN operator susceptible of exceeding 250 elements (limit imposed by Sybase), but specifying the allocation step for the dynamic list</p>
<ul>
<li>In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN set is empty, the string "1 = 2" will be used instead.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Stp</td><td>Allocation step for the dynamic list </td></tr>
    <tr><td class="paramname">Dst</td><td>If distinct elements need to be extracted. Values (tDistinct): dbAll, dbDistinct </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN elements </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Josune BIKUNA - 01/Jun/2016</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a6607e7ba7bdef95867cb323c27d17a79" title="Carry out a GBloadDyn with an IN operator.">DBloadDynIn</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abfa9339fe3752a0f5dbe6ff93cbe26f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadMultiDyn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ldBooks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ldTot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nbTot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>AddSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlSelect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlWhere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlOrderby</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlGroupby</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a SELECT over several books. </p>
<p>Execute a SELECT over several books.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">ldBooks</td><td>List of books (with at least one column called "als" containing the aliases of the books). If NULL, it does a GBloadDyn on the current connection. </td></tr>
    <tr><td class="paramname">ldTot</td><td>Result list </td></tr>
    <tr><td class="paramname">nbTot</td><td>Number of elements of the resulting list </td></tr>
    <tr><td class="paramname">AddSrc</td><td>Flag to indicate if the als source must be added to each line. If its value is ADD_SOURCE a column 'als' will be added in the returned list with the value of the book alias. In case of ADD_SOURCE this column 'als' will be added indenpendently if ldBooks paramter has a valid list or is NULL. ADD_SOURCE (Add a column with 'als' name) NOT_ADD_SRC (Not add a column with 'als' name) </td></tr>
    <tr><td class="paramname">sqlSelect</td><td>Select part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">sqlWhere</td><td>Where part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">sqlOrderby</td><td>Order by part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">sqlGroupby</td><td>Group by part (see GBloadDyn) </td></tr>
    <tr><td class="paramname">...</td><td>Variable arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value (0 if OK).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 04/Nov/1997</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Isma ETXEBERRIA - 24/Dec/1998</li>
<li>Monika MARTIN - 01/Ago/2000 Use of DYNgbGetData</li>
<li>Nerea RAMOS - 31/Ago/2001 Init OldCnx to avoid warnings</li>
<li>Jon BARRUTIA - 16/Sep/2002. Use GBnewCnxGb allowing crypted param.std</li>
<li>Nerea RAMOS - 12/May/2003. Correct ldBooks parameter description</li>
<li>Nerea RAMOS - 04/Feb/2004: Use GB_STD_SQL_LEN instead of redefine the macro MAXLENGTH</li>
<li>Nerea RAMOS - 23/Jun/2004: Changed function description</li>
<li>Alex RODRIGUEZ - 11/Jan/2005. Add description of paramenter ADD_SOURCE</li>
<li>Jose M.Nunez - 13/Nov/2007: Add alias code when alias list is empty</li>
<li>Josune BIKUNA - 03/Feb/2009: Correct the initialisation of the alias code when it is empty</li>
<li>Aitor UGARTE - 07/Nov/2011: Avoid deadlocks. If it is a multiple transaction and the connection to the alias exists don't try to open a new connection</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="ad503d83b076a5e24fbb156ea8e91b3f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBloadMultiDynIn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="db__def_8h.html#ae3b5edfc61eff88c17cd750e2c62d692">tDistinct</a>&#160;</td>
          <td class="paramname"><em>Dis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdBok</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NbRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>AddSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a DBloadDynIn with an IN operator. </p>
<p>Carry out a DBloadDynIn with an IN operator susceptible of exceeding 250 elements (limit imposed by Sybase).</p>
<ul>
<li>In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN set is empty, the string "1 = 2" will be used instead.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Dis</td><td>If distinct elements need to be extracted. Values (tDistinct): dbAll dbDistinct </td></tr>
    <tr><td class="paramname">LdBok</td><td>List of books (with at least one column called "als" containing the aliases of the books). If NULL, it does a GBloadDyn on the current connection. </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN elements </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result </td></tr>
    <tr><td class="paramname">NbRes</td><td>(out) Number of elements in the resultant list </td></tr>
    <tr><td class="paramname">AddSrc</td><td>Flag to indicate if the als source must be added to each line. If it value is ADD_SOURCE and the alias list where the selection will be launched is NULL, the alias code is not addded to the list. So, the als source is only added when the alias list exists. ADD_SOURCE (Add column with 'als' name) NOT_ADD_SRC </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ismael SERRANO - 17/Apr/2008</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Aitor UGARTE - 07/Nov/2011: Avoid deadlocks. If it is a multiple transaction and the connection to the alias exists don't try to open a new connection</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t </li>
</ul>

</div>
</div>
<a class="anchor" id="a175cf51e9284f90c75aa29576f21f041"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBnestedCommit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a commit in a nested transaction context. </p>
<p>Carry out a commit in a nested transaction context</p>
<ul>
<li>It is IMPORTANT to note that nested transactions while changing connections are not managed.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Basilio TAMAYO - 21/Sep/2012: Use a pointer to void to get integer global variable</li>
<li>David ROMERO - 04/Mar/2015: Changed lcNesTrn type from int to intptr_t, which is a signed integer type big enough to hold a pointer. This cast corrects warning C4305.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a218a959e7ea44d8fd708dea67d06f3cf" title="Set a transaction susceptible of being nested.">DBsetNestedTrans</a>, <a class="el" href="db__functions_8c.html#a82cc80dc2114851e99d17b076a284535" title="Carry out a rollback in a nested transaction context.">DBnestedRollback</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a82cc80dc2114851e99d17b076a284535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBnestedRollback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out a rollback in a nested transaction context. </p>
<p>Carry out a rollback in a nested transaction context if nested transaction. Otherwise do nothing. It is IMPORTANT to note that nested transactions while changing connections (with different contexts) are not correcly managed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value. (0: Ok)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Basilio TAMAYO - 21/Sep/2012: Use a pointer to void to get integer global variable</li>
<li>David ROMERO - 04/Mar/2015: Changed lcNesTrn type from int to intptr_t, which is a signed integer type big enough to hold a pointer. This cast corrects warning C4305.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a218a959e7ea44d8fd708dea67d06f3cf" title="Set a transaction susceptible of being nested.">DBsetNestedTrans</a>, <a class="el" href="db__functions_8c.html#a175cf51e9284f90c75aa29576f21f041" title="Carry out a commit in a nested transaction context.">DBnestedCommit</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a93437e29ae5f7a5203528f1119cfcbe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBopenMultiTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>CurrAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a multiple-book transaction (multi-tran) </p>
<p>Open a multiple-book transaction (multi-tran). Establish the starting point for a multiple-book transaction context. A transaction is set on the existing connection. A new book can be accessed through DBchangeMultiTrans. DBchangeMultiTrans opens a new connection and sets a transaction or changes to the existing connection on that book, should one exist. All connections are kept until the whole transaction is either committed or rolled back through DBcommitMultiTrans or DBrollbackMultiTrans. These are the two possible methods to "close" the multi-trans session. The connection opening/changing and transaction setting is treated internally by DBchangeMultiTrans. Other connections may be opened while using multi-tran. However this is VERY DANGEROUS, because a table blocked in the multi-tran will not be accessible by the same process, ALWAYS causing a non-detectable deadlock. A warning trace has been set in high-level context changing functions (DBchgOneCnxToAls, ...)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">CurrAls</td><td>Name of the current book alias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 20/Jun/2005. Use DYN_VOID</li>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Jesus Maria GARCIA - 07/Oct/2008: The column cnx type is int</li>
<li>Basilio TAMAYO - 13/Sep/2012: size arguments in DYNajoutexCol must be of type size_t</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a1851e4a0abf1425963899c7bc1ad2127" title="Open/Change a connection in a multi-trans context.">DBchangeMultiTrans</a>, <a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a>, <a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a>,</dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordtype">char</span> *CurrAls;</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="glb_def_8h.html#aaf71f3129b87734fc3d6c53ed5cc283b" title="Get the value of variable global Typ.">glbGetStr</a> (<span class="stringliteral">&quot;Als&quot;</span>, &amp;CurrAls); /-* Get alias <span class="keywordflow">for</span> current connection *-/</div>
<div class="line">  <a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="db__def_8h.html#a0138f010a6c506b507281ef8d72f4d2f" title="Open a multiple-book transaction (multi-tran)">DBopenMultiTrans</a> (Ctx, CurrAls));</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="db__def_8h.html#a89fc9795f4d6772f6b764a491f0f68f6" title="Open/Change a connection in a multi-trans context.">DBchangeMultiTrans</a> (Ctx, Als)); /-* Open/change connections *-/</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> (<a class="code" href="db__def_8h.html#a5d8be2487f6c5d1f5b2cddfdd3b8ac85" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a> (Ctx, CurrAls));</div>
<div class="line"></div>
<div class="line">  ERRend: /-* NO <a class="code" href="err_def_8h.html#a4ba6b8261664a96881091edeef199a03">ERRchk</a> () after this point *-/</div>
<div class="line">  <a class="code" href="db__def_8h.html#a565ae9321cad1aea3577e3a7ea5b7ac5" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a> (Ctx, CurrAls); /-* Safe after the commit *-/</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a49d79e97277b6200ef1b705024f573ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBremoveReplicated </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove replicated lines in a table. </p>
<p>Remove replicated lines in a table</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>connexion where the source table is located </td></tr>
    <tr><td class="paramname">Table</td><td>name of the table</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 12/Feb/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management. </li>
</ul>

</div>
</div>
<a class="anchor" id="ac14b27b727d9c7a797059bed50f01b53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBrollbackMultiTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rollback in a multi-trans context, closing all connections. </p>
<p>Rollback in a multi-trans context, closing all connections. For implementation reasons an empty list means that a commit/rollback has already been carried out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">EndAls</td><td>Name of the alias to leave the connection. This connection is not closed and should normally be the original alias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a93437e29ae5f7a5203528f1119cfcbe0" title="Open a multiple-book transaction (multi-tran)">DBopenMultiTrans</a>, <a class="el" href="db__functions_8c.html#a1851e4a0abf1425963899c7bc1ad2127" title="Open/Change a connection in a multi-trans context.">DBchangeMultiTrans</a>, <a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a218a959e7ea44d8fd708dea67d06f3cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBsetNestedTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a transaction susceptible of being nested. </p>
<p>Set a transaction susceptible of being nested. Nested transacion functions must be used together in order to be consisted. The idea of nested transations is that the first function asking for a transaction starts the transaction. Succesive calls to set transactions just increment the level of transaction. As transactions MUST be matched (this is true for normal transactions as well) a commit will just decrement the level of transaction and will only be effective at the last successful commit. If at any level a neste rollback is carried out successive calls to commit will be traduced to rollbacks.</p>
<ul>
<li>It is IMPORTANT TO NOTE that nested transactions while changing connections are not managed.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error value.<ul>
<li>- 0: Ok</li>
<li>- GB_ERREUR: Error while setting transaction</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 23/Jul/1998</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
<li>Basilio TAMAYO - 21/Sep/2012: Use a pointer to void to get integer global variable</li>
<li>David ROMERO - 04/Mar/2015: Changed lcNesTrn type from int to intptr_t, which is a signed integer type big enough to hold a pointer. This cast corrects warning C4305.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a175cf51e9284f90c75aa29576f21f041" title="Carry out a commit in a nested transaction context.">DBnestedCommit</a>, <a class="el" href="db__functions_8c.html#a82cc80dc2114851e99d17b076a284535" title="Carry out a rollback in a nested transaction context.">DBnestedRollback</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a783d46b30ddc4771bcc74657a8438501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DBsetTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a new transaction. </p>
<p>Set a new transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database context </td></tr>
    <tr><td class="paramname">nb_table</td><td>Obsolete parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>???</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management. </li>
</ul>

</div>
</div>
<a class="anchor" id="a99f66be57fd44018dff5d402898f1687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lcCheckMultiTran </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if multi-trans in process and show a trace if so. </p>
<p>Check if multi-trans in process and show a trace if so</p>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#a93437e29ae5f7a5203528f1119cfcbe0" title="Open a multiple-book transaction (multi-tran)">DBopenMultiTrans</a>, <a class="el" href="db__functions_8c.html#a1851e4a0abf1425963899c7bc1ad2127" title="Open/Change a connection in a multi-trans context.">DBchangeMultiTrans</a>, <a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a>, <a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a019afa2314f4242e872ee797cebdc58e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcCreateSqlStmtFxt </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlStmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlVerb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlWhere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlOrderby</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sqlGroupby</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an SQL statement after its components. </p>
<p>Create an SQL statement after its components</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sqlStmt</td><td>Destination string (reserved) </td></tr>
    <tr><td class="paramname">sqlVerb</td><td>1st component </td></tr>
    <tr><td class="paramname">sqlWhere</td><td>2nd component </td></tr>
    <tr><td class="paramname">sqlOrderby</td><td>3rd component </td></tr>
    <tr><td class="paramname">sqlGroupby</td><td>4th component </td></tr>
    <tr><td class="paramname">arg</td><td>Variable arguments (printf-like)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>???</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Nerea RAMOS - 04/Feb/2004: Use GB_STD_SQL_LEN instead of redefine the macro MAXLENGTH </li>
</ul>

</div>
</div>
<a class="anchor" id="a93b9457664a4dcd0bb56cf88fc1e1d6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcDBcloseMultiTrans </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>EndAls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to close a a multi-trans. </p>
<p>Internal function to close a a multi-trans by either committing it or rolling it back * Closing all its connections but one. For implementation reasons an empty list means that a commit/rollback has already been carried out, so it's not considered an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection descriptor </td></tr>
    <tr><td class="paramname">Act</td><td>Action: commit (0) or rollback (1) </td></tr>
    <tr><td class="paramname">EndAls</td><td>Name of the alias to leave the connection. This connection is not closed and should normally be the original alias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0: OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Isma ETXEBERRIA - 10/Apr/2000</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 06/Jul/2007: Add GLBvmmPcs management.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="db__functions_8c.html#ac14b27b727d9c7a797059bed50f01b53" title="Rollback in a multi-trans context, closing all connections.">DBrollbackMultiTrans</a>, <a class="el" href="db__functions_8c.html#a89122319221c2c4df68505f949317631" title="Commit in a multi-trans context, closing all connections.">DBcommitMultiTrans</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad1e6a4497f1be41fc813ccef20d39138"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lcDBexeDynIn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Stp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>FcnIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Not</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ColId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>InCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>SelStr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>LdDat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>LdRes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators. </p>
<p>Carry out a GBimmediate or GBloadDyn with an IN and NOT IN operators susceptible of exceeding 250 elements (limit imposed by Sybase). In order to enable returning always the list with the appropriate structure the "col IN (...)" is formed internally. If the IN/NOT IN set is empty, the string "1 = 2" will be used instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Ctx</td><td>Database connection </td></tr>
    <tr><td class="paramname">Stp</td><td>Allocation step for the dynamic list. In case it is -1, the default allocation step will be used </td></tr>
    <tr><td class="paramname">FcnIdx</td><td>Functions idex (AluEnuFcnWthRes, AluEnuFcnWthOutRes) </td></tr>
    <tr><td class="paramname">Dst</td><td>If distinct elements need to be extracted. Values (tDistinct): (dbAll, dbDistinct) </td></tr>
    <tr><td class="paramname">Not</td><td>Flag to indicate if the sentence is IN or NOT IN (0: IN, 1: NOT IN) </td></tr>
    <tr><td class="paramname">ColId</td><td>Column of LdDat to obtain the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">InCol</td><td>Name of the column to make IN in the SELECT string </td></tr>
    <tr><td class="paramname">SelStr</td><td>All the SELECT sentence with a s to be substituted by "InCol IN (...)" </td></tr>
    <tr><td class="paramname">LdDat</td><td>Dynamic list that contains the IN/NOT IN elements </td></tr>
    <tr><td class="paramname">LdRes</td><td>(out) Address of the list to return the result</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (0 if OK)</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Alex RODRIGUEZ - 17/Jul/2007:</dd></dl>
<dl class="section user"><dt>Modified</dt><dd></dd></dl>
<ul>
<li>Alex RODRIGUEZ - 01/Jul/2010: Add Not parameter and its management.</li>
<li>Alex RODRIGUEZ - 06/Jul/2010: Improve header of function.</li>
<li>Ruben GIL - 06/Sep/2013: Correct size_t warning</li>
<li>Josune BIKUNA - 01/Jun/2016: Do the function local. Add the management of Stp parameter </li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a3da873887a56a9049ab50f0c2d534dde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lcCnxArr[128]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ad15eab5a8ed4f8386b83c7331ebb4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* lcLdMulCtx = <a class="el" href="memoire_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0ff5a921ce73af937f5293185ba2ae76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lcNbCnx = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc971d05d1396571871b25913da847b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lcNesTrn = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="db__functions_8c.html">db_functions.c</a></li>
    <li class="footer">Copyright &#169 ALMIS Informatica Financiera S.L. Reserved all the rights. Generated on Wed Jul 4 2018 22:30:32 for ALU by 
    <a href="http://www.almis.com">
    <img class="footer" src="DxyAlm.png" alt="ALMIS"/></a> </li>
  </ul>
</div>
</body>
</html>
